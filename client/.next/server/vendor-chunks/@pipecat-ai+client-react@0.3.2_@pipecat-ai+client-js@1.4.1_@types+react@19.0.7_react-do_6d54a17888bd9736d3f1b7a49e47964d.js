"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@pipecat-ai+client-react@0.3.2_@pipecat-ai+client-js@1.4.1_@types+react@19.0.7_react-do_6d54a17888bd9736d3f1b7a49e47964d";
exports.ids = ["vendor-chunks/@pipecat-ai+client-react@0.3.2_@pipecat-ai+client-js@1.4.1_@types+react@19.0.7_react-do_6d54a17888bd9736d3f1b7a49e47964d"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@pipecat-ai+client-react@0.3.2_@pipecat-ai+client-js@1.4.1_@types+react@19.0.7_react-do_6d54a17888bd9736d3f1b7a49e47964d/node_modules/@pipecat-ai/client-react/dist/index.module.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@pipecat-ai+client-react@0.3.2_@pipecat-ai+client-js@1.4.1_@types+react@19.0.7_react-do_6d54a17888bd9736d3f1b7a49e47964d/node_modules/@pipecat-ai/client-react/dist/index.module.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RTVIClientAudio: () => (/* binding */ $f8b885726fc652c0$export$ba1245f7cbf3ae02),\n/* harmony export */   RTVIClientProvider: () => (/* binding */ $f3f7d4263dc13c6a$export$4a4ae2d5dc96782),\n/* harmony export */   RTVIClientVideo: () => (/* binding */ $b76d887910983811$export$d090a384943608eb),\n/* harmony export */   VoiceVisualizer: () => (/* binding */ $993a744193844a95$export$59bf27bd43679db6),\n/* harmony export */   useRTVIClient: () => (/* binding */ $54a3c9f5bdbf0854$export$31a5f6a22c9b8fba),\n/* harmony export */   useRTVIClientEvent: () => (/* binding */ $824ea64b5f757259$export$33a6ac53b8f02625),\n/* harmony export */   useRTVIClientMediaDevices: () => (/* binding */ $c7d06534b21735c2$export$652c54907b83a48d),\n/* harmony export */   useRTVIClientMediaTrack: () => (/* binding */ $194c75143b7a1fa0$export$7c03381e0d26a6c3),\n/* harmony export */   useRTVIClientTransportState: () => (/* binding */ $8376ffbc1b1f3c97$export$599fa01283bd4ece)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.1.5_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pipecat-ai/client-js */ \"(ssr)/./node_modules/.pnpm/@pipecat-ai+client-js@1.4.1/node_modules/@pipecat-ai/client-js/dist/index.module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.5_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jotai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jotai */ \"(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@19.0.7_react@19.0.0/node_modules/jotai/esm/vanilla.mjs\");\n/* harmony import */ var jotai_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jotai/react */ \"(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@19.0.7_react@19.0.0/node_modules/jotai/esm/react.mjs\");\n/* harmony import */ var jotai_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jotai/utils */ \"(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@19.0.7_react@19.0.0/node_modules/jotai/esm/vanilla/utils.mjs\");\n/* harmony import */ var jotai_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jotai/utils */ \"(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@19.0.7_react@19.0.0/node_modules/jotai/esm/react/utils.mjs\");\n\n\n\n\n\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\n\n\n\nconst $f3f7d4263dc13c6a$var$defaultStore = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.createStore)();\nconst $f3f7d4263dc13c6a$export$8d2b07cbee622e7c = /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_2__.createContext)({});\nconst $f3f7d4263dc13c6a$export$4a4ae2d5dc96782 = ({ children: children, client: client, jotaiStore: jotaiStore = $f3f7d4263dc13c6a$var$defaultStore })=>{\n    return (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.Provider), {\n        store: jotaiStore,\n        children: (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)($f3f7d4263dc13c6a$export$8d2b07cbee622e7c.Provider, {\n            value: {\n                client: client\n            },\n            children: children\n        })\n    });\n};\n$f3f7d4263dc13c6a$export$4a4ae2d5dc96782.displayName = \"RTVIClientProvider\";\n\n\nconst $54a3c9f5bdbf0854$export$31a5f6a22c9b8fba = ()=>{\n    const { client: client } = (0, react__WEBPACK_IMPORTED_MODULE_2__.useContext)((0, $f3f7d4263dc13c6a$export$8d2b07cbee622e7c));\n    return client;\n};\n\n\nconst $824ea64b5f757259$export$33a6ac53b8f02625 = (event, handler)=>{\n    const client = (0, $54a3c9f5bdbf0854$export$31a5f6a22c9b8fba)();\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!client) return;\n        client.on(event, handler);\n        return ()=>{\n            client.off(event, handler);\n        };\n    }, [\n        event,\n        handler,\n        client\n    ]);\n};\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\n\n\n\n\nconst $194c75143b7a1fa0$var$localAudioTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $194c75143b7a1fa0$var$localVideoTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $194c75143b7a1fa0$var$localScreenAudioTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $194c75143b7a1fa0$var$localScreenVideoTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $194c75143b7a1fa0$var$botAudioTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $194c75143b7a1fa0$var$botVideoTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $194c75143b7a1fa0$var$trackAtom = (0, jotai_utils__WEBPACK_IMPORTED_MODULE_5__.atomFamily)(({ local: local, trackType: trackType })=>{\n    if (local) switch(trackType){\n        case \"audio\":\n            return $194c75143b7a1fa0$var$localAudioTrackAtom;\n        case \"screenAudio\":\n            return $194c75143b7a1fa0$var$localScreenAudioTrackAtom;\n        case \"screenVideo\":\n            return $194c75143b7a1fa0$var$localScreenVideoTrackAtom;\n        case \"video\":\n            return $194c75143b7a1fa0$var$localVideoTrackAtom;\n    }\n    return trackType === \"audio\" ? $194c75143b7a1fa0$var$botAudioTrackAtom : $194c75143b7a1fa0$var$botVideoTrackAtom;\n});\nconst $194c75143b7a1fa0$export$7c03381e0d26a6c3 = (trackType, participantType)=>{\n    const client = (0, $54a3c9f5bdbf0854$export$31a5f6a22c9b8fba)();\n    const track = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($194c75143b7a1fa0$var$trackAtom({\n        local: participantType === \"local\",\n        trackType: trackType\n    }));\n    const updateTrack = (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((get, set, track, trackType, local)=>{\n        const atom = $194c75143b7a1fa0$var$trackAtom({\n            local: local,\n            trackType: trackType\n        });\n        const oldTrack = get(atom);\n        if (oldTrack?.id === track.id) return;\n        set(atom, track);\n    }, [\n        participantType,\n        track,\n        trackType\n    ]));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).TrackStarted, (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((track, participant)=>{\n        updateTrack(track, track.kind, Boolean(participant?.local));\n    }, []));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).ScreenTrackStarted, (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((track, participant)=>{\n        const trackType = track.kind === \"audio\" ? \"screenAudio\" : \"screenVideo\";\n        updateTrack(track, trackType, Boolean(participant?.local));\n    }, []));\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!client) return;\n        const tracks = client.tracks();\n        const track = tracks?.[participantType]?.[trackType];\n        if (!track) return;\n        updateTrack(track, trackType, participantType === \"local\");\n    }, [\n        participantType,\n        trackType,\n        updateTrack,\n        client\n    ]);\n    return track;\n};\n\n\nconst $f8b885726fc652c0$export$ba1245f7cbf3ae02 = ()=>{\n    const botAudioRef = (0, react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const botAudioTrack = (0, $194c75143b7a1fa0$export$7c03381e0d26a6c3)(\"audio\", \"bot\");\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!botAudioRef.current || !botAudioTrack) return;\n        if (botAudioRef.current.srcObject) {\n            const oldTrack = botAudioRef.current.srcObject.getAudioTracks()[0];\n            if (oldTrack.id === botAudioTrack.id) return;\n        }\n        botAudioRef.current.srcObject = new MediaStream([\n            botAudioTrack\n        ]);\n    }, [\n        botAudioTrack\n    ]);\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).SpeakerUpdated, (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((speaker)=>{\n        if (!botAudioRef.current) return;\n        if (typeof botAudioRef.current.setSinkId !== \"function\") return;\n        botAudioRef.current.setSinkId(speaker.deviceId);\n    }, []));\n    return (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment), {\n        children: (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"audio\", {\n            ref: botAudioRef,\n            autoPlay: true\n        })\n    });\n};\n$f8b885726fc652c0$export$ba1245f7cbf3ae02.displayName = \"RTVIClientAudio\";\n\n\n\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n *\n * This file contains code derived from:\n * https://github.com/jaredLunde/react-hook/blob/master/packages/merged-ref/src/index.tsx\n * Original author: Jared Lunde (https://github.com/jaredLunde)\n * Original license: MIT (https://github.com/jaredLunde/react-hook/blob/master/LICENSE)\n */ \nfunction $9098519210cf34e2$var$useMergedRef(...refs) {\n    return (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((element)=>{\n        for(let i = 0; i < refs.length; i++){\n            const ref = refs[i];\n            if (typeof ref === \"function\") ref(element);\n            else if (ref && typeof ref === \"object\") ref.current = element;\n        }\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    refs);\n}\nvar $9098519210cf34e2$export$2e2bcd8739ae039 = $9098519210cf34e2$var$useMergedRef;\n\n\n\nconst $b76d887910983811$export$d090a384943608eb = /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(function VoiceClientVideo({ participant: participant = \"local\", fit: fit = \"contain\", mirror: mirror, onResize: onResize, style: style = {}, trackType: trackType = \"video\", ...props }, ref) {\n    const videoTrack = (0, $194c75143b7a1fa0$export$7c03381e0d26a6c3)(trackType, participant);\n    const videoEl = (0, react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const videoRef = (0, $9098519210cf34e2$export$2e2bcd8739ae039)(videoEl, ref);\n    /**\n     * Handle canplay & picture-in-picture events.\n     */ (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function setupVideoEvents() {\n        const video = videoEl.current;\n        if (!video) return;\n        const playVideo = ()=>{\n            const promise = video.play();\n            if (promise !== undefined) promise.then(()=>{\n                // All good, playback started.\n                video.controls = false;\n            }).catch((error)=>{\n                // Auto-play was prevented. Show video controls, so user can play video manually.\n                video.controls = true;\n                console.warn(\"Failed to play video\", error);\n            });\n        };\n        const handleCanPlay = ()=>{\n            if (!video.paused) return;\n            playVideo();\n        };\n        const handleEnterPIP = ()=>{\n            video.style.transform = \"scale(1)\";\n        };\n        const handleLeavePIP = ()=>{\n            video.style.transform = \"\";\n            setTimeout(()=>{\n                if (video.paused) playVideo();\n            }, 100);\n        };\n        const handleVisibilityChange = ()=>{\n            if (document.visibilityState === \"hidden\") return;\n            if (!video.paused) return;\n            playVideo();\n        };\n        video.addEventListener(\"canplay\", handleCanPlay);\n        video.addEventListener(\"enterpictureinpicture\", handleEnterPIP);\n        video.addEventListener(\"leavepictureinpicture\", handleLeavePIP);\n        // Videos can be paused if media was played in another app on iOS.\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n        return ()=>{\n            video.removeEventListener(\"canplay\", handleCanPlay);\n            video.removeEventListener(\"enterpictureinpicture\", handleEnterPIP);\n            video.removeEventListener(\"leavepictureinpicture\", handleLeavePIP);\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n        };\n    }, []);\n    /**\n     * Update srcObject.\n     */ (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function updateSrcObject() {\n        const video = videoEl.current;\n        if (!video || !videoTrack) return;\n        video.srcObject = new MediaStream([\n            videoTrack\n        ]);\n        video.load();\n        return ()=>{\n            // clean up when unmounted\n            video.srcObject = null;\n            video.load();\n        };\n    }, [\n        videoTrack,\n        videoTrack?.id\n    ]);\n    /**\n     * Add optional event listener for resize event so the parent component\n     * can know the video's native aspect ratio.\n     */ (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function reportVideoDimensions() {\n        const video = videoEl.current;\n        if (!onResize || !video) return;\n        let frame;\n        function handleResize() {\n            if (frame) cancelAnimationFrame(frame);\n            frame = requestAnimationFrame(()=>{\n                const video = videoEl.current;\n                if (!video || document.hidden) return;\n                const videoWidth = video.videoWidth;\n                const videoHeight = video.videoHeight;\n                if (videoWidth && videoHeight) onResize?.({\n                    aspectRatio: videoWidth / videoHeight,\n                    height: videoHeight,\n                    width: videoWidth\n                });\n            });\n        }\n        handleResize();\n        video.addEventListener(\"loadedmetadata\", handleResize);\n        video.addEventListener(\"resize\", handleResize);\n        return ()=>{\n            if (frame) cancelAnimationFrame(frame);\n            video.removeEventListener(\"loadedmetadata\", handleResize);\n            video.removeEventListener(\"resize\", handleResize);\n        };\n    }, [\n        onResize\n    ]);\n    return (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"video\", {\n        autoPlay: true,\n        muted: true,\n        playsInline: true,\n        ref: videoRef,\n        style: {\n            objectFit: fit,\n            transform: mirror ? \"scale(-1, 1)\" : \"\",\n            ...style\n        },\n        ...props\n    });\n});\n$b76d887910983811$export$d090a384943608eb.displayName = \"RTVIClientVideo\";\n\n\n\n\n\n\n\n\n\n\nconst $c7d06534b21735c2$var$availableMicsAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)([]);\nconst $c7d06534b21735c2$var$availableCamsAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)([]);\nconst $c7d06534b21735c2$var$availableSpeakersAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)([]);\nconst $c7d06534b21735c2$var$selectedMicAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)({});\nconst $c7d06534b21735c2$var$selectedCamAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)({});\nconst $c7d06534b21735c2$var$selectedSpeakerAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)({});\nconst $c7d06534b21735c2$export$652c54907b83a48d = ()=>{\n    const client = (0, $54a3c9f5bdbf0854$export$31a5f6a22c9b8fba)();\n    const availableCams = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($c7d06534b21735c2$var$availableCamsAtom);\n    const availableMics = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($c7d06534b21735c2$var$availableMicsAtom);\n    const availableSpeakers = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($c7d06534b21735c2$var$availableSpeakersAtom);\n    const selectedCam = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($c7d06534b21735c2$var$selectedCamAtom);\n    const selectedMic = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($c7d06534b21735c2$var$selectedMicAtom);\n    const selectedSpeaker = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($c7d06534b21735c2$var$selectedSpeakerAtom);\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).AvailableCamsUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, cams)=>{\n        set($c7d06534b21735c2$var$availableCamsAtom, cams);\n    }, [])));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).AvailableMicsUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, mics)=>{\n        set($c7d06534b21735c2$var$availableMicsAtom, mics);\n    }, [])));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).AvailableSpeakersUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, speakers)=>{\n        set($c7d06534b21735c2$var$availableSpeakersAtom, speakers);\n    }, [])));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).CamUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, cam)=>{\n        set($c7d06534b21735c2$var$selectedCamAtom, cam);\n    }, [])));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).MicUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, mic)=>{\n        set($c7d06534b21735c2$var$selectedMicAtom, mic);\n    }, [])));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).SpeakerUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, speaker)=>{\n        set($c7d06534b21735c2$var$selectedSpeakerAtom, speaker);\n    }, [])));\n    const updateCam = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((id)=>{\n        client?.updateCam(id);\n    }, [\n        client\n    ]);\n    const updateMic = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((id)=>{\n        client?.updateMic(id);\n    }, [\n        client\n    ]);\n    const updateSpeaker = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((id)=>{\n        client?.updateSpeaker(id);\n    }, [\n        client\n    ]);\n    return {\n        availableCams: availableCams,\n        availableMics: availableMics,\n        availableSpeakers: availableSpeakers,\n        selectedCam: selectedCam,\n        selectedMic: selectedMic,\n        selectedSpeaker: selectedSpeaker,\n        updateCam: updateCam,\n        updateMic: updateMic,\n        updateSpeaker: updateSpeaker\n    };\n};\n\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\n\nconst $8376ffbc1b1f3c97$var$transportStateAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(\"disconnected\");\nconst $8376ffbc1b1f3c97$export$599fa01283bd4ece = ()=>{\n    const [transportState, setTransportState] = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtom)($8376ffbc1b1f3c97$var$transportStateAtom);\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).TransportStateChanged, setTransportState);\n    return transportState;\n};\n\n\n\n\n\nconst $993a744193844a95$export$59bf27bd43679db6 = /*#__PURE__*/ (0, (react__WEBPACK_IMPORTED_MODULE_2___default())).memo(({ backgroundColor: backgroundColor = \"transparent\", barColor: barColor = \"black\", barWidth: barWidth = 30, barGap: barGap = 12, barMaxHeight: barMaxHeight = 120, participantType: participantType })=>{\n    const canvasRef = (0, react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const track = (0, $194c75143b7a1fa0$export$7c03381e0d26a6c3)(\"audio\", participantType);\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!canvasRef.current) return;\n        const canvasWidth = 5 * barWidth + 4 * barGap;\n        const canvasHeight = barMaxHeight;\n        const canvas = canvasRef.current;\n        const scaleFactor = 2;\n        // Make canvas fill the width and height of its container\n        const resizeCanvas = ()=>{\n            canvas.width = canvasWidth * scaleFactor;\n            canvas.height = canvasHeight * scaleFactor;\n            canvas.style.width = `${canvasWidth}px`;\n            canvas.style.height = `${canvasHeight}px`;\n            canvasCtx.lineCap = \"round\";\n            canvasCtx.scale(scaleFactor, scaleFactor);\n        };\n        const canvasCtx = canvas.getContext(\"2d\");\n        resizeCanvas();\n        if (!track) return;\n        const audioContext = new AudioContext();\n        const source = audioContext.createMediaStreamSource(new MediaStream([\n            track\n        ]));\n        const analyser = audioContext.createAnalyser();\n        analyser.fftSize = 1024;\n        source.connect(analyser);\n        const frequencyData = new Uint8Array(analyser.frequencyBinCount);\n        canvasCtx.lineCap = \"round\";\n        const bands = [\n            {\n                startFreq: 85,\n                endFreq: 255,\n                smoothValue: 0\n            },\n            {\n                startFreq: 255,\n                endFreq: 500,\n                smoothValue: 0\n            },\n            {\n                startFreq: 500,\n                endFreq: 2000,\n                smoothValue: 0\n            },\n            {\n                startFreq: 2000,\n                endFreq: 4000,\n                smoothValue: 0\n            },\n            {\n                startFreq: 4000,\n                endFreq: 8000,\n                smoothValue: 0\n            }\n        ];\n        const getFrequencyBinIndex = (frequency)=>{\n            const nyquist = audioContext.sampleRate / 2;\n            return Math.round(frequency / nyquist * (analyser.frequencyBinCount - 1));\n        };\n        function drawSpectrum() {\n            analyser.getByteFrequencyData(frequencyData);\n            canvasCtx.clearRect(0, 0, canvas.width / scaleFactor, canvas.height / scaleFactor);\n            canvasCtx.fillStyle = backgroundColor;\n            canvasCtx.fillRect(0, 0, canvas.width / scaleFactor, canvas.height / scaleFactor);\n            let isActive = false;\n            const totalBarsWidth = bands.length * barWidth + (bands.length - 1) * barGap;\n            const startX = (canvas.width / scaleFactor - totalBarsWidth) / 2; // Center bars\n            const adjustedCircleRadius = barWidth / 2; // Fixed radius for reset circles\n            bands.forEach((band, i)=>{\n                const startIndex = getFrequencyBinIndex(band.startFreq);\n                const endIndex = getFrequencyBinIndex(band.endFreq);\n                const bandData = frequencyData.slice(startIndex, endIndex);\n                const bandValue = bandData.reduce((acc, val)=>acc + val, 0) / bandData.length;\n                const smoothingFactor = 0.2;\n                if (bandValue < 1) band.smoothValue = Math.max(band.smoothValue - smoothingFactor * 5, 0);\n                else {\n                    band.smoothValue = band.smoothValue + (bandValue - band.smoothValue) * smoothingFactor;\n                    isActive = true;\n                }\n                const x = startX + i * (barWidth + barGap);\n                // Calculate bar height with a maximum cap\n                const barHeight = Math.min(band.smoothValue / 255 * barMaxHeight, barMaxHeight);\n                const yTop = Math.max(canvas.height / scaleFactor / 2 - barHeight / 2, adjustedCircleRadius);\n                const yBottom = Math.min(canvas.height / scaleFactor / 2 + barHeight / 2, canvas.height / scaleFactor - adjustedCircleRadius);\n                if (band.smoothValue > 0) {\n                    canvasCtx.beginPath();\n                    canvasCtx.moveTo(x + barWidth / 2, yTop);\n                    canvasCtx.lineTo(x + barWidth / 2, yBottom);\n                    canvasCtx.lineWidth = barWidth;\n                    canvasCtx.strokeStyle = barColor;\n                    canvasCtx.stroke();\n                } else {\n                    canvasCtx.beginPath();\n                    canvasCtx.arc(x + barWidth / 2, canvas.height / scaleFactor / 2, adjustedCircleRadius, 0, 2 * Math.PI);\n                    canvasCtx.fillStyle = barColor;\n                    canvasCtx.fill();\n                    canvasCtx.closePath();\n                }\n            });\n            if (!isActive) drawInactiveCircles(adjustedCircleRadius, barColor);\n            requestAnimationFrame(drawSpectrum);\n        }\n        function drawInactiveCircles(circleRadius, color) {\n            const totalBarsWidth = bands.length * barWidth + (bands.length - 1) * barGap;\n            const startX = (canvas.width / scaleFactor - totalBarsWidth) / 2;\n            const y = canvas.height / scaleFactor / 2;\n            bands.forEach((_, i)=>{\n                const x = startX + i * (barWidth + barGap);\n                canvasCtx.beginPath();\n                canvasCtx.arc(x + barWidth / 2, y, circleRadius, 0, 2 * Math.PI);\n                canvasCtx.fillStyle = color;\n                canvasCtx.fill();\n                canvasCtx.closePath();\n            });\n        }\n        drawSpectrum();\n        // Handle resizing\n        window.addEventListener(\"resize\", resizeCanvas);\n        return ()=>{\n            audioContext.close();\n            window.removeEventListener(\"resize\", resizeCanvas);\n        };\n    }, [\n        backgroundColor,\n        barColor,\n        barGap,\n        barMaxHeight,\n        barWidth,\n        track\n    ]);\n    return (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"canvas\", {\n        ref: canvasRef,\n        style: {\n            display: \"block\",\n            width: \"100%\",\n            height: \"100%\"\n        }\n    });\n});\n$993a744193844a95$export$59bf27bd43679db6.displayName = \"VoiceVisualizer\";\n\n\n\n\n\n//# sourceMappingURL=index.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBpcGVjYXQtYWkrY2xpZW50LXJlYWN0QDAuMy4yX0BwaXBlY2F0LWFpK2NsaWVudC1qc0AxLjQuMV9AdHlwZXMrcmVhY3RAMTkuMC43X3JlYWN0LWRvXzZkNTRhMTc4ODhiZDk3MzZkM2YxYjdhNDllNDc5NjRkL25vZGVfbW9kdWxlcy9AcGlwZWNhdC1haS9jbGllbnQtcmVhY3QvZGlzdC9pbmRleC5tb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlGO0FBQ2I7QUFDbUs7QUFDMUY7QUFDckY7QUFDK0M7O0FBRXZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBLCtDQUErQyw4Q0FBa0I7QUFDakUsb0VBQW9FLGdEQUFvQixJQUFJO0FBQzVGLG9EQUFvRCxpR0FBaUc7QUFDckosZUFBZSxrREFBVSxNQUFNLGlEQUFlO0FBQzlDO0FBQ0Esc0JBQXNCLGtEQUFVO0FBQ2hDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7OztBQUdBO0FBQ0EsWUFBWSxpQkFBaUIsTUFBTSw2Q0FBaUI7QUFDcEQ7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLFFBQVEsNENBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUEsc0RBQXNELHVDQUFXO0FBQ2pFLHNEQUFzRCx1Q0FBVztBQUNqRSw0REFBNEQsdUNBQVc7QUFDdkUsNERBQTRELHVDQUFXO0FBQ3ZFLG9EQUFvRCx1Q0FBVztBQUMvRCxvREFBb0QsdUNBQVc7QUFDL0QsNENBQTRDLG1EQUFpQixLQUFLLG9DQUFvQztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RTtBQUM5RSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrREFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEOzs7OztBQUt1bEI7QUFDdmxCIiwic291cmNlcyI6WyIvVXNlcnMvamlhd2Vuemh1L0RldmVsb3Blci9KYXN0YWxrX3ZhcGkvY2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS9AcGlwZWNhdC1haStjbGllbnQtcmVhY3RAMC4zLjJfQHBpcGVjYXQtYWkrY2xpZW50LWpzQDEuNC4xX0B0eXBlcytyZWFjdEAxOS4wLjdfcmVhY3QtZG9fNmQ1NGExNzg4OGJkOTczNmQzZjFiN2E0OWU0Nzk2NGQvbm9kZV9tb2R1bGVzL0BwaXBlY2F0LWFpL2NsaWVudC1yZWFjdC9kaXN0L2luZGV4Lm1vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2pzeCBhcyAkaDlsWHokanN4LCBGcmFnbWVudCBhcyAkaDlsWHokRnJhZ21lbnR9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHtSVFZJRXZlbnQgYXMgJGg5bFh6JFJUVklFdmVudH0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1qc1wiO1xuaW1wb3J0ICRoOWxYeiRyZWFjdCwge3VzZVJlZiBhcyAkaDlsWHokdXNlUmVmLCB1c2VFZmZlY3QgYXMgJGg5bFh6JHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgYXMgJGg5bFh6JHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0IGFzICRoOWxYeiR1c2VDb250ZXh0LCBjcmVhdGVDb250ZXh0IGFzICRoOWxYeiRjcmVhdGVDb250ZXh0LCBmb3J3YXJkUmVmIGFzICRoOWxYeiRmb3J3YXJkUmVmfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Y3JlYXRlU3RvcmUgYXMgJGg5bFh6JGNyZWF0ZVN0b3JlLCBhdG9tIGFzICRoOWxYeiRhdG9tLCB1c2VBdG9tVmFsdWUgYXMgJGg5bFh6JHVzZUF0b21WYWx1ZSwgdXNlQXRvbSBhcyAkaDlsWHokdXNlQXRvbX0gZnJvbSBcImpvdGFpXCI7XG5pbXBvcnQge1Byb3ZpZGVyIGFzICRoOWxYeiRQcm92aWRlcn0gZnJvbSBcImpvdGFpL3JlYWN0XCI7XG5pbXBvcnQge2F0b21GYW1pbHkgYXMgJGg5bFh6JGF0b21GYW1pbHksIHVzZUF0b21DYWxsYmFjayBhcyAkaDlsWHokdXNlQXRvbUNhbGxiYWNrfSBmcm9tIFwiam90YWkvdXRpbHNcIjtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQsIERhaWx5LlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMi1DbGF1c2VcbiAqLyBcblxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIFxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQsIERhaWx5LlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMi1DbGF1c2VcbiAqLyBcblxuXG5cblxuY29uc3QgJGYzZjdkNDI2M2RjMTNjNmEkdmFyJGRlZmF1bHRTdG9yZSA9ICgwLCAkaDlsWHokY3JlYXRlU3RvcmUpKCk7XG5jb25zdCAkZjNmN2Q0MjYzZGMxM2M2YSRleHBvcnQkOGQyYjA3Y2JlZTYyMmU3YyA9IC8qI19fUFVSRV9fKi8gKDAsICRoOWxYeiRjcmVhdGVDb250ZXh0KSh7fSk7XG5jb25zdCAkZjNmN2Q0MjYzZGMxM2M2YSRleHBvcnQkNGE0YWUyZDVkYzk2NzgyID0gKHsgY2hpbGRyZW46IGNoaWxkcmVuLCBjbGllbnQ6IGNsaWVudCwgam90YWlTdG9yZTogam90YWlTdG9yZSA9ICRmM2Y3ZDQyNjNkYzEzYzZhJHZhciRkZWZhdWx0U3RvcmUgfSk9PntcbiAgICByZXR1cm4gKDAsICRoOWxYeiRqc3gpKCgwLCAkaDlsWHokUHJvdmlkZXIpLCB7XG4gICAgICAgIHN0b3JlOiBqb3RhaVN0b3JlLFxuICAgICAgICBjaGlsZHJlbjogKDAsICRoOWxYeiRqc3gpKCRmM2Y3ZDQyNjNkYzEzYzZhJGV4cG9ydCQ4ZDJiMDdjYmVlNjIyZTdjLlByb3ZpZGVyLCB7XG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIGNsaWVudDogY2xpZW50XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgICAgIH0pXG4gICAgfSk7XG59O1xuJGYzZjdkNDI2M2RjMTNjNmEkZXhwb3J0JDRhNGFlMmQ1ZGM5Njc4Mi5kaXNwbGF5TmFtZSA9IFwiUlRWSUNsaWVudFByb3ZpZGVyXCI7XG5cblxuY29uc3QgJDU0YTNjOWY1YmRiZjA4NTQkZXhwb3J0JDMxYTVmNmEyMmM5YjhmYmEgPSAoKT0+e1xuICAgIGNvbnN0IHsgY2xpZW50OiBjbGllbnQgfSA9ICgwLCAkaDlsWHokdXNlQ29udGV4dCkoKDAsICRmM2Y3ZDQyNjNkYzEzYzZhJGV4cG9ydCQ4ZDJiMDdjYmVlNjIyZTdjKSk7XG4gICAgcmV0dXJuIGNsaWVudDtcbn07XG5cblxuY29uc3QgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUgPSAoZXZlbnQsIGhhbmRsZXIpPT57XG4gICAgY29uc3QgY2xpZW50ID0gKDAsICQ1NGEzYzlmNWJkYmYwODU0JGV4cG9ydCQzMWE1ZjZhMjJjOWI4ZmJhKSgpO1xuICAgICgwLCAkaDlsWHokdXNlRWZmZWN0KSgoKT0+e1xuICAgICAgICBpZiAoIWNsaWVudCkgcmV0dXJuO1xuICAgICAgICBjbGllbnQub24oZXZlbnQsIGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgIGNsaWVudC5vZmYoZXZlbnQsIGhhbmRsZXIpO1xuICAgICAgICB9O1xuICAgIH0sIFtcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIGhhbmRsZXIsXG4gICAgICAgIGNsaWVudFxuICAgIF0pO1xufTtcblxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIFxuXG5cblxuXG5cbmNvbnN0ICQxOTRjNzUxNDNiN2ExZmEwJHZhciRsb2NhbEF1ZGlvVHJhY2tBdG9tID0gKDAsICRoOWxYeiRhdG9tKShudWxsKTtcbmNvbnN0ICQxOTRjNzUxNDNiN2ExZmEwJHZhciRsb2NhbFZpZGVvVHJhY2tBdG9tID0gKDAsICRoOWxYeiRhdG9tKShudWxsKTtcbmNvbnN0ICQxOTRjNzUxNDNiN2ExZmEwJHZhciRsb2NhbFNjcmVlbkF1ZGlvVHJhY2tBdG9tID0gKDAsICRoOWxYeiRhdG9tKShudWxsKTtcbmNvbnN0ICQxOTRjNzUxNDNiN2ExZmEwJHZhciRsb2NhbFNjcmVlblZpZGVvVHJhY2tBdG9tID0gKDAsICRoOWxYeiRhdG9tKShudWxsKTtcbmNvbnN0ICQxOTRjNzUxNDNiN2ExZmEwJHZhciRib3RBdWRpb1RyYWNrQXRvbSA9ICgwLCAkaDlsWHokYXRvbSkobnVsbCk7XG5jb25zdCAkMTk0Yzc1MTQzYjdhMWZhMCR2YXIkYm90VmlkZW9UcmFja0F0b20gPSAoMCwgJGg5bFh6JGF0b20pKG51bGwpO1xuY29uc3QgJDE5NGM3NTE0M2I3YTFmYTAkdmFyJHRyYWNrQXRvbSA9ICgwLCAkaDlsWHokYXRvbUZhbWlseSkoKHsgbG9jYWw6IGxvY2FsLCB0cmFja1R5cGU6IHRyYWNrVHlwZSB9KT0+e1xuICAgIGlmIChsb2NhbCkgc3dpdGNoKHRyYWNrVHlwZSl7XG4gICAgICAgIGNhc2UgXCJhdWRpb1wiOlxuICAgICAgICAgICAgcmV0dXJuICQxOTRjNzUxNDNiN2ExZmEwJHZhciRsb2NhbEF1ZGlvVHJhY2tBdG9tO1xuICAgICAgICBjYXNlIFwic2NyZWVuQXVkaW9cIjpcbiAgICAgICAgICAgIHJldHVybiAkMTk0Yzc1MTQzYjdhMWZhMCR2YXIkbG9jYWxTY3JlZW5BdWRpb1RyYWNrQXRvbTtcbiAgICAgICAgY2FzZSBcInNjcmVlblZpZGVvXCI6XG4gICAgICAgICAgICByZXR1cm4gJDE5NGM3NTE0M2I3YTFmYTAkdmFyJGxvY2FsU2NyZWVuVmlkZW9UcmFja0F0b207XG4gICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgICAgICAgcmV0dXJuICQxOTRjNzUxNDNiN2ExZmEwJHZhciRsb2NhbFZpZGVvVHJhY2tBdG9tO1xuICAgIH1cbiAgICByZXR1cm4gdHJhY2tUeXBlID09PSBcImF1ZGlvXCIgPyAkMTk0Yzc1MTQzYjdhMWZhMCR2YXIkYm90QXVkaW9UcmFja0F0b20gOiAkMTk0Yzc1MTQzYjdhMWZhMCR2YXIkYm90VmlkZW9UcmFja0F0b207XG59KTtcbmNvbnN0ICQxOTRjNzUxNDNiN2ExZmEwJGV4cG9ydCQ3YzAzMzgxZTBkMjZhNmMzID0gKHRyYWNrVHlwZSwgcGFydGljaXBhbnRUeXBlKT0+e1xuICAgIGNvbnN0IGNsaWVudCA9ICgwLCAkNTRhM2M5ZjViZGJmMDg1NCRleHBvcnQkMzFhNWY2YTIyYzliOGZiYSkoKTtcbiAgICBjb25zdCB0cmFjayA9ICgwLCAkaDlsWHokdXNlQXRvbVZhbHVlKSgkMTk0Yzc1MTQzYjdhMWZhMCR2YXIkdHJhY2tBdG9tKHtcbiAgICAgICAgbG9jYWw6IHBhcnRpY2lwYW50VHlwZSA9PT0gXCJsb2NhbFwiLFxuICAgICAgICB0cmFja1R5cGU6IHRyYWNrVHlwZVxuICAgIH0pKTtcbiAgICBjb25zdCB1cGRhdGVUcmFjayA9ICgwLCAkaDlsWHokdXNlQXRvbUNhbGxiYWNrKSgoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoZ2V0LCBzZXQsIHRyYWNrLCB0cmFja1R5cGUsIGxvY2FsKT0+e1xuICAgICAgICBjb25zdCBhdG9tID0gJDE5NGM3NTE0M2I3YTFmYTAkdmFyJHRyYWNrQXRvbSh7XG4gICAgICAgICAgICBsb2NhbDogbG9jYWwsXG4gICAgICAgICAgICB0cmFja1R5cGU6IHRyYWNrVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgb2xkVHJhY2sgPSBnZXQoYXRvbSk7XG4gICAgICAgIGlmIChvbGRUcmFjaz8uaWQgPT09IHRyYWNrLmlkKSByZXR1cm47XG4gICAgICAgIHNldChhdG9tLCB0cmFjayk7XG4gICAgfSwgW1xuICAgICAgICBwYXJ0aWNpcGFudFR5cGUsXG4gICAgICAgIHRyYWNrLFxuICAgICAgICB0cmFja1R5cGVcbiAgICBdKSk7XG4gICAgKDAsICQ4MjRlYTY0YjVmNzU3MjU5JGV4cG9ydCQzM2E2YWM1M2I4ZjAyNjI1KSgoMCwgJGg5bFh6JFJUVklFdmVudCkuVHJhY2tTdGFydGVkLCAoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgodHJhY2ssIHBhcnRpY2lwYW50KT0+e1xuICAgICAgICB1cGRhdGVUcmFjayh0cmFjaywgdHJhY2sua2luZCwgQm9vbGVhbihwYXJ0aWNpcGFudD8ubG9jYWwpKTtcbiAgICB9LCBbXSkpO1xuICAgICgwLCAkODI0ZWE2NGI1Zjc1NzI1OSRleHBvcnQkMzNhNmFjNTNiOGYwMjYyNSkoKDAsICRoOWxYeiRSVFZJRXZlbnQpLlNjcmVlblRyYWNrU3RhcnRlZCwgKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKHRyYWNrLCBwYXJ0aWNpcGFudCk9PntcbiAgICAgICAgY29uc3QgdHJhY2tUeXBlID0gdHJhY2sua2luZCA9PT0gXCJhdWRpb1wiID8gXCJzY3JlZW5BdWRpb1wiIDogXCJzY3JlZW5WaWRlb1wiO1xuICAgICAgICB1cGRhdGVUcmFjayh0cmFjaywgdHJhY2tUeXBlLCBCb29sZWFuKHBhcnRpY2lwYW50Py5sb2NhbCkpO1xuICAgIH0sIFtdKSk7XG4gICAgKDAsICRoOWxYeiR1c2VFZmZlY3QpKCgpPT57XG4gICAgICAgIGlmICghY2xpZW50KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRyYWNrcyA9IGNsaWVudC50cmFja3MoKTtcbiAgICAgICAgY29uc3QgdHJhY2sgPSB0cmFja3M/LltwYXJ0aWNpcGFudFR5cGVdPy5bdHJhY2tUeXBlXTtcbiAgICAgICAgaWYgKCF0cmFjaykgcmV0dXJuO1xuICAgICAgICB1cGRhdGVUcmFjayh0cmFjaywgdHJhY2tUeXBlLCBwYXJ0aWNpcGFudFR5cGUgPT09IFwibG9jYWxcIik7XG4gICAgfSwgW1xuICAgICAgICBwYXJ0aWNpcGFudFR5cGUsXG4gICAgICAgIHRyYWNrVHlwZSxcbiAgICAgICAgdXBkYXRlVHJhY2ssXG4gICAgICAgIGNsaWVudFxuICAgIF0pO1xuICAgIHJldHVybiB0cmFjaztcbn07XG5cblxuY29uc3QgJGY4Yjg4NTcyNmZjNjUyYzAkZXhwb3J0JGJhMTI0NWY3Y2JmM2FlMDIgPSAoKT0+e1xuICAgIGNvbnN0IGJvdEF1ZGlvUmVmID0gKDAsICRoOWxYeiR1c2VSZWYpKG51bGwpO1xuICAgIGNvbnN0IGJvdEF1ZGlvVHJhY2sgPSAoMCwgJDE5NGM3NTE0M2I3YTFmYTAkZXhwb3J0JDdjMDMzODFlMGQyNmE2YzMpKFwiYXVkaW9cIiwgXCJib3RcIik7XG4gICAgKDAsICRoOWxYeiR1c2VFZmZlY3QpKCgpPT57XG4gICAgICAgIGlmICghYm90QXVkaW9SZWYuY3VycmVudCB8fCAhYm90QXVkaW9UcmFjaykgcmV0dXJuO1xuICAgICAgICBpZiAoYm90QXVkaW9SZWYuY3VycmVudC5zcmNPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFRyYWNrID0gYm90QXVkaW9SZWYuY3VycmVudC5zcmNPYmplY3QuZ2V0QXVkaW9UcmFja3MoKVswXTtcbiAgICAgICAgICAgIGlmIChvbGRUcmFjay5pZCA9PT0gYm90QXVkaW9UcmFjay5pZCkgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJvdEF1ZGlvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbmV3IE1lZGlhU3RyZWFtKFtcbiAgICAgICAgICAgIGJvdEF1ZGlvVHJhY2tcbiAgICAgICAgXSk7XG4gICAgfSwgW1xuICAgICAgICBib3RBdWRpb1RyYWNrXG4gICAgXSk7XG4gICAgKDAsICQ4MjRlYTY0YjVmNzU3MjU5JGV4cG9ydCQzM2E2YWM1M2I4ZjAyNjI1KSgoMCwgJGg5bFh6JFJUVklFdmVudCkuU3BlYWtlclVwZGF0ZWQsICgwLCAkaDlsWHokdXNlQ2FsbGJhY2spKChzcGVha2VyKT0+e1xuICAgICAgICBpZiAoIWJvdEF1ZGlvUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBib3RBdWRpb1JlZi5jdXJyZW50LnNldFNpbmtJZCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XG4gICAgICAgIGJvdEF1ZGlvUmVmLmN1cnJlbnQuc2V0U2lua0lkKHNwZWFrZXIuZGV2aWNlSWQpO1xuICAgIH0sIFtdKSk7XG4gICAgcmV0dXJuICgwLCAkaDlsWHokanN4KSgoMCwgJGg5bFh6JEZyYWdtZW50KSwge1xuICAgICAgICBjaGlsZHJlbjogKDAsICRoOWxYeiRqc3gpKFwiYXVkaW9cIiwge1xuICAgICAgICAgICAgcmVmOiBib3RBdWRpb1JlZixcbiAgICAgICAgICAgIGF1dG9QbGF5OiB0cnVlXG4gICAgICAgIH0pXG4gICAgfSk7XG59O1xuJGY4Yjg4NTcyNmZjNjUyYzAkZXhwb3J0JGJhMTI0NWY3Y2JmM2FlMDIuZGlzcGxheU5hbWUgPSBcIlJUVklDbGllbnRBdWRpb1wiO1xuXG5cblxuXG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKlxuICogVGhpcyBmaWxlIGNvbnRhaW5zIGNvZGUgZGVyaXZlZCBmcm9tOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2phcmVkTHVuZGUvcmVhY3QtaG9vay9ibG9iL21hc3Rlci9wYWNrYWdlcy9tZXJnZWQtcmVmL3NyYy9pbmRleC50c3hcbiAqIE9yaWdpbmFsIGF1dGhvcjogSmFyZWQgTHVuZGUgKGh0dHBzOi8vZ2l0aHViLmNvbS9qYXJlZEx1bmRlKVxuICogT3JpZ2luYWwgbGljZW5zZTogTUlUIChodHRwczovL2dpdGh1Yi5jb20vamFyZWRMdW5kZS9yZWFjdC1ob29rL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKi8gXG5mdW5jdGlvbiAkOTA5ODUxOTIxMGNmMzRlMiR2YXIkdXNlTWVyZ2VkUmVmKC4uLnJlZnMpIHtcbiAgICByZXR1cm4gKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKGVsZW1lbnQpPT57XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCByZWZzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IHJlZiA9IHJlZnNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlZiA9PT0gXCJmdW5jdGlvblwiKSByZWYoZWxlbWVudCk7XG4gICAgICAgICAgICBlbHNlIGlmIChyZWYgJiYgdHlwZW9mIHJlZiA9PT0gXCJvYmplY3RcIikgcmVmLmN1cnJlbnQgPSBlbGVtZW50O1xuICAgICAgICB9XG4gICAgfSwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIHJlZnMpO1xufVxudmFyICQ5MDk4NTE5MjEwY2YzNGUyJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkgPSAkOTA5ODUxOTIxMGNmMzRlMiR2YXIkdXNlTWVyZ2VkUmVmO1xuXG5cblxuY29uc3QgJGI3NmQ4ODc5MTA5ODM4MTEkZXhwb3J0JGQwOTBhMzg0OTQzNjA4ZWIgPSAvKiNfX1BVUkVfXyovICgwLCAkaDlsWHokZm9yd2FyZFJlZikoZnVuY3Rpb24gVm9pY2VDbGllbnRWaWRlbyh7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCA9IFwibG9jYWxcIiwgZml0OiBmaXQgPSBcImNvbnRhaW5cIiwgbWlycm9yOiBtaXJyb3IsIG9uUmVzaXplOiBvblJlc2l6ZSwgc3R5bGU6IHN0eWxlID0ge30sIHRyYWNrVHlwZTogdHJhY2tUeXBlID0gXCJ2aWRlb1wiLCAuLi5wcm9wcyB9LCByZWYpIHtcbiAgICBjb25zdCB2aWRlb1RyYWNrID0gKDAsICQxOTRjNzUxNDNiN2ExZmEwJGV4cG9ydCQ3YzAzMzgxZTBkMjZhNmMzKSh0cmFja1R5cGUsIHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCB2aWRlb0VsID0gKDAsICRoOWxYeiR1c2VSZWYpKG51bGwpO1xuICAgIGNvbnN0IHZpZGVvUmVmID0gKDAsICQ5MDk4NTE5MjEwY2YzNGUyJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkpKHZpZGVvRWwsIHJlZik7XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGNhbnBsYXkgJiBwaWN0dXJlLWluLXBpY3R1cmUgZXZlbnRzLlxuICAgICAqLyAoMCwgJGg5bFh6JHVzZUVmZmVjdCkoZnVuY3Rpb24gc2V0dXBWaWRlb0V2ZW50cygpIHtcbiAgICAgICAgY29uc3QgdmlkZW8gPSB2aWRlb0VsLmN1cnJlbnQ7XG4gICAgICAgIGlmICghdmlkZW8pIHJldHVybjtcbiAgICAgICAgY29uc3QgcGxheVZpZGVvID0gKCk9PntcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB2aWRlby5wbGF5KCk7XG4gICAgICAgICAgICBpZiAocHJvbWlzZSAhPT0gdW5kZWZpbmVkKSBwcm9taXNlLnRoZW4oKCk9PntcbiAgICAgICAgICAgICAgICAvLyBBbGwgZ29vZCwgcGxheWJhY2sgc3RhcnRlZC5cbiAgICAgICAgICAgICAgICB2aWRlby5jb250cm9scyA9IGZhbHNlO1xuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgICAgIC8vIEF1dG8tcGxheSB3YXMgcHJldmVudGVkLiBTaG93IHZpZGVvIGNvbnRyb2xzLCBzbyB1c2VyIGNhbiBwbGF5IHZpZGVvIG1hbnVhbGx5LlxuICAgICAgICAgICAgICAgIHZpZGVvLmNvbnRyb2xzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gcGxheSB2aWRlb1wiLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2FuUGxheSA9ICgpPT57XG4gICAgICAgICAgICBpZiAoIXZpZGVvLnBhdXNlZCkgcmV0dXJuO1xuICAgICAgICAgICAgcGxheVZpZGVvKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZUVudGVyUElQID0gKCk9PntcbiAgICAgICAgICAgIHZpZGVvLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMSlcIjtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlTGVhdmVQSVAgPSAoKT0+e1xuICAgICAgICAgICAgdmlkZW8uc3R5bGUudHJhbnNmb3JtID0gXCJcIjtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAodmlkZW8ucGF1c2VkKSBwbGF5VmlkZW8oKTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKT0+e1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJoaWRkZW5cIikgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCF2aWRlby5wYXVzZWQpIHJldHVybjtcbiAgICAgICAgICAgIHBsYXlWaWRlbygpO1xuICAgICAgICB9O1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheVwiLCBoYW5kbGVDYW5QbGF5KTtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImVudGVycGljdHVyZWlucGljdHVyZVwiLCBoYW5kbGVFbnRlclBJUCk7XG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJsZWF2ZXBpY3R1cmVpbnBpY3R1cmVcIiwgaGFuZGxlTGVhdmVQSVApO1xuICAgICAgICAvLyBWaWRlb3MgY2FuIGJlIHBhdXNlZCBpZiBtZWRpYSB3YXMgcGxheWVkIGluIGFub3RoZXIgYXBwIG9uIGlPUy5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIiwgaGFuZGxlQ2FuUGxheSk7XG4gICAgICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW50ZXJwaWN0dXJlaW5waWN0dXJlXCIsIGhhbmRsZUVudGVyUElQKTtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsZWF2ZXBpY3R1cmVpbnBpY3R1cmVcIiwgaGFuZGxlTGVhdmVQSVApO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBzcmNPYmplY3QuXG4gICAgICovICgwLCAkaDlsWHokdXNlRWZmZWN0KShmdW5jdGlvbiB1cGRhdGVTcmNPYmplY3QoKSB7XG4gICAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9FbC5jdXJyZW50O1xuICAgICAgICBpZiAoIXZpZGVvIHx8ICF2aWRlb1RyYWNrKSByZXR1cm47XG4gICAgICAgIHZpZGVvLnNyY09iamVjdCA9IG5ldyBNZWRpYVN0cmVhbShbXG4gICAgICAgICAgICB2aWRlb1RyYWNrXG4gICAgICAgIF0pO1xuICAgICAgICB2aWRlby5sb2FkKCk7XG4gICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgLy8gY2xlYW4gdXAgd2hlbiB1bm1vdW50ZWRcbiAgICAgICAgICAgIHZpZGVvLnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB2aWRlby5sb2FkKCk7XG4gICAgICAgIH07XG4gICAgfSwgW1xuICAgICAgICB2aWRlb1RyYWNrLFxuICAgICAgICB2aWRlb1RyYWNrPy5pZFxuICAgIF0pO1xuICAgIC8qKlxuICAgICAqIEFkZCBvcHRpb25hbCBldmVudCBsaXN0ZW5lciBmb3IgcmVzaXplIGV2ZW50IHNvIHRoZSBwYXJlbnQgY29tcG9uZW50XG4gICAgICogY2FuIGtub3cgdGhlIHZpZGVvJ3MgbmF0aXZlIGFzcGVjdCByYXRpby5cbiAgICAgKi8gKDAsICRoOWxYeiR1c2VFZmZlY3QpKGZ1bmN0aW9uIHJlcG9ydFZpZGVvRGltZW5zaW9ucygpIHtcbiAgICAgICAgY29uc3QgdmlkZW8gPSB2aWRlb0VsLmN1cnJlbnQ7XG4gICAgICAgIGlmICghb25SZXNpemUgfHwgIXZpZGVvKSByZXR1cm47XG4gICAgICAgIGxldCBmcmFtZTtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzaXplKCkge1xuICAgICAgICAgICAgaWYgKGZyYW1lKSBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZSk7XG4gICAgICAgICAgICBmcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9FbC5jdXJyZW50O1xuICAgICAgICAgICAgICAgIGlmICghdmlkZW8gfHwgZG9jdW1lbnQuaGlkZGVuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgdmlkZW9XaWR0aCA9IHZpZGVvLnZpZGVvV2lkdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlkZW9IZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAodmlkZW9XaWR0aCAmJiB2aWRlb0hlaWdodCkgb25SZXNpemU/Lih7XG4gICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiB2aWRlb1dpZHRoIC8gdmlkZW9IZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdmlkZW9IZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2aWRlb1dpZHRoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVSZXNpemUoKTtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZG1ldGFkYXRhXCIsIGhhbmRsZVJlc2l6ZSk7XG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcbiAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICBpZiAoZnJhbWUpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lKTtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkZWRtZXRhZGF0YVwiLCBoYW5kbGVSZXNpemUpO1xuICAgICAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xuICAgICAgICB9O1xuICAgIH0sIFtcbiAgICAgICAgb25SZXNpemVcbiAgICBdKTtcbiAgICByZXR1cm4gKDAsICRoOWxYeiRqc3gpKFwidmlkZW9cIiwge1xuICAgICAgICBhdXRvUGxheTogdHJ1ZSxcbiAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgIHBsYXlzSW5saW5lOiB0cnVlLFxuICAgICAgICByZWY6IHZpZGVvUmVmLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgb2JqZWN0Rml0OiBmaXQsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IG1pcnJvciA/IFwic2NhbGUoLTEsIDEpXCIgOiBcIlwiLFxuICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgfSxcbiAgICAgICAgLi4ucHJvcHNcbiAgICB9KTtcbn0pO1xuJGI3NmQ4ODc5MTA5ODM4MTEkZXhwb3J0JGQwOTBhMzg0OTQzNjA4ZWIuZGlzcGxheU5hbWUgPSBcIlJUVklDbGllbnRWaWRlb1wiO1xuXG5cblxuXG5cblxuXG5cblxuXG5jb25zdCAkYzdkMDY1MzRiMjE3MzVjMiR2YXIkYXZhaWxhYmxlTWljc0F0b20gPSAoMCwgJGg5bFh6JGF0b20pKFtdKTtcbmNvbnN0ICRjN2QwNjUzNGIyMTczNWMyJHZhciRhdmFpbGFibGVDYW1zQXRvbSA9ICgwLCAkaDlsWHokYXRvbSkoW10pO1xuY29uc3QgJGM3ZDA2NTM0YjIxNzM1YzIkdmFyJGF2YWlsYWJsZVNwZWFrZXJzQXRvbSA9ICgwLCAkaDlsWHokYXRvbSkoW10pO1xuY29uc3QgJGM3ZDA2NTM0YjIxNzM1YzIkdmFyJHNlbGVjdGVkTWljQXRvbSA9ICgwLCAkaDlsWHokYXRvbSkoe30pO1xuY29uc3QgJGM3ZDA2NTM0YjIxNzM1YzIkdmFyJHNlbGVjdGVkQ2FtQXRvbSA9ICgwLCAkaDlsWHokYXRvbSkoe30pO1xuY29uc3QgJGM3ZDA2NTM0YjIxNzM1YzIkdmFyJHNlbGVjdGVkU3BlYWtlckF0b20gPSAoMCwgJGg5bFh6JGF0b20pKHt9KTtcbmNvbnN0ICRjN2QwNjUzNGIyMTczNWMyJGV4cG9ydCQ2NTJjNTQ5MDdiODNhNDhkID0gKCk9PntcbiAgICBjb25zdCBjbGllbnQgPSAoMCwgJDU0YTNjOWY1YmRiZjA4NTQkZXhwb3J0JDMxYTVmNmEyMmM5YjhmYmEpKCk7XG4gICAgY29uc3QgYXZhaWxhYmxlQ2FtcyA9ICgwLCAkaDlsWHokdXNlQXRvbVZhbHVlKSgkYzdkMDY1MzRiMjE3MzVjMiR2YXIkYXZhaWxhYmxlQ2Ftc0F0b20pO1xuICAgIGNvbnN0IGF2YWlsYWJsZU1pY3MgPSAoMCwgJGg5bFh6JHVzZUF0b21WYWx1ZSkoJGM3ZDA2NTM0YjIxNzM1YzIkdmFyJGF2YWlsYWJsZU1pY3NBdG9tKTtcbiAgICBjb25zdCBhdmFpbGFibGVTcGVha2VycyA9ICgwLCAkaDlsWHokdXNlQXRvbVZhbHVlKSgkYzdkMDY1MzRiMjE3MzVjMiR2YXIkYXZhaWxhYmxlU3BlYWtlcnNBdG9tKTtcbiAgICBjb25zdCBzZWxlY3RlZENhbSA9ICgwLCAkaDlsWHokdXNlQXRvbVZhbHVlKSgkYzdkMDY1MzRiMjE3MzVjMiR2YXIkc2VsZWN0ZWRDYW1BdG9tKTtcbiAgICBjb25zdCBzZWxlY3RlZE1pYyA9ICgwLCAkaDlsWHokdXNlQXRvbVZhbHVlKSgkYzdkMDY1MzRiMjE3MzVjMiR2YXIkc2VsZWN0ZWRNaWNBdG9tKTtcbiAgICBjb25zdCBzZWxlY3RlZFNwZWFrZXIgPSAoMCwgJGg5bFh6JHVzZUF0b21WYWx1ZSkoJGM3ZDA2NTM0YjIxNzM1YzIkdmFyJHNlbGVjdGVkU3BlYWtlckF0b20pO1xuICAgICgwLCAkODI0ZWE2NGI1Zjc1NzI1OSRleHBvcnQkMzNhNmFjNTNiOGYwMjYyNSkoKDAsICRoOWxYeiRSVFZJRXZlbnQpLkF2YWlsYWJsZUNhbXNVcGRhdGVkLCAoMCwgJGg5bFh6JHVzZUF0b21DYWxsYmFjaykoKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKF9nZXQsIHNldCwgY2Ftcyk9PntcbiAgICAgICAgc2V0KCRjN2QwNjUzNGIyMTczNWMyJHZhciRhdmFpbGFibGVDYW1zQXRvbSwgY2Ftcyk7XG4gICAgfSwgW10pKSk7XG4gICAgKDAsICQ4MjRlYTY0YjVmNzU3MjU5JGV4cG9ydCQzM2E2YWM1M2I4ZjAyNjI1KSgoMCwgJGg5bFh6JFJUVklFdmVudCkuQXZhaWxhYmxlTWljc1VwZGF0ZWQsICgwLCAkaDlsWHokdXNlQXRvbUNhbGxiYWNrKSgoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoX2dldCwgc2V0LCBtaWNzKT0+e1xuICAgICAgICBzZXQoJGM3ZDA2NTM0YjIxNzM1YzIkdmFyJGF2YWlsYWJsZU1pY3NBdG9tLCBtaWNzKTtcbiAgICB9LCBbXSkpKTtcbiAgICAoMCwgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUpKCgwLCAkaDlsWHokUlRWSUV2ZW50KS5BdmFpbGFibGVTcGVha2Vyc1VwZGF0ZWQsICgwLCAkaDlsWHokdXNlQXRvbUNhbGxiYWNrKSgoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoX2dldCwgc2V0LCBzcGVha2Vycyk9PntcbiAgICAgICAgc2V0KCRjN2QwNjUzNGIyMTczNWMyJHZhciRhdmFpbGFibGVTcGVha2Vyc0F0b20sIHNwZWFrZXJzKTtcbiAgICB9LCBbXSkpKTtcbiAgICAoMCwgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUpKCgwLCAkaDlsWHokUlRWSUV2ZW50KS5DYW1VcGRhdGVkLCAoMCwgJGg5bFh6JHVzZUF0b21DYWxsYmFjaykoKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKF9nZXQsIHNldCwgY2FtKT0+e1xuICAgICAgICBzZXQoJGM3ZDA2NTM0YjIxNzM1YzIkdmFyJHNlbGVjdGVkQ2FtQXRvbSwgY2FtKTtcbiAgICB9LCBbXSkpKTtcbiAgICAoMCwgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUpKCgwLCAkaDlsWHokUlRWSUV2ZW50KS5NaWNVcGRhdGVkLCAoMCwgJGg5bFh6JHVzZUF0b21DYWxsYmFjaykoKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKF9nZXQsIHNldCwgbWljKT0+e1xuICAgICAgICBzZXQoJGM3ZDA2NTM0YjIxNzM1YzIkdmFyJHNlbGVjdGVkTWljQXRvbSwgbWljKTtcbiAgICB9LCBbXSkpKTtcbiAgICAoMCwgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUpKCgwLCAkaDlsWHokUlRWSUV2ZW50KS5TcGVha2VyVXBkYXRlZCwgKDAsICRoOWxYeiR1c2VBdG9tQ2FsbGJhY2spKCgwLCAkaDlsWHokdXNlQ2FsbGJhY2spKChfZ2V0LCBzZXQsIHNwZWFrZXIpPT57XG4gICAgICAgIHNldCgkYzdkMDY1MzRiMjE3MzVjMiR2YXIkc2VsZWN0ZWRTcGVha2VyQXRvbSwgc3BlYWtlcik7XG4gICAgfSwgW10pKSk7XG4gICAgY29uc3QgdXBkYXRlQ2FtID0gKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKGlkKT0+e1xuICAgICAgICBjbGllbnQ/LnVwZGF0ZUNhbShpZCk7XG4gICAgfSwgW1xuICAgICAgICBjbGllbnRcbiAgICBdKTtcbiAgICBjb25zdCB1cGRhdGVNaWMgPSAoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoaWQpPT57XG4gICAgICAgIGNsaWVudD8udXBkYXRlTWljKGlkKTtcbiAgICB9LCBbXG4gICAgICAgIGNsaWVudFxuICAgIF0pO1xuICAgIGNvbnN0IHVwZGF0ZVNwZWFrZXIgPSAoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoaWQpPT57XG4gICAgICAgIGNsaWVudD8udXBkYXRlU3BlYWtlcihpZCk7XG4gICAgfSwgW1xuICAgICAgICBjbGllbnRcbiAgICBdKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhdmFpbGFibGVDYW1zOiBhdmFpbGFibGVDYW1zLFxuICAgICAgICBhdmFpbGFibGVNaWNzOiBhdmFpbGFibGVNaWNzLFxuICAgICAgICBhdmFpbGFibGVTcGVha2VyczogYXZhaWxhYmxlU3BlYWtlcnMsXG4gICAgICAgIHNlbGVjdGVkQ2FtOiBzZWxlY3RlZENhbSxcbiAgICAgICAgc2VsZWN0ZWRNaWM6IHNlbGVjdGVkTWljLFxuICAgICAgICBzZWxlY3RlZFNwZWFrZXI6IHNlbGVjdGVkU3BlYWtlcixcbiAgICAgICAgdXBkYXRlQ2FtOiB1cGRhdGVDYW0sXG4gICAgICAgIHVwZGF0ZU1pYzogdXBkYXRlTWljLFxuICAgICAgICB1cGRhdGVTcGVha2VyOiB1cGRhdGVTcGVha2VyXG4gICAgfTtcbn07XG5cblxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIFxuXG5cbmNvbnN0ICQ4Mzc2ZmZiYzFiMWYzYzk3JHZhciR0cmFuc3BvcnRTdGF0ZUF0b20gPSAoMCwgJGg5bFh6JGF0b20pKFwiZGlzY29ubmVjdGVkXCIpO1xuY29uc3QgJDgzNzZmZmJjMWIxZjNjOTckZXhwb3J0JDU5OWZhMDEyODNiZDRlY2UgPSAoKT0+e1xuICAgIGNvbnN0IFt0cmFuc3BvcnRTdGF0ZSwgc2V0VHJhbnNwb3J0U3RhdGVdID0gKDAsICRoOWxYeiR1c2VBdG9tKSgkODM3NmZmYmMxYjFmM2M5NyR2YXIkdHJhbnNwb3J0U3RhdGVBdG9tKTtcbiAgICAoMCwgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUpKCgwLCAkaDlsWHokUlRWSUV2ZW50KS5UcmFuc3BvcnRTdGF0ZUNoYW5nZWQsIHNldFRyYW5zcG9ydFN0YXRlKTtcbiAgICByZXR1cm4gdHJhbnNwb3J0U3RhdGU7XG59O1xuXG5cblxuXG5cbmNvbnN0ICQ5OTNhNzQ0MTkzODQ0YTk1JGV4cG9ydCQ1OWJmMjdiZDQzNjc5ZGI2ID0gLyojX19QVVJFX18qLyAoMCwgJGg5bFh6JHJlYWN0KS5tZW1vKCh7IGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiLCBiYXJDb2xvcjogYmFyQ29sb3IgPSBcImJsYWNrXCIsIGJhcldpZHRoOiBiYXJXaWR0aCA9IDMwLCBiYXJHYXA6IGJhckdhcCA9IDEyLCBiYXJNYXhIZWlnaHQ6IGJhck1heEhlaWdodCA9IDEyMCwgcGFydGljaXBhbnRUeXBlOiBwYXJ0aWNpcGFudFR5cGUgfSk9PntcbiAgICBjb25zdCBjYW52YXNSZWYgPSAoMCwgJGg5bFh6JHVzZVJlZikobnVsbCk7XG4gICAgY29uc3QgdHJhY2sgPSAoMCwgJDE5NGM3NTE0M2I3YTFmYTAkZXhwb3J0JDdjMDMzODFlMGQyNmE2YzMpKFwiYXVkaW9cIiwgcGFydGljaXBhbnRUeXBlKTtcbiAgICAoMCwgJGg5bFh6JHVzZUVmZmVjdCkoKCk9PntcbiAgICAgICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBjYW52YXNXaWR0aCA9IDUgKiBiYXJXaWR0aCArIDQgKiBiYXJHYXA7XG4gICAgICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IGJhck1heEhlaWdodDtcbiAgICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gMjtcbiAgICAgICAgLy8gTWFrZSBjYW52YXMgZmlsbCB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiBpdHMgY29udGFpbmVyXG4gICAgICAgIGNvbnN0IHJlc2l6ZUNhbnZhcyA9ICgpPT57XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aCAqIHNjYWxlRmFjdG9yO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodCAqIHNjYWxlRmFjdG9yO1xuICAgICAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gYCR7Y2FudmFzV2lkdGh9cHhgO1xuICAgICAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGAke2NhbnZhc0hlaWdodH1weGA7XG4gICAgICAgICAgICBjYW52YXNDdHgubGluZUNhcCA9IFwicm91bmRcIjtcbiAgICAgICAgICAgIGNhbnZhc0N0eC5zY2FsZShzY2FsZUZhY3Rvciwgc2NhbGVGYWN0b3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYW52YXNDdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICByZXNpemVDYW52YXMoKTtcbiAgICAgICAgaWYgKCF0cmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuZXcgTWVkaWFTdHJlYW0oW1xuICAgICAgICAgICAgdHJhY2tcbiAgICAgICAgXSkpO1xuICAgICAgICBjb25zdCBhbmFseXNlciA9IGF1ZGlvQ29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuICAgICAgICBhbmFseXNlci5mZnRTaXplID0gMTAyNDtcbiAgICAgICAgc291cmNlLmNvbm5lY3QoYW5hbHlzZXIpO1xuICAgICAgICBjb25zdCBmcmVxdWVuY3lEYXRhID0gbmV3IFVpbnQ4QXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpO1xuICAgICAgICBjYW52YXNDdHgubGluZUNhcCA9IFwicm91bmRcIjtcbiAgICAgICAgY29uc3QgYmFuZHMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhcnRGcmVxOiA4NSxcbiAgICAgICAgICAgICAgICBlbmRGcmVxOiAyNTUsXG4gICAgICAgICAgICAgICAgc21vb3RoVmFsdWU6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhcnRGcmVxOiAyNTUsXG4gICAgICAgICAgICAgICAgZW5kRnJlcTogNTAwLFxuICAgICAgICAgICAgICAgIHNtb290aFZhbHVlOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXJ0RnJlcTogNTAwLFxuICAgICAgICAgICAgICAgIGVuZEZyZXE6IDIwMDAsXG4gICAgICAgICAgICAgICAgc21vb3RoVmFsdWU6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhcnRGcmVxOiAyMDAwLFxuICAgICAgICAgICAgICAgIGVuZEZyZXE6IDQwMDAsXG4gICAgICAgICAgICAgICAgc21vb3RoVmFsdWU6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhcnRGcmVxOiA0MDAwLFxuICAgICAgICAgICAgICAgIGVuZEZyZXE6IDgwMDAsXG4gICAgICAgICAgICAgICAgc21vb3RoVmFsdWU6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgZ2V0RnJlcXVlbmN5QmluSW5kZXggPSAoZnJlcXVlbmN5KT0+e1xuICAgICAgICAgICAgY29uc3QgbnlxdWlzdCA9IGF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlIC8gMjtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGZyZXF1ZW5jeSAvIG55cXVpc3QgKiAoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQgLSAxKSk7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIGRyYXdTcGVjdHJ1bSgpIHtcbiAgICAgICAgICAgIGFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGZyZXF1ZW5jeURhdGEpO1xuICAgICAgICAgICAgY2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGggLyBzY2FsZUZhY3RvciwgY2FudmFzLmhlaWdodCAvIHNjYWxlRmFjdG9yKTtcbiAgICAgICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgICBjYW52YXNDdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoIC8gc2NhbGVGYWN0b3IsIGNhbnZhcy5oZWlnaHQgLyBzY2FsZUZhY3Rvcik7XG4gICAgICAgICAgICBsZXQgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsQmFyc1dpZHRoID0gYmFuZHMubGVuZ3RoICogYmFyV2lkdGggKyAoYmFuZHMubGVuZ3RoIC0gMSkgKiBiYXJHYXA7XG4gICAgICAgICAgICBjb25zdCBzdGFydFggPSAoY2FudmFzLndpZHRoIC8gc2NhbGVGYWN0b3IgLSB0b3RhbEJhcnNXaWR0aCkgLyAyOyAvLyBDZW50ZXIgYmFyc1xuICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWRDaXJjbGVSYWRpdXMgPSBiYXJXaWR0aCAvIDI7IC8vIEZpeGVkIHJhZGl1cyBmb3IgcmVzZXQgY2lyY2xlc1xuICAgICAgICAgICAgYmFuZHMuZm9yRWFjaCgoYmFuZCwgaSk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gZ2V0RnJlcXVlbmN5QmluSW5kZXgoYmFuZC5zdGFydEZyZXEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gZ2V0RnJlcXVlbmN5QmluSW5kZXgoYmFuZC5lbmRGcmVxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYW5kRGF0YSA9IGZyZXF1ZW5jeURhdGEuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhbmRWYWx1ZSA9IGJhbmREYXRhLnJlZHVjZSgoYWNjLCB2YWwpPT5hY2MgKyB2YWwsIDApIC8gYmFuZERhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNtb290aGluZ0ZhY3RvciA9IDAuMjtcbiAgICAgICAgICAgICAgICBpZiAoYmFuZFZhbHVlIDwgMSkgYmFuZC5zbW9vdGhWYWx1ZSA9IE1hdGgubWF4KGJhbmQuc21vb3RoVmFsdWUgLSBzbW9vdGhpbmdGYWN0b3IgKiA1LCAwKTtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFuZC5zbW9vdGhWYWx1ZSA9IGJhbmQuc21vb3RoVmFsdWUgKyAoYmFuZFZhbHVlIC0gYmFuZC5zbW9vdGhWYWx1ZSkgKiBzbW9vdGhpbmdGYWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHN0YXJ0WCArIGkgKiAoYmFyV2lkdGggKyBiYXJHYXApO1xuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBiYXIgaGVpZ2h0IHdpdGggYSBtYXhpbXVtIGNhcFxuICAgICAgICAgICAgICAgIGNvbnN0IGJhckhlaWdodCA9IE1hdGgubWluKGJhbmQuc21vb3RoVmFsdWUgLyAyNTUgKiBiYXJNYXhIZWlnaHQsIGJhck1heEhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeVRvcCA9IE1hdGgubWF4KGNhbnZhcy5oZWlnaHQgLyBzY2FsZUZhY3RvciAvIDIgLSBiYXJIZWlnaHQgLyAyLCBhZGp1c3RlZENpcmNsZVJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgeUJvdHRvbSA9IE1hdGgubWluKGNhbnZhcy5oZWlnaHQgLyBzY2FsZUZhY3RvciAvIDIgKyBiYXJIZWlnaHQgLyAyLCBjYW52YXMuaGVpZ2h0IC8gc2NhbGVGYWN0b3IgLSBhZGp1c3RlZENpcmNsZVJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGJhbmQuc21vb3RoVmFsdWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4Lm1vdmVUbyh4ICsgYmFyV2lkdGggLyAyLCB5VG9wKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4LmxpbmVUbyh4ICsgYmFyV2lkdGggLyAyLCB5Qm90dG9tKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4LmxpbmVXaWR0aCA9IGJhcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICBjYW52YXNDdHguc3Ryb2tlU3R5bGUgPSBiYXJDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4LmFyYyh4ICsgYmFyV2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gc2NhbGVGYWN0b3IgLyAyLCBhZGp1c3RlZENpcmNsZVJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICBjYW52YXNDdHguZmlsbFN0eWxlID0gYmFyQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaXNBY3RpdmUpIGRyYXdJbmFjdGl2ZUNpcmNsZXMoYWRqdXN0ZWRDaXJjbGVSYWRpdXMsIGJhckNvbG9yKTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3U3BlY3RydW0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRyYXdJbmFjdGl2ZUNpcmNsZXMoY2lyY2xlUmFkaXVzLCBjb2xvcikge1xuICAgICAgICAgICAgY29uc3QgdG90YWxCYXJzV2lkdGggPSBiYW5kcy5sZW5ndGggKiBiYXJXaWR0aCArIChiYW5kcy5sZW5ndGggLSAxKSAqIGJhckdhcDtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0WCA9IChjYW52YXMud2lkdGggLyBzY2FsZUZhY3RvciAtIHRvdGFsQmFyc1dpZHRoKSAvIDI7XG4gICAgICAgICAgICBjb25zdCB5ID0gY2FudmFzLmhlaWdodCAvIHNjYWxlRmFjdG9yIC8gMjtcbiAgICAgICAgICAgIGJhbmRzLmZvckVhY2goKF8sIGkpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHN0YXJ0WCArIGkgKiAoYmFyV2lkdGggKyBiYXJHYXApO1xuICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjYW52YXNDdHguYXJjKHggKyBiYXJXaWR0aCAvIDIsIHksIGNpcmNsZVJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICBjYW52YXNDdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRyYXdTcGVjdHJ1bSgpO1xuICAgICAgICAvLyBIYW5kbGUgcmVzaXppbmdcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgcmVzaXplQ2FudmFzKTtcbiAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICBhdWRpb0NvbnRleHQuY2xvc2UoKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHJlc2l6ZUNhbnZhcyk7XG4gICAgICAgIH07XG4gICAgfSwgW1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJhckNvbG9yLFxuICAgICAgICBiYXJHYXAsXG4gICAgICAgIGJhck1heEhlaWdodCxcbiAgICAgICAgYmFyV2lkdGgsXG4gICAgICAgIHRyYWNrXG4gICAgXSk7XG4gICAgcmV0dXJuICgwLCAkaDlsWHokanN4KShcImNhbnZhc1wiLCB7XG4gICAgICAgIHJlZjogY2FudmFzUmVmLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgICAgICB9XG4gICAgfSk7XG59KTtcbiQ5OTNhNzQ0MTkzODQ0YTk1JGV4cG9ydCQ1OWJmMjdiZDQzNjc5ZGI2LmRpc3BsYXlOYW1lID0gXCJWb2ljZVZpc3VhbGl6ZXJcIjtcblxuXG5cblxuZXhwb3J0IHskZjhiODg1NzI2ZmM2NTJjMCRleHBvcnQkYmExMjQ1ZjdjYmYzYWUwMiBhcyBSVFZJQ2xpZW50QXVkaW8sICRmM2Y3ZDQyNjNkYzEzYzZhJGV4cG9ydCQ0YTRhZTJkNWRjOTY3ODIgYXMgUlRWSUNsaWVudFByb3ZpZGVyLCAkYjc2ZDg4NzkxMDk4MzgxMSRleHBvcnQkZDA5MGEzODQ5NDM2MDhlYiBhcyBSVFZJQ2xpZW50VmlkZW8sICQ1NGEzYzlmNWJkYmYwODU0JGV4cG9ydCQzMWE1ZjZhMjJjOWI4ZmJhIGFzIHVzZVJUVklDbGllbnQsICQ4MjRlYTY0YjVmNzU3MjU5JGV4cG9ydCQzM2E2YWM1M2I4ZjAyNjI1IGFzIHVzZVJUVklDbGllbnRFdmVudCwgJGM3ZDA2NTM0YjIxNzM1YzIkZXhwb3J0JDY1MmM1NDkwN2I4M2E0OGQgYXMgdXNlUlRWSUNsaWVudE1lZGlhRGV2aWNlcywgJDE5NGM3NTE0M2I3YTFmYTAkZXhwb3J0JDdjMDMzODFlMGQyNmE2YzMgYXMgdXNlUlRWSUNsaWVudE1lZGlhVHJhY2ssICQ4Mzc2ZmZiYzFiMWYzYzk3JGV4cG9ydCQ1OTlmYTAxMjgzYmQ0ZWNlIGFzIHVzZVJUVklDbGllbnRUcmFuc3BvcnRTdGF0ZSwgJDk5M2E3NDQxOTM4NDRhOTUkZXhwb3J0JDU5YmYyN2JkNDM2NzlkYjYgYXMgVm9pY2VWaXN1YWxpemVyfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1vZHVsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@pipecat-ai+client-react@0.3.2_@pipecat-ai+client-js@1.4.1_@types+react@19.0.7_react-do_6d54a17888bd9736d3f1b7a49e47964d/node_modules/@pipecat-ai/client-react/dist/index.module.js\n");

/***/ })

};
;