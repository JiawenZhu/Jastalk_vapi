(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function bh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function VN(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var qp={exports:{}},Sc={},Wp={exports:{}},$e={},OS;function zN(){if(OS)return $e;OS=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function E(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function x(q,Y,o){this.props=q,this.context=Y,this.refs=S,this.updater=o||P}x.prototype.isReactComponent={},x.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function O(){}O.prototype=x.prototype;function j(q,Y,o){this.props=q,this.context=Y,this.refs=S,this.updater=o||P}var $=j.prototype=new O;$.constructor=j,C($,x.prototype),$.isPureReactComponent=!0;var D=Array.isArray,R=Object.prototype.hasOwnProperty,U={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function X(q,Y,o){var f,p={},y=null,w=null;if(Y!=null)for(f in Y.ref!==void 0&&(w=Y.ref),Y.key!==void 0&&(y=""+Y.key),Y)R.call(Y,f)&&!G.hasOwnProperty(f)&&(p[f]=Y[f]);var T=arguments.length-2;if(T===1)p.children=o;else if(1<T){for(var I=Array(T),L=0;L<T;L++)I[L]=arguments[L+2];p.children=I}if(q&&q.defaultProps)for(f in T=q.defaultProps,T)p[f]===void 0&&(p[f]=T[f]);return{$$typeof:t,type:q,key:y,ref:w,props:p,_owner:U.current}}function oe(q,Y){return{$$typeof:t,type:q.type,key:Y,ref:q.ref,props:q.props,_owner:q._owner}}function ce(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function le(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(o){return Y[o]})}var Be=/\/+/g;function He(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?le(""+q.key):Y.toString(36)}function st(q,Y,o,f,p){var y=typeof q;(y==="undefined"||y==="boolean")&&(q=null);var w=!1;if(q===null)w=!0;else switch(y){case"string":case"number":w=!0;break;case"object":switch(q.$$typeof){case t:case e:w=!0}}if(w)return w=q,p=p(w),q=f===""?"."+He(w,0):f,D(p)?(o="",q!=null&&(o=q.replace(Be,"$&/")+"/"),st(p,Y,o,"",function(L){return L})):p!=null&&(ce(p)&&(p=oe(p,o+(!p.key||w&&w.key===p.key?"":(""+p.key).replace(Be,"$&/")+"/")+q)),Y.push(p)),1;if(w=0,f=f===""?".":f+":",D(q))for(var T=0;T<q.length;T++){y=q[T];var I=f+He(y,T);w+=st(y,Y,o,I,p)}else if(I=E(q),typeof I=="function")for(q=I.call(q),T=0;!(y=q.next()).done;)y=y.value,I=f+He(y,T++),w+=st(y,Y,o,I,p);else if(y==="object")throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return w}function Tt(q,Y,o){if(q==null)return q;var f=[],p=0;return st(q,f,"","",function(y){return Y.call(o,y,p++)}),f}function ot(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(o){(q._status===0||q._status===-1)&&(q._status=1,q._result=o)},function(o){(q._status===0||q._status===-1)&&(q._status=2,q._result=o)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var qe={current:null},ue={transition:null},_e={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:ue,ReactCurrentOwner:U};function de(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Tt,forEach:function(q,Y,o){Tt(q,function(){Y.apply(this,arguments)},o)},count:function(q){var Y=0;return Tt(q,function(){Y++}),Y},toArray:function(q){return Tt(q,function(Y){return Y})||[]},only:function(q){if(!ce(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},$e.Component=x,$e.Fragment=n,$e.Profiler=i,$e.PureComponent=j,$e.StrictMode=r,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,$e.act=de,$e.cloneElement=function(q,Y,o){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var f=C({},q.props),p=q.key,y=q.ref,w=q._owner;if(Y!=null){if(Y.ref!==void 0&&(y=Y.ref,w=U.current),Y.key!==void 0&&(p=""+Y.key),q.type&&q.type.defaultProps)var T=q.type.defaultProps;for(I in Y)R.call(Y,I)&&!G.hasOwnProperty(I)&&(f[I]=Y[I]===void 0&&T!==void 0?T[I]:Y[I])}var I=arguments.length-2;if(I===1)f.children=o;else if(1<I){T=Array(I);for(var L=0;L<I;L++)T[L]=arguments[L+2];f.children=T}return{$$typeof:t,type:q.type,key:p,ref:y,props:f,_owner:w}},$e.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},$e.createElement=X,$e.createFactory=function(q){var Y=X.bind(null,q);return Y.type=q,Y},$e.createRef=function(){return{current:null}},$e.forwardRef=function(q){return{$$typeof:u,render:q}},$e.isValidElement=ce,$e.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:ot}},$e.memo=function(q,Y){return{$$typeof:m,type:q,compare:Y===void 0?null:Y}},$e.startTransition=function(q){var Y=ue.transition;ue.transition={};try{q()}finally{ue.transition=Y}},$e.unstable_act=de,$e.useCallback=function(q,Y){return qe.current.useCallback(q,Y)},$e.useContext=function(q){return qe.current.useContext(q)},$e.useDebugValue=function(){},$e.useDeferredValue=function(q){return qe.current.useDeferredValue(q)},$e.useEffect=function(q,Y){return qe.current.useEffect(q,Y)},$e.useId=function(){return qe.current.useId()},$e.useImperativeHandle=function(q,Y,o){return qe.current.useImperativeHandle(q,Y,o)},$e.useInsertionEffect=function(q,Y){return qe.current.useInsertionEffect(q,Y)},$e.useLayoutEffect=function(q,Y){return qe.current.useLayoutEffect(q,Y)},$e.useMemo=function(q,Y){return qe.current.useMemo(q,Y)},$e.useReducer=function(q,Y,o){return qe.current.useReducer(q,Y,o)},$e.useRef=function(q){return qe.current.useRef(q)},$e.useState=function(q){return qe.current.useState(q)},$e.useSyncExternalStore=function(q,Y,o){return qe.current.useSyncExternalStore(q,Y,o)},$e.useTransition=function(){return qe.current.useTransition()},$e.version="18.3.1",$e}var jS;function A_(){return jS||(jS=1,Wp.exports=zN()),Wp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS;function HN(){if(IS)return Sc;IS=1;var t=A_(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,m){var v,_={},E=null,P=null;m!==void 0&&(E=""+m),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(P=d.ref);for(v in d)r.call(d,v)&&!s.hasOwnProperty(v)&&(_[v]=d[v]);if(u&&u.defaultProps)for(v in d=u.defaultProps,d)_[v]===void 0&&(_[v]=d[v]);return{$$typeof:e,type:u,key:E,ref:P,props:_,_owner:i.current}}return Sc.Fragment=n,Sc.jsx=l,Sc.jsxs=l,Sc}var LS;function JN(){return LS||(LS=1,qp.exports=HN()),qp.exports}var A=JN(),H=A_();const GN=bh(H);var xu={},Vp={exports:{}},En={},zp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS;function YN(){return NS||(NS=1,(function(t){function e(ue,_e){var de=ue.length;ue.push(_e);e:for(;0<de;){var q=de-1>>>1,Y=ue[q];if(0<i(Y,_e))ue[q]=_e,ue[de]=Y,de=q;else break e}}function n(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var _e=ue[0],de=ue.pop();if(de!==_e){ue[0]=de;e:for(var q=0,Y=ue.length,o=Y>>>1;q<o;){var f=2*(q+1)-1,p=ue[f],y=f+1,w=ue[y];if(0>i(p,de))y<Y&&0>i(w,p)?(ue[q]=w,ue[y]=de,q=y):(ue[q]=p,ue[f]=de,q=f);else if(y<Y&&0>i(w,de))ue[q]=w,ue[y]=de,q=y;else break e}}return _e}function i(ue,_e){var de=ue.sortIndex-_e.sortIndex;return de!==0?de:ue.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],m=[],v=1,_=null,E=3,P=!1,C=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ue){for(var _e=n(m);_e!==null;){if(_e.callback===null)r(m);else if(_e.startTime<=ue)r(m),_e.sortIndex=_e.expirationTime,e(d,_e);else break;_e=n(m)}}function D(ue){if(S=!1,$(ue),!C)if(n(d)!==null)C=!0,ot(R);else{var _e=n(m);_e!==null&&qe(D,_e.startTime-ue)}}function R(ue,_e){C=!1,S&&(S=!1,O(X),X=-1),P=!0;var de=E;try{for($(_e),_=n(d);_!==null&&(!(_.expirationTime>_e)||ue&&!le());){var q=_.callback;if(typeof q=="function"){_.callback=null,E=_.priorityLevel;var Y=q(_.expirationTime<=_e);_e=t.unstable_now(),typeof Y=="function"?_.callback=Y:_===n(d)&&r(d),$(_e)}else r(d);_=n(d)}if(_!==null)var o=!0;else{var f=n(m);f!==null&&qe(D,f.startTime-_e),o=!1}return o}finally{_=null,E=de,P=!1}}var U=!1,G=null,X=-1,oe=5,ce=-1;function le(){return!(t.unstable_now()-ce<oe)}function Be(){if(G!==null){var ue=t.unstable_now();ce=ue;var _e=!0;try{_e=G(!0,ue)}finally{_e?He():(U=!1,G=null)}}else U=!1}var He;if(typeof j=="function")He=function(){j(Be)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,Tt=st.port2;st.port1.onmessage=Be,He=function(){Tt.postMessage(null)}}else He=function(){x(Be,0)};function ot(ue){G=ue,U||(U=!0,He())}function qe(ue,_e){X=x(function(){ue(t.unstable_now())},_e)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_continueExecution=function(){C||P||(C=!0,ot(R))},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ue){switch(E){case 1:case 2:case 3:var _e=3;break;default:_e=E}var de=E;E=_e;try{return ue()}finally{E=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ue,_e){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var de=E;E=ue;try{return _e()}finally{E=de}},t.unstable_scheduleCallback=function(ue,_e,de){var q=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?q+de:q):de=q,ue){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=de+Y,ue={id:v++,callback:_e,priorityLevel:ue,startTime:de,expirationTime:Y,sortIndex:-1},de>q?(ue.sortIndex=de,e(m,ue),n(d)===null&&ue===n(m)&&(S?(O(X),X=-1):S=!0,qe(D,de-q))):(ue.sortIndex=Y,e(d,ue),C||P||(C=!0,ot(R))),ue},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(ue){var _e=E;return function(){var de=E;E=_e;try{return ue.apply(this,arguments)}finally{E=de}}}})(Hp)),Hp}var DS;function QN(){return DS||(DS=1,zp.exports=YN()),zp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function KN(){if(RS)return En;RS=1;var t=A_(),e=QN();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){l(a,c),l(a+"Capture",c)}function l(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function E(a){return d.call(_,a)?!0:d.call(v,a)?!1:m.test(a)?_[a]=!0:(v[a]=!0,!1)}function P(a,c,h,g){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function C(a,c,h,g){if(c===null||typeof c>"u"||P(a,c,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function S(a,c,h,g,b,k,M){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=k,this.removeEmptyString=M}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){x[a]=new S(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];x[c]=new S(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){x[a]=new S(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){x[a]=new S(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){x[a]=new S(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){x[a]=new S(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){x[a]=new S(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){x[a]=new S(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){x[a]=new S(a,5,!1,a.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function j(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(O,j);x[c]=new S(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(O,j);x[c]=new S(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(O,j);x[c]=new S(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){x[a]=new S(a,1,!1,a.toLowerCase(),null,!1,!1)}),x.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){x[a]=new S(a,1,!1,a.toLowerCase(),null,!0,!0)});function $(a,c,h,g){var b=x.hasOwnProperty(c)?x[c]:null;(b!==null?b.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(C(c,h,b,g)&&(h=null),g||b===null?E(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):b.mustUseProperty?a[b.propertyName]=h===null?b.type===3?!1:"":h:(c=b.attributeName,g=b.attributeNamespace,h===null?a.removeAttribute(c):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,g?a.setAttributeNS(g,c,h):a.setAttribute(c,h))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),U=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),le=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),qe=Symbol.for("react.offscreen"),ue=Symbol.iterator;function _e(a){return a===null||typeof a!="object"?null:(a=ue&&a[ue]||a["@@iterator"],typeof a=="function"?a:null)}var de=Object.assign,q;function Y(a){if(q===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);q=c&&c[1]||""}return`
`+q+a}var o=!1;function f(a,c){if(!a||o)return"";o=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(J){var g=J}Reflect.construct(a,[],c)}else{try{c.call()}catch(J){g=J}a.call(c.prototype)}else{try{throw Error()}catch(J){g=J}a()}}catch(J){if(J&&g&&typeof J.stack=="string"){for(var b=J.stack.split(`
`),k=g.stack.split(`
`),M=b.length-1,N=k.length-1;1<=M&&0<=N&&b[M]!==k[N];)N--;for(;1<=M&&0<=N;M--,N--)if(b[M]!==k[N]){if(M!==1||N!==1)do if(M--,N--,0>N||b[M]!==k[N]){var F=`
`+b[M].replace(" at new "," at ");return a.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",a.displayName)),F}while(1<=M&&0<=N);break}}}finally{o=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?Y(a):""}function p(a){switch(a.tag){case 5:return Y(a.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return a=f(a.type,!1),a;case 11:return a=f(a.type.render,!1),a;case 1:return a=f(a.type,!0),a;default:return""}}function y(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case G:return"Fragment";case U:return"Portal";case oe:return"Profiler";case X:return"StrictMode";case He:return"Suspense";case st:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case le:return(a.displayName||"Context")+".Consumer";case ce:return(a._context.displayName||"Context")+".Provider";case Be:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Tt:return c=a.displayName||null,c!==null?c:y(a.type)||"Memo";case ot:c=a._payload,a=a._init;try{return y(a(c))}catch{}}return null}function w(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y(c);case 8:return c===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function T(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function I(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function L(a){var c=I(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),g=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,k=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return b.call(this)},set:function(M){g=""+M,k.call(this,M)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function W(a){a._valueTracker||(a._valueTracker=L(a))}function Z(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return a&&(g=I(a)?a.checked?"true":"false":a.value),a=g,a!==h?(c.setValue(a),!0):!1}function ae(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Le(a,c){var h=c.checked;return de({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function we(a,c){var h=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;h=T(c.value!=null?c.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Re(a,c){c=c.checked,c!=null&&$(a,"checked",c,!1)}function fe(a,c){Re(a,c);var h=T(c.value),g=c.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Fe(a,c.type,h):c.hasOwnProperty("defaultValue")&&Fe(a,c.type,T(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Te(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Fe(a,c,h){(c!=="number"||ae(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var ct=Array.isArray;function pt(a,c,h,g){if(a=a.options,c){c={};for(var b=0;b<h.length;b++)c["$"+h[b]]=!0;for(h=0;h<a.length;h++)b=c.hasOwnProperty("$"+a[h].value),a[h].selected!==b&&(a[h].selected=b),b&&g&&(a[h].defaultSelected=!0)}else{for(h=""+T(h),c=null,b=0;b<a.length;b++){if(a[b].value===h){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}c!==null||a[b].disabled||(c=a[b])}c!==null&&(c.selected=!0)}}function pe(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return de({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ze(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(ct(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:T(h)}}function xn(a,c){var h=T(c.value),g=T(c.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function nr(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function xi(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Es(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?xi(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var rr,Bo=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,g,b){MSApp.execUnsafeLocalFunction(function(){return a(c,h,g,b)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=rr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Mi(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_l=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(a){_l.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),va[c]=va[a]})});function ir(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||va.hasOwnProperty(a)&&va[a]?(""+c).trim():c+"px"}function jr(a,c){a=a.style;for(var h in c)if(c.hasOwnProperty(h)){var g=h.indexOf("--")===0,b=ir(h,c[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,b):a[h]=b}}var YI=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zh(a,c){if(c){if(YI[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function ef(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=null;function nf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var rf=null,Cs=null,Ts=null;function Gb(a){if(a=cc(a)){if(typeof rf!="function")throw Error(n(280));var c=a.stateNode;c&&(c=ql(c),rf(a.stateNode,a.type,c))}}function Yb(a){Cs?Ts?Ts.push(a):Ts=[a]:Cs=a}function Qb(){if(Cs){var a=Cs,c=Ts;if(Ts=Cs=null,Gb(a),c)for(a=0;a<c.length;a++)Gb(c[a])}}function Kb(a,c){return a(c)}function Xb(){}var af=!1;function Zb(a,c,h){if(af)return a(c,h);af=!0;try{return Kb(a,c,h)}finally{af=!1,(Cs!==null||Ts!==null)&&(Xb(),Qb())}}function Uo(a,c){var h=a.stateNode;if(h===null)return null;var g=ql(h);if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var sf=!1;if(u)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){sf=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{sf=!1}function QI(a,c,h,g,b,k,M,N,F){var J=Array.prototype.slice.call(arguments,3);try{c.apply(h,J)}catch(re){this.onError(re)}}var Wo=!1,bl=null,wl=!1,of=null,KI={onError:function(a){Wo=!0,bl=a}};function XI(a,c,h,g,b,k,M,N,F){Wo=!1,bl=null,QI.apply(KI,arguments)}function ZI(a,c,h,g,b,k,M,N,F){if(XI.apply(this,arguments),Wo){if(Wo){var J=bl;Wo=!1,bl=null}else throw Error(n(198));wl||(wl=!0,of=J)}}function ya(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function ew(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function tw(a){if(ya(a)!==a)throw Error(n(188))}function eL(a){var c=a.alternate;if(!c){if(c=ya(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,g=c;;){var b=h.return;if(b===null)break;var k=b.alternate;if(k===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===h)return tw(b),a;if(k===g)return tw(b),c;k=k.sibling}throw Error(n(188))}if(h.return!==g.return)h=b,g=k;else{for(var M=!1,N=b.child;N;){if(N===h){M=!0,h=b,g=k;break}if(N===g){M=!0,g=b,h=k;break}N=N.sibling}if(!M){for(N=k.child;N;){if(N===h){M=!0,h=k,g=b;break}if(N===g){M=!0,g=k,h=b;break}N=N.sibling}if(!M)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function nw(a){return a=eL(a),a!==null?rw(a):null}function rw(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=rw(a);if(c!==null)return c;a=a.sibling}return null}var iw=e.unstable_scheduleCallback,aw=e.unstable_cancelCallback,tL=e.unstable_shouldYield,nL=e.unstable_requestPaint,It=e.unstable_now,rL=e.unstable_getCurrentPriorityLevel,cf=e.unstable_ImmediatePriority,sw=e.unstable_UserBlockingPriority,kl=e.unstable_NormalPriority,iL=e.unstable_LowPriority,ow=e.unstable_IdlePriority,Sl=null,Ir=null;function aL(a){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Sl,a,void 0,(a.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:cL,sL=Math.log,oL=Math.LN2;function cL(a){return a>>>=0,a===0?32:31-(sL(a)/oL|0)|0}var El=64,Cl=4194304;function Vo(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Tl(a,c){var h=a.pendingLanes;if(h===0)return 0;var g=0,b=a.suspendedLanes,k=a.pingedLanes,M=h&268435455;if(M!==0){var N=M&~b;N!==0?g=Vo(N):(k&=M,k!==0&&(g=Vo(k)))}else M=h&~b,M!==0?g=Vo(M):k!==0&&(g=Vo(k));if(g===0)return 0;if(c!==0&&c!==g&&(c&b)===0&&(b=g&-g,k=c&-c,b>=k||b===16&&(k&4194240)!==0))return c;if((g&4)!==0&&(g|=h&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=g;0<c;)h=31-ar(c),b=1<<h,g|=a[h],c&=~b;return g}function lL(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uL(a,c){for(var h=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,k=a.pendingLanes;0<k;){var M=31-ar(k),N=1<<M,F=b[M];F===-1?((N&h)===0||(N&g)!==0)&&(b[M]=lL(N,c)):F<=c&&(a.expiredLanes|=N),k&=~N}}function lf(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function cw(){var a=El;return El<<=1,(El&4194240)===0&&(El=64),a}function uf(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function zo(a,c,h){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-ar(c),a[c]=h}function dL(a,c){var h=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var b=31-ar(h),k=1<<b;c[b]=0,g[b]=-1,a[b]=-1,h&=~k}}function df(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var g=31-ar(h),b=1<<g;b&c|a[g]&c&&(a[g]|=c),h&=~b}}var nt=0;function lw(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var uw,hf,dw,hw,fw,ff=!1,xl=[],Ai=null,Pi=null,Oi=null,Ho=new Map,Jo=new Map,ji=[],hL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pw(a,c){switch(a){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Ho.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(c.pointerId)}}function Go(a,c,h,g,b,k){return a===null||a.nativeEvent!==k?(a={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:k,targetContainers:[b]},c!==null&&(c=cc(c),c!==null&&hf(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),a)}function fL(a,c,h,g,b){switch(c){case"focusin":return Ai=Go(Ai,a,c,h,g,b),!0;case"dragenter":return Pi=Go(Pi,a,c,h,g,b),!0;case"mouseover":return Oi=Go(Oi,a,c,h,g,b),!0;case"pointerover":var k=b.pointerId;return Ho.set(k,Go(Ho.get(k)||null,a,c,h,g,b)),!0;case"gotpointercapture":return k=b.pointerId,Jo.set(k,Go(Jo.get(k)||null,a,c,h,g,b)),!0}return!1}function mw(a){var c=_a(a.target);if(c!==null){var h=ya(c);if(h!==null){if(c=h.tag,c===13){if(c=ew(h),c!==null){a.blockedOn=c,fw(a.priority,function(){dw(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ml(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=mf(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);tf=g,h.target.dispatchEvent(g),tf=null}else return c=cc(h),c!==null&&hf(c),a.blockedOn=h,!1;c.shift()}return!0}function gw(a,c,h){Ml(a)&&h.delete(c)}function pL(){ff=!1,Ai!==null&&Ml(Ai)&&(Ai=null),Pi!==null&&Ml(Pi)&&(Pi=null),Oi!==null&&Ml(Oi)&&(Oi=null),Ho.forEach(gw),Jo.forEach(gw)}function Yo(a,c){a.blockedOn===c&&(a.blockedOn=null,ff||(ff=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pL)))}function Qo(a){function c(b){return Yo(b,a)}if(0<xl.length){Yo(xl[0],a);for(var h=1;h<xl.length;h++){var g=xl[h];g.blockedOn===a&&(g.blockedOn=null)}}for(Ai!==null&&Yo(Ai,a),Pi!==null&&Yo(Pi,a),Oi!==null&&Yo(Oi,a),Ho.forEach(c),Jo.forEach(c),h=0;h<ji.length;h++)g=ji[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<ji.length&&(h=ji[0],h.blockedOn===null);)mw(h),h.blockedOn===null&&ji.shift()}var xs=D.ReactCurrentBatchConfig,Al=!0;function mL(a,c,h,g){var b=nt,k=xs.transition;xs.transition=null;try{nt=1,pf(a,c,h,g)}finally{nt=b,xs.transition=k}}function gL(a,c,h,g){var b=nt,k=xs.transition;xs.transition=null;try{nt=4,pf(a,c,h,g)}finally{nt=b,xs.transition=k}}function pf(a,c,h,g){if(Al){var b=mf(a,c,h,g);if(b===null)jf(a,c,g,Pl,h),pw(a,g);else if(fL(b,a,c,h,g))g.stopPropagation();else if(pw(a,g),c&4&&-1<hL.indexOf(a)){for(;b!==null;){var k=cc(b);if(k!==null&&uw(k),k=mf(a,c,h,g),k===null&&jf(a,c,g,Pl,h),k===b)break;b=k}b!==null&&g.stopPropagation()}else jf(a,c,g,null,h)}}var Pl=null;function mf(a,c,h,g){if(Pl=null,a=nf(g),a=_a(a),a!==null)if(c=ya(a),c===null)a=null;else if(h=c.tag,h===13){if(a=ew(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Pl=a,null}function vw(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rL()){case cf:return 1;case sw:return 4;case kl:case iL:return 16;case ow:return 536870912;default:return 16}default:return 16}}var Ii=null,gf=null,Ol=null;function yw(){if(Ol)return Ol;var a,c=gf,h=c.length,g,b="value"in Ii?Ii.value:Ii.textContent,k=b.length;for(a=0;a<h&&c[a]===b[a];a++);var M=h-a;for(g=1;g<=M&&c[h-g]===b[k-g];g++);return Ol=b.slice(a,1<g?1-g:void 0)}function jl(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Il(){return!0}function _w(){return!1}function Mn(a){function c(h,g,b,k,M){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=k,this.target=M,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(h=a[N],this[N]=h?h(k):k[N]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Il:_w,this.isPropagationStopped=_w,this}return de(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),c}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=Mn(Ms),Ko=de({},Ms,{view:0,detail:0}),vL=Mn(Ko),yf,_f,Xo,Ll=de({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Xo&&(Xo&&a.type==="mousemove"?(yf=a.screenX-Xo.screenX,_f=a.screenY-Xo.screenY):_f=yf=0,Xo=a),yf)},movementY:function(a){return"movementY"in a?a.movementY:_f}}),bw=Mn(Ll),yL=de({},Ll,{dataTransfer:0}),_L=Mn(yL),bL=de({},Ko,{relatedTarget:0}),bf=Mn(bL),wL=de({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),kL=Mn(wL),SL=de({},Ms,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),EL=Mn(SL),CL=de({},Ms,{data:0}),ww=Mn(CL),TL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ML={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AL(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=ML[a])?!!c[a]:!1}function wf(){return AL}var PL=de({},Ko,{key:function(a){if(a.key){var c=TL[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=jl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?xL[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wf,charCode:function(a){return a.type==="keypress"?jl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?jl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),OL=Mn(PL),jL=de({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kw=Mn(jL),IL=de({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wf}),LL=Mn(IL),NL=de({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),DL=Mn(NL),RL=de({},Ll,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),$L=Mn(RL),FL=[9,13,27,32],kf=u&&"CompositionEvent"in window,Zo=null;u&&"documentMode"in document&&(Zo=document.documentMode);var BL=u&&"TextEvent"in window&&!Zo,Sw=u&&(!kf||Zo&&8<Zo&&11>=Zo),Ew=" ",Cw=!1;function Tw(a,c){switch(a){case"keyup":return FL.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var As=!1;function UL(a,c){switch(a){case"compositionend":return xw(c);case"keypress":return c.which!==32?null:(Cw=!0,Ew);case"textInput":return a=c.data,a===Ew&&Cw?null:a;default:return null}}function qL(a,c){if(As)return a==="compositionend"||!kf&&Tw(a,c)?(a=yw(),Ol=gf=Ii=null,As=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Sw&&c.locale!=="ko"?null:c.data;default:return null}}var WL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!WL[a.type]:c==="textarea"}function Aw(a,c,h,g){Yb(g),c=Fl(c,"onChange"),0<c.length&&(h=new vf("onChange","change",null,h,g),a.push({event:h,listeners:c}))}var ec=null,tc=null;function VL(a){Jw(a,0)}function Nl(a){var c=Ls(a);if(Z(c))return a}function zL(a,c){if(a==="change")return c}var Pw=!1;if(u){var Sf;if(u){var Ef="oninput"in document;if(!Ef){var Ow=document.createElement("div");Ow.setAttribute("oninput","return;"),Ef=typeof Ow.oninput=="function"}Sf=Ef}else Sf=!1;Pw=Sf&&(!document.documentMode||9<document.documentMode)}function jw(){ec&&(ec.detachEvent("onpropertychange",Iw),tc=ec=null)}function Iw(a){if(a.propertyName==="value"&&Nl(tc)){var c=[];Aw(c,tc,a,nf(a)),Zb(VL,c)}}function HL(a,c,h){a==="focusin"?(jw(),ec=c,tc=h,ec.attachEvent("onpropertychange",Iw)):a==="focusout"&&jw()}function JL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Nl(tc)}function GL(a,c){if(a==="click")return Nl(c)}function YL(a,c){if(a==="input"||a==="change")return Nl(c)}function QL(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var sr=typeof Object.is=="function"?Object.is:QL;function nc(a,c){if(sr(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!d.call(c,b)||!sr(a[b],c[b]))return!1}return!0}function Lw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Nw(a,c){var h=Lw(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=c&&g>=c)return{node:h,offset:c-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Lw(h)}}function Dw(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?Dw(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Rw(){for(var a=window,c=ae();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=ae(a.document)}return c}function Cf(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function KL(a){var c=Rw(),h=a.focusedElem,g=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&Dw(h.ownerDocument.documentElement,h)){if(g!==null&&Cf(h)){if(c=g.start,a=g.end,a===void 0&&(a=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(a,h.value.length);else if(a=(c=h.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var b=h.textContent.length,k=Math.min(g.start,b);g=g.end===void 0?k:Math.min(g.end,b),!a.extend&&k>g&&(b=g,g=k,k=b),b=Nw(h,k);var M=Nw(h,g);b&&M&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==M.node||a.focusOffset!==M.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),a.removeAllRanges(),k>g?(a.addRange(c),a.extend(M.node,M.offset)):(c.setEnd(M.node,M.offset),a.addRange(c)))}}for(c=[],a=h;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)a=c[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var XL=u&&"documentMode"in document&&11>=document.documentMode,Ps=null,Tf=null,rc=null,xf=!1;function $w(a,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;xf||Ps==null||Ps!==ae(g)||(g=Ps,"selectionStart"in g&&Cf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),rc&&nc(rc,g)||(rc=g,g=Fl(Tf,"onSelect"),0<g.length&&(c=new vf("onSelect","select",null,c,h),a.push({event:c,listeners:g}),c.target=Ps)))}function Dl(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Os={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},Mf={},Fw={};u&&(Fw=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Rl(a){if(Mf[a])return Mf[a];if(!Os[a])return a;var c=Os[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in Fw)return Mf[a]=c[h];return a}var Bw=Rl("animationend"),Uw=Rl("animationiteration"),qw=Rl("animationstart"),Ww=Rl("transitionend"),Vw=new Map,zw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(a,c){Vw.set(a,c),s(c,[a])}for(var Af=0;Af<zw.length;Af++){var Pf=zw[Af],ZL=Pf.toLowerCase(),eN=Pf[0].toUpperCase()+Pf.slice(1);Li(ZL,"on"+eN)}Li(Bw,"onAnimationEnd"),Li(Uw,"onAnimationIteration"),Li(qw,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Ww,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function Hw(a,c,h){var g=a.type||"unknown-event";a.currentTarget=h,ZI(g,c,void 0,a),a.currentTarget=null}function Jw(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],b=g.event;g=g.listeners;e:{var k=void 0;if(c)for(var M=g.length-1;0<=M;M--){var N=g[M],F=N.instance,J=N.currentTarget;if(N=N.listener,F!==k&&b.isPropagationStopped())break e;Hw(b,N,J),k=F}else for(M=0;M<g.length;M++){if(N=g[M],F=N.instance,J=N.currentTarget,N=N.listener,F!==k&&b.isPropagationStopped())break e;Hw(b,N,J),k=F}}}if(wl)throw a=of,wl=!1,of=null,a}function bt(a,c){var h=c[$f];h===void 0&&(h=c[$f]=new Set);var g=a+"__bubble";h.has(g)||(Gw(c,a,2,!1),h.add(g))}function Of(a,c,h){var g=0;c&&(g|=4),Gw(h,a,g,c)}var $l="_reactListening"+Math.random().toString(36).slice(2);function ac(a){if(!a[$l]){a[$l]=!0,r.forEach(function(h){h!=="selectionchange"&&(tN.has(h)||Of(h,!1,a),Of(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[$l]||(c[$l]=!0,Of("selectionchange",!1,c))}}function Gw(a,c,h,g){switch(vw(c)){case 1:var b=mL;break;case 4:b=gL;break;default:b=pf}h=b.bind(null,c,h,a),b=void 0,!sf||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(c,h,{capture:!0,passive:b}):a.addEventListener(c,h,!0):b!==void 0?a.addEventListener(c,h,{passive:b}):a.addEventListener(c,h,!1)}function jf(a,c,h,g,b){var k=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var N=g.stateNode.containerInfo;if(N===b||N.nodeType===8&&N.parentNode===b)break;if(M===4)for(M=g.return;M!==null;){var F=M.tag;if((F===3||F===4)&&(F=M.stateNode.containerInfo,F===b||F.nodeType===8&&F.parentNode===b))return;M=M.return}for(;N!==null;){if(M=_a(N),M===null)return;if(F=M.tag,F===5||F===6){g=k=M;continue e}N=N.parentNode}}g=g.return}Zb(function(){var J=k,re=nf(h),ie=[];e:{var ee=Vw.get(a);if(ee!==void 0){var me=vf,ve=a;switch(a){case"keypress":if(jl(h)===0)break e;case"keydown":case"keyup":me=OL;break;case"focusin":ve="focus",me=bf;break;case"focusout":ve="blur",me=bf;break;case"beforeblur":case"afterblur":me=bf;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=_L;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=LL;break;case Bw:case Uw:case qw:me=kL;break;case Ww:me=DL;break;case"scroll":me=vL;break;case"wheel":me=$L;break;case"copy":case"cut":case"paste":me=EL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=kw}var ye=(c&4)!==0,Lt=!ye&&a==="scroll",V=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var B=J,z;B!==null;){z=B;var se=z.stateNode;if(z.tag===5&&se!==null&&(z=se,V!==null&&(se=Uo(B,V),se!=null&&ye.push(sc(B,se,z)))),Lt)break;B=B.return}0<ye.length&&(ee=new me(ee,ve,null,h,re),ie.push({event:ee,listeners:ye}))}}if((c&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",ee&&h!==tf&&(ve=h.relatedTarget||h.fromElement)&&(_a(ve)||ve[Xr]))break e;if((me||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,me?(ve=h.relatedTarget||h.toElement,me=J,ve=ve?_a(ve):null,ve!==null&&(Lt=ya(ve),ve!==Lt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=J),me!==ve)){if(ye=bw,se="onMouseLeave",V="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(ye=kw,se="onPointerLeave",V="onPointerEnter",B="pointer"),Lt=me==null?ee:Ls(me),z=ve==null?ee:Ls(ve),ee=new ye(se,B+"leave",me,h,re),ee.target=Lt,ee.relatedTarget=z,se=null,_a(re)===J&&(ye=new ye(V,B+"enter",ve,h,re),ye.target=z,ye.relatedTarget=Lt,se=ye),Lt=se,me&&ve)t:{for(ye=me,V=ve,B=0,z=ye;z;z=js(z))B++;for(z=0,se=V;se;se=js(se))z++;for(;0<B-z;)ye=js(ye),B--;for(;0<z-B;)V=js(V),z--;for(;B--;){if(ye===V||V!==null&&ye===V.alternate)break t;ye=js(ye),V=js(V)}ye=null}else ye=null;me!==null&&Yw(ie,ee,me,ye,!1),ve!==null&&Lt!==null&&Yw(ie,Lt,ve,ye,!0)}}e:{if(ee=J?Ls(J):window,me=ee.nodeName&&ee.nodeName.toLowerCase(),me==="select"||me==="input"&&ee.type==="file")var be=zL;else if(Mw(ee))if(Pw)be=YL;else{be=JL;var Ee=HL}else(me=ee.nodeName)&&me.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(be=GL);if(be&&(be=be(a,J))){Aw(ie,be,h,re);break e}Ee&&Ee(a,ee,J),a==="focusout"&&(Ee=ee._wrapperState)&&Ee.controlled&&ee.type==="number"&&Fe(ee,"number",ee.value)}switch(Ee=J?Ls(J):window,a){case"focusin":(Mw(Ee)||Ee.contentEditable==="true")&&(Ps=Ee,Tf=J,rc=null);break;case"focusout":rc=Tf=Ps=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,$w(ie,h,re);break;case"selectionchange":if(XL)break;case"keydown":case"keyup":$w(ie,h,re)}var Ce;if(kf)e:{switch(a){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else As?Tw(a,h)&&(xe="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(xe="onCompositionStart");xe&&(Sw&&h.locale!=="ko"&&(As||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&As&&(Ce=yw()):(Ii=re,gf="value"in Ii?Ii.value:Ii.textContent,As=!0)),Ee=Fl(J,xe),0<Ee.length&&(xe=new ww(xe,a,null,h,re),ie.push({event:xe,listeners:Ee}),Ce?xe.data=Ce:(Ce=xw(h),Ce!==null&&(xe.data=Ce)))),(Ce=BL?UL(a,h):qL(a,h))&&(J=Fl(J,"onBeforeInput"),0<J.length&&(re=new ww("onBeforeInput","beforeinput",null,h,re),ie.push({event:re,listeners:J}),re.data=Ce))}Jw(ie,c)})}function sc(a,c,h){return{instance:a,listener:c,currentTarget:h}}function Fl(a,c){for(var h=c+"Capture",g=[];a!==null;){var b=a,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=Uo(a,h),k!=null&&g.unshift(sc(a,k,b)),k=Uo(a,c),k!=null&&g.push(sc(a,k,b))),a=a.return}return g}function js(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Yw(a,c,h,g,b){for(var k=c._reactName,M=[];h!==null&&h!==g;){var N=h,F=N.alternate,J=N.stateNode;if(F!==null&&F===g)break;N.tag===5&&J!==null&&(N=J,b?(F=Uo(h,k),F!=null&&M.unshift(sc(h,F,N))):b||(F=Uo(h,k),F!=null&&M.push(sc(h,F,N)))),h=h.return}M.length!==0&&a.push({event:c,listeners:M})}var nN=/\r\n?/g,rN=/\u0000|\uFFFD/g;function Qw(a){return(typeof a=="string"?a:""+a).replace(nN,`
`).replace(rN,"")}function Bl(a,c,h){if(c=Qw(c),Qw(a)!==c&&h)throw Error(n(425))}function Ul(){}var If=null,Lf=null;function Nf(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Df=typeof setTimeout=="function"?setTimeout:void 0,iN=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,aN=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(a){return Kw.resolve(null).then(a).catch(sN)}:Df;function sN(a){setTimeout(function(){throw a})}function Rf(a,c){var h=c,g=0;do{var b=h.nextSibling;if(a.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(g===0){a.removeChild(b),Qo(c);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=b}while(h);Qo(c)}function Ni(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Xw(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Lr="__reactFiber$"+Is,oc="__reactProps$"+Is,Xr="__reactContainer$"+Is,$f="__reactEvents$"+Is,oN="__reactListeners$"+Is,cN="__reactHandles$"+Is;function _a(a){var c=a[Lr];if(c)return c;for(var h=a.parentNode;h;){if(c=h[Xr]||h[Lr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=Xw(a);a!==null;){if(h=a[Lr])return h;a=Xw(a)}return c}a=h,h=a.parentNode}return null}function cc(a){return a=a[Lr]||a[Xr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ls(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function ql(a){return a[oc]||null}var Ff=[],Ns=-1;function Di(a){return{current:a}}function wt(a){0>Ns||(a.current=Ff[Ns],Ff[Ns]=null,Ns--)}function mt(a,c){Ns++,Ff[Ns]=a.current,a.current=c}var Ri={},Zt=Di(Ri),_n=Di(!1),ba=Ri;function Ds(a,c){var h=a.type.contextTypes;if(!h)return Ri;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in h)b[k]=c[k];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=b),b}function bn(a){return a=a.childContextTypes,a!=null}function Wl(){wt(_n),wt(Zt)}function Zw(a,c,h){if(Zt.current!==Ri)throw Error(n(168));mt(Zt,c),mt(_n,h)}function ek(a,c,h){var g=a.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var b in g)if(!(b in c))throw Error(n(108,w(a)||"Unknown",b));return de({},h,g)}function Vl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ri,ba=Zt.current,mt(Zt,a),mt(_n,_n.current),!0}function tk(a,c,h){var g=a.stateNode;if(!g)throw Error(n(169));h?(a=ek(a,c,ba),g.__reactInternalMemoizedMergedChildContext=a,wt(_n),wt(Zt),mt(Zt,a)):wt(_n),mt(_n,h)}var Zr=null,zl=!1,Bf=!1;function nk(a){Zr===null?Zr=[a]:Zr.push(a)}function lN(a){zl=!0,nk(a)}function $i(){if(!Bf&&Zr!==null){Bf=!0;var a=0,c=nt;try{var h=Zr;for(nt=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}Zr=null,zl=!1}catch(b){throw Zr!==null&&(Zr=Zr.slice(a+1)),iw(cf,$i),b}finally{nt=c,Bf=!1}}return null}var Rs=[],$s=0,Hl=null,Jl=0,qn=[],Wn=0,wa=null,ei=1,ti="";function ka(a,c){Rs[$s++]=Jl,Rs[$s++]=Hl,Hl=a,Jl=c}function rk(a,c,h){qn[Wn++]=ei,qn[Wn++]=ti,qn[Wn++]=wa,wa=a;var g=ei;a=ti;var b=32-ar(g)-1;g&=~(1<<b),h+=1;var k=32-ar(c)+b;if(30<k){var M=b-b%5;k=(g&(1<<M)-1).toString(32),g>>=M,b-=M,ei=1<<32-ar(c)+b|h<<b|g,ti=k+a}else ei=1<<k|h<<b|g,ti=a}function Uf(a){a.return!==null&&(ka(a,1),rk(a,1,0))}function qf(a){for(;a===Hl;)Hl=Rs[--$s],Rs[$s]=null,Jl=Rs[--$s],Rs[$s]=null;for(;a===wa;)wa=qn[--Wn],qn[Wn]=null,ti=qn[--Wn],qn[Wn]=null,ei=qn[--Wn],qn[Wn]=null}var An=null,Pn=null,St=!1,or=null;function ik(a,c){var h=Jn(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=a,c=a.deletions,c===null?(a.deletions=[h],a.flags|=16):c.push(h)}function ak(a,c){switch(a.tag){case 5:var h=a.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,An=a,Pn=Ni(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,An=a,Pn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=wa!==null?{id:ei,overflow:ti}:null,a.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Jn(18,null,null,0),h.stateNode=c,h.return=a,a.child=h,An=a,Pn=null,!0):!1;default:return!1}}function Wf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Vf(a){if(St){var c=Pn;if(c){var h=c;if(!ak(a,c)){if(Wf(a))throw Error(n(418));c=Ni(h.nextSibling);var g=An;c&&ak(a,c)?ik(g,h):(a.flags=a.flags&-4097|2,St=!1,An=a)}}else{if(Wf(a))throw Error(n(418));a.flags=a.flags&-4097|2,St=!1,An=a}}}function sk(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;An=a}function Gl(a){if(a!==An)return!1;if(!St)return sk(a),St=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Nf(a.type,a.memoizedProps)),c&&(c=Pn)){if(Wf(a))throw ok(),Error(n(418));for(;c;)ik(a,c),c=Ni(c.nextSibling)}if(sk(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){Pn=Ni(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}Pn=null}}else Pn=An?Ni(a.stateNode.nextSibling):null;return!0}function ok(){for(var a=Pn;a;)a=Ni(a.nextSibling)}function Fs(){Pn=An=null,St=!1}function zf(a){or===null?or=[a]:or.push(a)}var uN=D.ReactCurrentBatchConfig;function lc(a,c,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,a));var b=g,k=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===k?c.ref:(c=function(M){var N=b.refs;M===null?delete N[k]:N[k]=M},c._stringRef=k,c)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Yl(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function ck(a){var c=a._init;return c(a._payload)}function lk(a){function c(V,B){if(a){var z=V.deletions;z===null?(V.deletions=[B],V.flags|=16):z.push(B)}}function h(V,B){if(!a)return null;for(;B!==null;)c(V,B),B=B.sibling;return null}function g(V,B){for(V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function b(V,B){return V=Hi(V,B),V.index=0,V.sibling=null,V}function k(V,B,z){return V.index=z,a?(z=V.alternate,z!==null?(z=z.index,z<B?(V.flags|=2,B):z):(V.flags|=2,B)):(V.flags|=1048576,B)}function M(V){return a&&V.alternate===null&&(V.flags|=2),V}function N(V,B,z,se){return B===null||B.tag!==6?(B=Dp(z,V.mode,se),B.return=V,B):(B=b(B,z),B.return=V,B)}function F(V,B,z,se){var be=z.type;return be===G?re(V,B,z.props.children,se,z.key):B!==null&&(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ot&&ck(be)===B.type)?(se=b(B,z.props),se.ref=lc(V,B,z),se.return=V,se):(se=_u(z.type,z.key,z.props,null,V.mode,se),se.ref=lc(V,B,z),se.return=V,se)}function J(V,B,z,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==z.containerInfo||B.stateNode.implementation!==z.implementation?(B=Rp(z,V.mode,se),B.return=V,B):(B=b(B,z.children||[]),B.return=V,B)}function re(V,B,z,se,be){return B===null||B.tag!==7?(B=Pa(z,V.mode,se,be),B.return=V,B):(B=b(B,z),B.return=V,B)}function ie(V,B,z){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Dp(""+B,V.mode,z),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return z=_u(B.type,B.key,B.props,null,V.mode,z),z.ref=lc(V,null,B),z.return=V,z;case U:return B=Rp(B,V.mode,z),B.return=V,B;case ot:var se=B._init;return ie(V,se(B._payload),z)}if(ct(B)||_e(B))return B=Pa(B,V.mode,z,null),B.return=V,B;Yl(V,B)}return null}function ee(V,B,z,se){var be=B!==null?B.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return be!==null?null:N(V,B,""+z,se);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return z.key===be?F(V,B,z,se):null;case U:return z.key===be?J(V,B,z,se):null;case ot:return be=z._init,ee(V,B,be(z._payload),se)}if(ct(z)||_e(z))return be!==null?null:re(V,B,z,se,null);Yl(V,z)}return null}function me(V,B,z,se,be){if(typeof se=="string"&&se!==""||typeof se=="number")return V=V.get(z)||null,N(B,V,""+se,be);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case R:return V=V.get(se.key===null?z:se.key)||null,F(B,V,se,be);case U:return V=V.get(se.key===null?z:se.key)||null,J(B,V,se,be);case ot:var Ee=se._init;return me(V,B,z,Ee(se._payload),be)}if(ct(se)||_e(se))return V=V.get(z)||null,re(B,V,se,be,null);Yl(B,se)}return null}function ve(V,B,z,se){for(var be=null,Ee=null,Ce=B,xe=B=0,Wt=null;Ce!==null&&xe<z.length;xe++){Ce.index>xe?(Wt=Ce,Ce=null):Wt=Ce.sibling;var Xe=ee(V,Ce,z[xe],se);if(Xe===null){Ce===null&&(Ce=Wt);break}a&&Ce&&Xe.alternate===null&&c(V,Ce),B=k(Xe,B,xe),Ee===null?be=Xe:Ee.sibling=Xe,Ee=Xe,Ce=Wt}if(xe===z.length)return h(V,Ce),St&&ka(V,xe),be;if(Ce===null){for(;xe<z.length;xe++)Ce=ie(V,z[xe],se),Ce!==null&&(B=k(Ce,B,xe),Ee===null?be=Ce:Ee.sibling=Ce,Ee=Ce);return St&&ka(V,xe),be}for(Ce=g(V,Ce);xe<z.length;xe++)Wt=me(Ce,V,xe,z[xe],se),Wt!==null&&(a&&Wt.alternate!==null&&Ce.delete(Wt.key===null?xe:Wt.key),B=k(Wt,B,xe),Ee===null?be=Wt:Ee.sibling=Wt,Ee=Wt);return a&&Ce.forEach(function(Ji){return c(V,Ji)}),St&&ka(V,xe),be}function ye(V,B,z,se){var be=_e(z);if(typeof be!="function")throw Error(n(150));if(z=be.call(z),z==null)throw Error(n(151));for(var Ee=be=null,Ce=B,xe=B=0,Wt=null,Xe=z.next();Ce!==null&&!Xe.done;xe++,Xe=z.next()){Ce.index>xe?(Wt=Ce,Ce=null):Wt=Ce.sibling;var Ji=ee(V,Ce,Xe.value,se);if(Ji===null){Ce===null&&(Ce=Wt);break}a&&Ce&&Ji.alternate===null&&c(V,Ce),B=k(Ji,B,xe),Ee===null?be=Ji:Ee.sibling=Ji,Ee=Ji,Ce=Wt}if(Xe.done)return h(V,Ce),St&&ka(V,xe),be;if(Ce===null){for(;!Xe.done;xe++,Xe=z.next())Xe=ie(V,Xe.value,se),Xe!==null&&(B=k(Xe,B,xe),Ee===null?be=Xe:Ee.sibling=Xe,Ee=Xe);return St&&ka(V,xe),be}for(Ce=g(V,Ce);!Xe.done;xe++,Xe=z.next())Xe=me(Ce,V,xe,Xe.value,se),Xe!==null&&(a&&Xe.alternate!==null&&Ce.delete(Xe.key===null?xe:Xe.key),B=k(Xe,B,xe),Ee===null?be=Xe:Ee.sibling=Xe,Ee=Xe);return a&&Ce.forEach(function(WN){return c(V,WN)}),St&&ka(V,xe),be}function Lt(V,B,z,se){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case R:e:{for(var be=z.key,Ee=B;Ee!==null;){if(Ee.key===be){if(be=z.type,be===G){if(Ee.tag===7){h(V,Ee.sibling),B=b(Ee,z.props.children),B.return=V,V=B;break e}}else if(Ee.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ot&&ck(be)===Ee.type){h(V,Ee.sibling),B=b(Ee,z.props),B.ref=lc(V,Ee,z),B.return=V,V=B;break e}h(V,Ee);break}else c(V,Ee);Ee=Ee.sibling}z.type===G?(B=Pa(z.props.children,V.mode,se,z.key),B.return=V,V=B):(se=_u(z.type,z.key,z.props,null,V.mode,se),se.ref=lc(V,B,z),se.return=V,V=se)}return M(V);case U:e:{for(Ee=z.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===z.containerInfo&&B.stateNode.implementation===z.implementation){h(V,B.sibling),B=b(B,z.children||[]),B.return=V,V=B;break e}else{h(V,B);break}else c(V,B);B=B.sibling}B=Rp(z,V.mode,se),B.return=V,V=B}return M(V);case ot:return Ee=z._init,Lt(V,B,Ee(z._payload),se)}if(ct(z))return ve(V,B,z,se);if(_e(z))return ye(V,B,z,se);Yl(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,B!==null&&B.tag===6?(h(V,B.sibling),B=b(B,z),B.return=V,V=B):(h(V,B),B=Dp(z,V.mode,se),B.return=V,V=B),M(V)):h(V,B)}return Lt}var Bs=lk(!0),uk=lk(!1),Ql=Di(null),Kl=null,Us=null,Hf=null;function Jf(){Hf=Us=Kl=null}function Gf(a){var c=Ql.current;wt(Ql),a._currentValue=c}function Yf(a,c,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===h)break;a=a.return}}function qs(a,c){Kl=a,Hf=Us=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(wn=!0),a.firstContext=null)}function Vn(a){var c=a._currentValue;if(Hf!==a)if(a={context:a,memoizedValue:c,next:null},Us===null){if(Kl===null)throw Error(n(308));Us=a,Kl.dependencies={lanes:0,firstContext:a}}else Us=Us.next=a;return c}var Sa=null;function Qf(a){Sa===null?Sa=[a]:Sa.push(a)}function dk(a,c,h,g){var b=c.interleaved;return b===null?(h.next=h,Qf(c)):(h.next=b.next,b.next=h),c.interleaved=h,ni(a,g)}function ni(a,c){a.lanes|=c;var h=a.alternate;for(h!==null&&(h.lanes|=c),h=a,a=a.return;a!==null;)a.childLanes|=c,h=a.alternate,h!==null&&(h.childLanes|=c),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Fi=!1;function Kf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hk(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ri(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function Bi(a,c,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Ye&2)!==0){var b=g.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),g.pending=c,ni(a,h)}return b=g.interleaved,b===null?(c.next=c,Qf(g)):(c.next=b.next,b.next=c),g.interleaved=c,ni(a,h)}function Xl(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,df(a,h)}}function fk(a,c){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var M={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?b=k=M:k=k.next=M,h=h.next}while(h!==null);k===null?b=k=c:k=k.next=c}else b=k=c;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}function Zl(a,c,h,g){var b=a.updateQueue;Fi=!1;var k=b.firstBaseUpdate,M=b.lastBaseUpdate,N=b.shared.pending;if(N!==null){b.shared.pending=null;var F=N,J=F.next;F.next=null,M===null?k=J:M.next=J,M=F;var re=a.alternate;re!==null&&(re=re.updateQueue,N=re.lastBaseUpdate,N!==M&&(N===null?re.firstBaseUpdate=J:N.next=J,re.lastBaseUpdate=F))}if(k!==null){var ie=b.baseState;M=0,re=J=F=null,N=k;do{var ee=N.lane,me=N.eventTime;if((g&ee)===ee){re!==null&&(re=re.next={eventTime:me,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ve=a,ye=N;switch(ee=c,me=h,ye.tag){case 1:if(ve=ye.payload,typeof ve=="function"){ie=ve.call(me,ie,ee);break e}ie=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ye.payload,ee=typeof ve=="function"?ve.call(me,ie,ee):ve,ee==null)break e;ie=de({},ie,ee);break e;case 2:Fi=!0}}N.callback!==null&&N.lane!==0&&(a.flags|=64,ee=b.effects,ee===null?b.effects=[N]:ee.push(N))}else me={eventTime:me,lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},re===null?(J=re=me,F=ie):re=re.next=me,M|=ee;if(N=N.next,N===null){if(N=b.shared.pending,N===null)break;ee=N,N=ee.next,ee.next=null,b.lastBaseUpdate=ee,b.shared.pending=null}}while(!0);if(re===null&&(F=ie),b.baseState=F,b.firstBaseUpdate=J,b.lastBaseUpdate=re,c=b.shared.interleaved,c!==null){b=c;do M|=b.lane,b=b.next;while(b!==c)}else k===null&&(b.shared.lanes=0);Ta|=M,a.lanes=M,a.memoizedState=ie}}function pk(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var g=a[c],b=g.callback;if(b!==null){if(g.callback=null,g=h,typeof b!="function")throw Error(n(191,b));b.call(g)}}}var uc={},Nr=Di(uc),dc=Di(uc),hc=Di(uc);function Ea(a){if(a===uc)throw Error(n(174));return a}function Xf(a,c){switch(mt(hc,c),mt(dc,a),mt(Nr,uc),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Es(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Es(c,a)}wt(Nr),mt(Nr,c)}function Ws(){wt(Nr),wt(dc),wt(hc)}function mk(a){Ea(hc.current);var c=Ea(Nr.current),h=Es(c,a.type);c!==h&&(mt(dc,a),mt(Nr,h))}function Zf(a){dc.current===a&&(wt(Nr),wt(dc))}var xt=Di(0);function eu(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ep=[];function tp(){for(var a=0;a<ep.length;a++)ep[a]._workInProgressVersionPrimary=null;ep.length=0}var tu=D.ReactCurrentDispatcher,np=D.ReactCurrentBatchConfig,Ca=0,Mt=null,Ft=null,Ut=null,nu=!1,fc=!1,pc=0,dN=0;function en(){throw Error(n(321))}function rp(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!sr(a[h],c[h]))return!1;return!0}function ip(a,c,h,g,b,k){if(Ca=k,Mt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,tu.current=a===null||a.memoizedState===null?mN:gN,a=h(g,b),fc){k=0;do{if(fc=!1,pc=0,25<=k)throw Error(n(301));k+=1,Ut=Ft=null,c.updateQueue=null,tu.current=vN,a=h(g,b)}while(fc)}if(tu.current=au,c=Ft!==null&&Ft.next!==null,Ca=0,Ut=Ft=Mt=null,nu=!1,c)throw Error(n(300));return a}function ap(){var a=pc!==0;return pc=0,a}function Dr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Mt.memoizedState=Ut=a:Ut=Ut.next=a,Ut}function zn(){if(Ft===null){var a=Mt.alternate;a=a!==null?a.memoizedState:null}else a=Ft.next;var c=Ut===null?Mt.memoizedState:Ut.next;if(c!==null)Ut=c,Ft=a;else{if(a===null)throw Error(n(310));Ft=a,a={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ut===null?Mt.memoizedState=Ut=a:Ut=Ut.next=a}return Ut}function mc(a,c){return typeof c=="function"?c(a):c}function sp(a){var c=zn(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=Ft,b=g.baseQueue,k=h.pending;if(k!==null){if(b!==null){var M=b.next;b.next=k.next,k.next=M}g.baseQueue=b=k,h.pending=null}if(b!==null){k=b.next,g=g.baseState;var N=M=null,F=null,J=k;do{var re=J.lane;if((Ca&re)===re)F!==null&&(F=F.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),g=J.hasEagerState?J.eagerState:a(g,J.action);else{var ie={lane:re,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};F===null?(N=F=ie,M=g):F=F.next=ie,Mt.lanes|=re,Ta|=re}J=J.next}while(J!==null&&J!==k);F===null?M=g:F.next=N,sr(g,c.memoizedState)||(wn=!0),c.memoizedState=g,c.baseState=M,c.baseQueue=F,h.lastRenderedState=g}if(a=h.interleaved,a!==null){b=a;do k=b.lane,Mt.lanes|=k,Ta|=k,b=b.next;while(b!==a)}else b===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function op(a){var c=zn(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,b=h.pending,k=c.memoizedState;if(b!==null){h.pending=null;var M=b=b.next;do k=a(k,M.action),M=M.next;while(M!==b);sr(k,c.memoizedState)||(wn=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),h.lastRenderedState=k}return[k,g]}function gk(){}function vk(a,c){var h=Mt,g=zn(),b=c(),k=!sr(g.memoizedState,b);if(k&&(g.memoizedState=b,wn=!0),g=g.queue,cp(bk.bind(null,h,g,a),[a]),g.getSnapshot!==c||k||Ut!==null&&Ut.memoizedState.tag&1){if(h.flags|=2048,gc(9,_k.bind(null,h,g,b,c),void 0,null),qt===null)throw Error(n(349));(Ca&30)!==0||yk(h,c,b)}return b}function yk(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=Mt.updateQueue,c===null?(c={lastEffect:null,stores:null},Mt.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function _k(a,c,h,g){c.value=h,c.getSnapshot=g,wk(c)&&kk(a)}function bk(a,c,h){return h(function(){wk(c)&&kk(a)})}function wk(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!sr(a,h)}catch{return!0}}function kk(a){var c=ni(a,1);c!==null&&dr(c,a,1,-1)}function Sk(a){var c=Dr();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:a},c.queue=a,a=a.dispatch=pN.bind(null,Mt,a),[c.memoizedState,a]}function gc(a,c,h,g){return a={tag:a,create:c,destroy:h,deps:g,next:null},c=Mt.updateQueue,c===null?(c={lastEffect:null,stores:null},Mt.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect,h===null?c.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,c.lastEffect=a)),a}function Ek(){return zn().memoizedState}function ru(a,c,h,g){var b=Dr();Mt.flags|=a,b.memoizedState=gc(1|c,h,void 0,g===void 0?null:g)}function iu(a,c,h,g){var b=zn();g=g===void 0?null:g;var k=void 0;if(Ft!==null){var M=Ft.memoizedState;if(k=M.destroy,g!==null&&rp(g,M.deps)){b.memoizedState=gc(c,h,k,g);return}}Mt.flags|=a,b.memoizedState=gc(1|c,h,k,g)}function Ck(a,c){return ru(8390656,8,a,c)}function cp(a,c){return iu(2048,8,a,c)}function Tk(a,c){return iu(4,2,a,c)}function xk(a,c){return iu(4,4,a,c)}function Mk(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function Ak(a,c,h){return h=h!=null?h.concat([a]):null,iu(4,4,Mk.bind(null,c,a),h)}function lp(){}function Pk(a,c){var h=zn();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&rp(c,g[1])?g[0]:(h.memoizedState=[a,c],a)}function Ok(a,c){var h=zn();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&rp(c,g[1])?g[0]:(a=a(),h.memoizedState=[a,c],a)}function jk(a,c,h){return(Ca&21)===0?(a.baseState&&(a.baseState=!1,wn=!0),a.memoizedState=h):(sr(h,c)||(h=cw(),Mt.lanes|=h,Ta|=h,a.baseState=!0),c)}function hN(a,c){var h=nt;nt=h!==0&&4>h?h:4,a(!0);var g=np.transition;np.transition={};try{a(!1),c()}finally{nt=h,np.transition=g}}function Ik(){return zn().memoizedState}function fN(a,c,h){var g=Vi(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Lk(a))Nk(c,h);else if(h=dk(a,c,h,g),h!==null){var b=un();dr(h,a,g,b),Dk(h,c,g)}}function pN(a,c,h){var g=Vi(a),b={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Lk(a))Nk(c,b);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var M=c.lastRenderedState,N=k(M,h);if(b.hasEagerState=!0,b.eagerState=N,sr(N,M)){var F=c.interleaved;F===null?(b.next=b,Qf(c)):(b.next=F.next,F.next=b),c.interleaved=b;return}}catch{}finally{}h=dk(a,c,b,g),h!==null&&(b=un(),dr(h,a,g,b),Dk(h,c,g))}}function Lk(a){var c=a.alternate;return a===Mt||c!==null&&c===Mt}function Nk(a,c){fc=nu=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function Dk(a,c,h){if((h&4194240)!==0){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,df(a,h)}}var au={readContext:Vn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},mN={readContext:Vn,useCallback:function(a,c){return Dr().memoizedState=[a,c===void 0?null:c],a},useContext:Vn,useEffect:Ck,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,ru(4194308,4,Mk.bind(null,c,a),h)},useLayoutEffect:function(a,c){return ru(4194308,4,a,c)},useInsertionEffect:function(a,c){return ru(4,2,a,c)},useMemo:function(a,c){var h=Dr();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var g=Dr();return c=h!==void 0?h(c):c,g.memoizedState=g.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},g.queue=a,a=a.dispatch=fN.bind(null,Mt,a),[g.memoizedState,a]},useRef:function(a){var c=Dr();return a={current:a},c.memoizedState=a},useState:Sk,useDebugValue:lp,useDeferredValue:function(a){return Dr().memoizedState=a},useTransition:function(){var a=Sk(!1),c=a[0];return a=hN.bind(null,a[1]),Dr().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,h){var g=Mt,b=Dr();if(St){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),qt===null)throw Error(n(349));(Ca&30)!==0||yk(g,c,h)}b.memoizedState=h;var k={value:h,getSnapshot:c};return b.queue=k,Ck(bk.bind(null,g,k,a),[a]),g.flags|=2048,gc(9,_k.bind(null,g,k,h,c),void 0,null),h},useId:function(){var a=Dr(),c=qt.identifierPrefix;if(St){var h=ti,g=ei;h=(g&~(1<<32-ar(g)-1)).toString(32)+h,c=":"+c+"R"+h,h=pc++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=dN++,c=":"+c+"r"+h.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},gN={readContext:Vn,useCallback:Pk,useContext:Vn,useEffect:cp,useImperativeHandle:Ak,useInsertionEffect:Tk,useLayoutEffect:xk,useMemo:Ok,useReducer:sp,useRef:Ek,useState:function(){return sp(mc)},useDebugValue:lp,useDeferredValue:function(a){var c=zn();return jk(c,Ft.memoizedState,a)},useTransition:function(){var a=sp(mc)[0],c=zn().memoizedState;return[a,c]},useMutableSource:gk,useSyncExternalStore:vk,useId:Ik,unstable_isNewReconciler:!1},vN={readContext:Vn,useCallback:Pk,useContext:Vn,useEffect:cp,useImperativeHandle:Ak,useInsertionEffect:Tk,useLayoutEffect:xk,useMemo:Ok,useReducer:op,useRef:Ek,useState:function(){return op(mc)},useDebugValue:lp,useDeferredValue:function(a){var c=zn();return Ft===null?c.memoizedState=a:jk(c,Ft.memoizedState,a)},useTransition:function(){var a=op(mc)[0],c=zn().memoizedState;return[a,c]},useMutableSource:gk,useSyncExternalStore:vk,useId:Ik,unstable_isNewReconciler:!1};function cr(a,c){if(a&&a.defaultProps){c=de({},c),a=a.defaultProps;for(var h in a)c[h]===void 0&&(c[h]=a[h]);return c}return c}function up(a,c,h,g){c=a.memoizedState,h=h(g,c),h=h==null?c:de({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var su={isMounted:function(a){return(a=a._reactInternals)?ya(a)===a:!1},enqueueSetState:function(a,c,h){a=a._reactInternals;var g=un(),b=Vi(a),k=ri(g,b);k.payload=c,h!=null&&(k.callback=h),c=Bi(a,k,b),c!==null&&(dr(c,a,b,g),Xl(c,a,b))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var g=un(),b=Vi(a),k=ri(g,b);k.tag=1,k.payload=c,h!=null&&(k.callback=h),c=Bi(a,k,b),c!==null&&(dr(c,a,b,g),Xl(c,a,b))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=un(),g=Vi(a),b=ri(h,g);b.tag=2,c!=null&&(b.callback=c),c=Bi(a,b,g),c!==null&&(dr(c,a,g,h),Xl(c,a,g))}};function Rk(a,c,h,g,b,k,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,k,M):c.prototype&&c.prototype.isPureReactComponent?!nc(h,g)||!nc(b,k):!0}function $k(a,c,h){var g=!1,b=Ri,k=c.contextType;return typeof k=="object"&&k!==null?k=Vn(k):(b=bn(c)?ba:Zt.current,g=c.contextTypes,k=(g=g!=null)?Ds(a,b):Ri),c=new c(h,k),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=su,a.stateNode=c,c._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=k),c}function Fk(a,c,h,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==a&&su.enqueueReplaceState(c,c.state,null)}function dp(a,c,h,g){var b=a.stateNode;b.props=h,b.state=a.memoizedState,b.refs={},Kf(a);var k=c.contextType;typeof k=="object"&&k!==null?b.context=Vn(k):(k=bn(c)?ba:Zt.current,b.context=Ds(a,k)),b.state=a.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(up(a,c,k,h),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&su.enqueueReplaceState(b,b.state,null),Zl(a,h,b,g),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function Vs(a,c){try{var h="",g=c;do h+=p(g),g=g.return;while(g);var b=h}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:a,source:c,stack:b,digest:null}}function hp(a,c,h){return{value:a,source:null,stack:h??null,digest:c??null}}function fp(a,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var yN=typeof WeakMap=="function"?WeakMap:Map;function Bk(a,c,h){h=ri(-1,h),h.tag=3,h.payload={element:null};var g=c.value;return h.callback=function(){fu||(fu=!0,Mp=g),fp(a,c)},h}function Uk(a,c,h){h=ri(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var b=c.value;h.payload=function(){return g(b)},h.callback=function(){fp(a,c)}}var k=a.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){fp(a,c),typeof g!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})}),h}function qk(a,c,h){var g=a.pingCache;if(g===null){g=a.pingCache=new yN;var b=new Set;g.set(c,b)}else b=g.get(c),b===void 0&&(b=new Set,g.set(c,b));b.has(h)||(b.add(h),a=jN.bind(null,a,c,h),c.then(a,a))}function Wk(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function Vk(a,c,h,g,b){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=ri(-1,1),c.tag=2,Bi(h,c,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var _N=D.ReactCurrentOwner,wn=!1;function ln(a,c,h,g){c.child=a===null?uk(c,null,h,g):Bs(c,a.child,h,g)}function zk(a,c,h,g,b){h=h.render;var k=c.ref;return qs(c,b),g=ip(a,c,h,g,k,b),h=ap(),a!==null&&!wn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~b,ii(a,c,b)):(St&&h&&Uf(c),c.flags|=1,ln(a,c,g,b),c.child)}function Hk(a,c,h,g,b){if(a===null){var k=h.type;return typeof k=="function"&&!Np(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=k,Jk(a,c,k,g,b)):(a=_u(h.type,null,g,c,c.mode,b),a.ref=c.ref,a.return=c,c.child=a)}if(k=a.child,(a.lanes&b)===0){var M=k.memoizedProps;if(h=h.compare,h=h!==null?h:nc,h(M,g)&&a.ref===c.ref)return ii(a,c,b)}return c.flags|=1,a=Hi(k,g),a.ref=c.ref,a.return=c,c.child=a}function Jk(a,c,h,g,b){if(a!==null){var k=a.memoizedProps;if(nc(k,g)&&a.ref===c.ref)if(wn=!1,c.pendingProps=g=k,(a.lanes&b)!==0)(a.flags&131072)!==0&&(wn=!0);else return c.lanes=a.lanes,ii(a,c,b)}return pp(a,c,h,g,b)}function Gk(a,c,h){var g=c.pendingProps,b=g.children,k=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Hs,On),On|=h;else{if((h&1073741824)===0)return a=k!==null?k.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,mt(Hs,On),On|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:h,mt(Hs,On),On|=g}else k!==null?(g=k.baseLanes|h,c.memoizedState=null):g=h,mt(Hs,On),On|=g;return ln(a,c,b,h),c.child}function Yk(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function pp(a,c,h,g,b){var k=bn(h)?ba:Zt.current;return k=Ds(c,k),qs(c,b),h=ip(a,c,h,g,k,b),g=ap(),a!==null&&!wn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~b,ii(a,c,b)):(St&&g&&Uf(c),c.flags|=1,ln(a,c,h,b),c.child)}function Qk(a,c,h,g,b){if(bn(h)){var k=!0;Vl(c)}else k=!1;if(qs(c,b),c.stateNode===null)cu(a,c),$k(c,h,g),dp(c,h,g,b),g=!0;else if(a===null){var M=c.stateNode,N=c.memoizedProps;M.props=N;var F=M.context,J=h.contextType;typeof J=="object"&&J!==null?J=Vn(J):(J=bn(h)?ba:Zt.current,J=Ds(c,J));var re=h.getDerivedStateFromProps,ie=typeof re=="function"||typeof M.getSnapshotBeforeUpdate=="function";ie||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(N!==g||F!==J)&&Fk(c,M,g,J),Fi=!1;var ee=c.memoizedState;M.state=ee,Zl(c,g,M,b),F=c.memoizedState,N!==g||ee!==F||_n.current||Fi?(typeof re=="function"&&(up(c,h,re,g),F=c.memoizedState),(N=Fi||Rk(c,h,N,g,ee,F,J))?(ie||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(c.flags|=4194308)):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=F),M.props=g,M.state=F,M.context=J,g=N):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{M=c.stateNode,hk(a,c),N=c.memoizedProps,J=c.type===c.elementType?N:cr(c.type,N),M.props=J,ie=c.pendingProps,ee=M.context,F=h.contextType,typeof F=="object"&&F!==null?F=Vn(F):(F=bn(h)?ba:Zt.current,F=Ds(c,F));var me=h.getDerivedStateFromProps;(re=typeof me=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(N!==ie||ee!==F)&&Fk(c,M,g,F),Fi=!1,ee=c.memoizedState,M.state=ee,Zl(c,g,M,b);var ve=c.memoizedState;N!==ie||ee!==ve||_n.current||Fi?(typeof me=="function"&&(up(c,h,me,g),ve=c.memoizedState),(J=Fi||Rk(c,h,J,g,ee,ve,F)||!1)?(re||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,ve,F),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,ve,F)),typeof M.componentDidUpdate=="function"&&(c.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof M.componentDidUpdate!="function"||N===a.memoizedProps&&ee===a.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ee===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ve),M.props=g,M.state=ve,M.context=F,g=J):(typeof M.componentDidUpdate!="function"||N===a.memoizedProps&&ee===a.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ee===a.memoizedState||(c.flags|=1024),g=!1)}return mp(a,c,h,g,k,b)}function mp(a,c,h,g,b,k){Yk(a,c);var M=(c.flags&128)!==0;if(!g&&!M)return b&&tk(c,h,!1),ii(a,c,k);g=c.stateNode,_N.current=c;var N=M&&typeof h.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,a!==null&&M?(c.child=Bs(c,a.child,null,k),c.child=Bs(c,null,N,k)):ln(a,c,N,k),c.memoizedState=g.state,b&&tk(c,h,!0),c.child}function Kk(a){var c=a.stateNode;c.pendingContext?Zw(a,c.pendingContext,c.pendingContext!==c.context):c.context&&Zw(a,c.context,!1),Xf(a,c.containerInfo)}function Xk(a,c,h,g,b){return Fs(),zf(b),c.flags|=256,ln(a,c,h,g),c.child}var gp={dehydrated:null,treeContext:null,retryLane:0};function vp(a){return{baseLanes:a,cachePool:null,transitions:null}}function Zk(a,c,h){var g=c.pendingProps,b=xt.current,k=!1,M=(c.flags&128)!==0,N;if((N=M)||(N=a!==null&&a.memoizedState===null?!1:(b&2)!==0),N?(k=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),mt(xt,b&1),a===null)return Vf(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(M=g.children,a=g.fallback,k?(g=c.mode,k=c.child,M={mode:"hidden",children:M},(g&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=M):k=bu(M,g,0,null),a=Pa(a,g,h,null),k.return=c,a.return=c,k.sibling=a,c.child=k,c.child.memoizedState=vp(h),c.memoizedState=gp,a):yp(c,M));if(b=a.memoizedState,b!==null&&(N=b.dehydrated,N!==null))return bN(a,c,M,g,N,b,h);if(k){k=g.fallback,M=c.mode,b=a.child,N=b.sibling;var F={mode:"hidden",children:g.children};return(M&1)===0&&c.child!==b?(g=c.child,g.childLanes=0,g.pendingProps=F,c.deletions=null):(g=Hi(b,F),g.subtreeFlags=b.subtreeFlags&14680064),N!==null?k=Hi(N,k):(k=Pa(k,M,h,null),k.flags|=2),k.return=c,g.return=c,g.sibling=k,c.child=g,g=k,k=c.child,M=a.child.memoizedState,M=M===null?vp(h):{baseLanes:M.baseLanes|h,cachePool:null,transitions:M.transitions},k.memoizedState=M,k.childLanes=a.childLanes&~h,c.memoizedState=gp,g}return k=a.child,a=k.sibling,g=Hi(k,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=h),g.return=c,g.sibling=null,a!==null&&(h=c.deletions,h===null?(c.deletions=[a],c.flags|=16):h.push(a)),c.child=g,c.memoizedState=null,g}function yp(a,c){return c=bu({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function ou(a,c,h,g){return g!==null&&zf(g),Bs(c,a.child,null,h),a=yp(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function bN(a,c,h,g,b,k,M){if(h)return c.flags&256?(c.flags&=-257,g=hp(Error(n(422))),ou(a,c,M,g)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(k=g.fallback,b=c.mode,g=bu({mode:"visible",children:g.children},b,0,null),k=Pa(k,b,M,null),k.flags|=2,g.return=c,k.return=c,g.sibling=k,c.child=g,(c.mode&1)!==0&&Bs(c,a.child,null,M),c.child.memoizedState=vp(M),c.memoizedState=gp,k);if((c.mode&1)===0)return ou(a,c,M,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var N=g.dgst;return g=N,k=Error(n(419)),g=hp(k,g,void 0),ou(a,c,M,g)}if(N=(M&a.childLanes)!==0,wn||N){if(g=qt,g!==null){switch(M&-M){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|M))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,ni(a,b),dr(g,a,b,-1))}return Lp(),g=hp(Error(n(421))),ou(a,c,M,g)}return b.data==="$?"?(c.flags|=128,c.child=a.child,c=IN.bind(null,a),b._reactRetry=c,null):(a=k.treeContext,Pn=Ni(b.nextSibling),An=c,St=!0,or=null,a!==null&&(qn[Wn++]=ei,qn[Wn++]=ti,qn[Wn++]=wa,ei=a.id,ti=a.overflow,wa=c),c=yp(c,g.children),c.flags|=4096,c)}function eS(a,c,h){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),Yf(a.return,c,h)}function _p(a,c,h,g,b){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=h,k.tailMode=b)}function tS(a,c,h){var g=c.pendingProps,b=g.revealOrder,k=g.tail;if(ln(a,c,g.children,h),g=xt.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&eS(a,h,c);else if(a.tag===19)eS(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(mt(xt,g),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(h=c.child,b=null;h!==null;)a=h.alternate,a!==null&&eu(a)===null&&(b=h),h=h.sibling;h=b,h===null?(b=c.child,c.child=null):(b=h.sibling,h.sibling=null),_p(c,!1,b,h,k);break;case"backwards":for(h=null,b=c.child,c.child=null;b!==null;){if(a=b.alternate,a!==null&&eu(a)===null){c.child=b;break}a=b.sibling,b.sibling=h,h=b,b=a}_p(c,!0,h,null,k);break;case"together":_p(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function cu(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function ii(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Ta|=c.lanes,(h&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=Hi(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Hi(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function wN(a,c,h){switch(c.tag){case 3:Kk(c),Fs();break;case 5:mk(c);break;case 1:bn(c.type)&&Vl(c);break;case 4:Xf(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,b=c.memoizedProps.value;mt(Ql,g._currentValue),g._currentValue=b;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(mt(xt,xt.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?Zk(a,c,h):(mt(xt,xt.current&1),a=ii(a,c,h),a!==null?a.sibling:null);mt(xt,xt.current&1);break;case 19:if(g=(h&c.childLanes)!==0,(a.flags&128)!==0){if(g)return tS(a,c,h);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),mt(xt,xt.current),g)break;return null;case 22:case 23:return c.lanes=0,Gk(a,c,h)}return ii(a,c,h)}var nS,bp,rS,iS;nS=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},bp=function(){},rS=function(a,c,h,g){var b=a.memoizedProps;if(b!==g){a=c.stateNode,Ea(Nr.current);var k=null;switch(h){case"input":b=Le(a,b),g=Le(a,g),k=[];break;case"select":b=de({},b,{value:void 0}),g=de({},g,{value:void 0}),k=[];break;case"textarea":b=pe(a,b),g=pe(a,g),k=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Ul)}Zh(h,g);var M;h=null;for(J in b)if(!g.hasOwnProperty(J)&&b.hasOwnProperty(J)&&b[J]!=null)if(J==="style"){var N=b[J];for(M in N)N.hasOwnProperty(M)&&(h||(h={}),h[M]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?k||(k=[]):(k=k||[]).push(J,null));for(J in g){var F=g[J];if(N=b?.[J],g.hasOwnProperty(J)&&F!==N&&(F!=null||N!=null))if(J==="style")if(N){for(M in N)!N.hasOwnProperty(M)||F&&F.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in F)F.hasOwnProperty(M)&&N[M]!==F[M]&&(h||(h={}),h[M]=F[M])}else h||(k||(k=[]),k.push(J,h)),h=F;else J==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,N=N?N.__html:void 0,F!=null&&N!==F&&(k=k||[]).push(J,F)):J==="children"?typeof F!="string"&&typeof F!="number"||(k=k||[]).push(J,""+F):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(F!=null&&J==="onScroll"&&bt("scroll",a),k||N===F||(k=[])):(k=k||[]).push(J,F))}h&&(k=k||[]).push("style",h);var J=k;(c.updateQueue=J)&&(c.flags|=4)}},iS=function(a,c,h,g){h!==g&&(c.flags|=4)};function vc(a,c){if(!St)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function tn(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(c)for(var b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=h,c}function kN(a,c,h){var g=c.pendingProps;switch(qf(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(c),null;case 1:return bn(c.type)&&Wl(),tn(c),null;case 3:return g=c.stateNode,Ws(),wt(_n),wt(Zt),tp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Gl(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,or!==null&&(Op(or),or=null))),bp(a,c),tn(c),null;case 5:Zf(c);var b=Ea(hc.current);if(h=c.type,a!==null&&c.stateNode!=null)rS(a,c,h,g,b),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(n(166));return tn(c),null}if(a=Ea(Nr.current),Gl(c)){g=c.stateNode,h=c.type;var k=c.memoizedProps;switch(g[Lr]=c,g[oc]=k,a=(c.mode&1)!==0,h){case"dialog":bt("cancel",g),bt("close",g);break;case"iframe":case"object":case"embed":bt("load",g);break;case"video":case"audio":for(b=0;b<ic.length;b++)bt(ic[b],g);break;case"source":bt("error",g);break;case"img":case"image":case"link":bt("error",g),bt("load",g);break;case"details":bt("toggle",g);break;case"input":we(g,k),bt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},bt("invalid",g);break;case"textarea":Ze(g,k),bt("invalid",g)}Zh(h,k),b=null;for(var M in k)if(k.hasOwnProperty(M)){var N=k[M];M==="children"?typeof N=="string"?g.textContent!==N&&(k.suppressHydrationWarning!==!0&&Bl(g.textContent,N,a),b=["children",N]):typeof N=="number"&&g.textContent!==""+N&&(k.suppressHydrationWarning!==!0&&Bl(g.textContent,N,a),b=["children",""+N]):i.hasOwnProperty(M)&&N!=null&&M==="onScroll"&&bt("scroll",g)}switch(h){case"input":W(g),Te(g,k,!0);break;case"textarea":W(g),nr(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=Ul)}g=b,c.updateQueue=g,g!==null&&(c.flags|=4)}else{M=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=xi(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=M.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=M.createElement(h,{is:g.is}):(a=M.createElement(h),h==="select"&&(M=a,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):a=M.createElementNS(a,h),a[Lr]=c,a[oc]=g,nS(a,c,!1,!1),c.stateNode=a;e:{switch(M=ef(h,g),h){case"dialog":bt("cancel",a),bt("close",a),b=g;break;case"iframe":case"object":case"embed":bt("load",a),b=g;break;case"video":case"audio":for(b=0;b<ic.length;b++)bt(ic[b],a);b=g;break;case"source":bt("error",a),b=g;break;case"img":case"image":case"link":bt("error",a),bt("load",a),b=g;break;case"details":bt("toggle",a),b=g;break;case"input":we(a,g),b=Le(a,g),bt("invalid",a);break;case"option":b=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},b=de({},g,{value:void 0}),bt("invalid",a);break;case"textarea":Ze(a,g),b=pe(a,g),bt("invalid",a);break;default:b=g}Zh(h,b),N=b;for(k in N)if(N.hasOwnProperty(k)){var F=N[k];k==="style"?jr(a,F):k==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Bo(a,F)):k==="children"?typeof F=="string"?(h!=="textarea"||F!=="")&&Mi(a,F):typeof F=="number"&&Mi(a,""+F):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?F!=null&&k==="onScroll"&&bt("scroll",a):F!=null&&$(a,k,F,M))}switch(h){case"input":W(a),Te(a,g,!1);break;case"textarea":W(a),nr(a);break;case"option":g.value!=null&&a.setAttribute("value",""+T(g.value));break;case"select":a.multiple=!!g.multiple,k=g.value,k!=null?pt(a,!!g.multiple,k,!1):g.defaultValue!=null&&pt(a,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=Ul)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return tn(c),null;case 6:if(a&&c.stateNode!=null)iS(a,c,a.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(h=Ea(hc.current),Ea(Nr.current),Gl(c)){if(g=c.stateNode,h=c.memoizedProps,g[Lr]=c,(k=g.nodeValue!==h)&&(a=An,a!==null))switch(a.tag){case 3:Bl(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Bl(g.nodeValue,h,(a.mode&1)!==0)}k&&(c.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Lr]=c,c.stateNode=g}return tn(c),null;case 13:if(wt(xt),g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(St&&Pn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)ok(),Fs(),c.flags|=98560,k=!1;else if(k=Gl(c),g!==null&&g.dehydrated!==null){if(a===null){if(!k)throw Error(n(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Lr]=c}else Fs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;tn(c),k=!1}else or!==null&&(Op(or),or=null),k=!0;if(!k)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(xt.current&1)!==0?Bt===0&&(Bt=3):Lp())),c.updateQueue!==null&&(c.flags|=4),tn(c),null);case 4:return Ws(),bp(a,c),a===null&&ac(c.stateNode.containerInfo),tn(c),null;case 10:return Gf(c.type._context),tn(c),null;case 17:return bn(c.type)&&Wl(),tn(c),null;case 19:if(wt(xt),k=c.memoizedState,k===null)return tn(c),null;if(g=(c.flags&128)!==0,M=k.rendering,M===null)if(g)vc(k,!1);else{if(Bt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(M=eu(a),M!==null){for(c.flags|=128,vc(k,!1),g=M.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=h,h=c.child;h!==null;)k=h,a=g,k.flags&=14680066,M=k.alternate,M===null?(k.childLanes=0,k.lanes=a,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=M.childLanes,k.lanes=M.lanes,k.child=M.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=M.memoizedProps,k.memoizedState=M.memoizedState,k.updateQueue=M.updateQueue,k.type=M.type,a=M.dependencies,k.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return mt(xt,xt.current&1|2),c.child}a=a.sibling}k.tail!==null&&It()>Js&&(c.flags|=128,g=!0,vc(k,!1),c.lanes=4194304)}else{if(!g)if(a=eu(M),a!==null){if(c.flags|=128,g=!0,h=a.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),vc(k,!0),k.tail===null&&k.tailMode==="hidden"&&!M.alternate&&!St)return tn(c),null}else 2*It()-k.renderingStartTime>Js&&h!==1073741824&&(c.flags|=128,g=!0,vc(k,!1),c.lanes=4194304);k.isBackwards?(M.sibling=c.child,c.child=M):(h=k.last,h!==null?h.sibling=M:c.child=M,k.last=M)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=It(),c.sibling=null,h=xt.current,mt(xt,g?h&1|2:h&1),c):(tn(c),null);case 22:case 23:return Ip(),g=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(On&1073741824)!==0&&(tn(c),c.subtreeFlags&6&&(c.flags|=8192)):tn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function SN(a,c){switch(qf(c),c.tag){case 1:return bn(c.type)&&Wl(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Ws(),wt(_n),wt(Zt),tp(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return Zf(c),null;case 13:if(wt(xt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Fs()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return wt(xt),null;case 4:return Ws(),null;case 10:return Gf(c.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var lu=!1,nn=!1,EN=typeof WeakSet=="function"?WeakSet:Set,ge=null;function zs(a,c){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Pt(a,c,g)}else h.current=null}function wp(a,c,h){try{h()}catch(g){Pt(a,c,g)}}var aS=!1;function CN(a,c){if(If=Al,a=Rw(),Cf(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var M=0,N=-1,F=-1,J=0,re=0,ie=a,ee=null;t:for(;;){for(var me;ie!==h||b!==0&&ie.nodeType!==3||(N=M+b),ie!==k||g!==0&&ie.nodeType!==3||(F=M+g),ie.nodeType===3&&(M+=ie.nodeValue.length),(me=ie.firstChild)!==null;)ee=ie,ie=me;for(;;){if(ie===a)break t;if(ee===h&&++J===b&&(N=M),ee===k&&++re===g&&(F=M),(me=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=me}h=N===-1||F===-1?null:{start:N,end:F}}else h=null}h=h||{start:0,end:0}}else h=null;for(Lf={focusedElem:a,selectionRange:h},Al=!1,ge=c;ge!==null;)if(c=ge,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,ge=a;else for(;ge!==null;){c=ge;try{var ve=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var ye=ve.memoizedProps,Lt=ve.memoizedState,V=c.stateNode,B=V.getSnapshotBeforeUpdate(c.elementType===c.type?ye:cr(c.type,ye),Lt);V.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var z=c.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){Pt(c,c.return,se)}if(a=c.sibling,a!==null){a.return=c.return,ge=a;break}ge=c.return}return ve=aS,aS=!1,ve}function yc(a,c,h){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&a)===a){var k=b.destroy;b.destroy=void 0,k!==void 0&&wp(c,h,k)}b=b.next}while(b!==g)}}function uu(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==c)}}function kp(a){var c=a.ref;if(c!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof c=="function"?c(a):c.current=a}}function sS(a){var c=a.alternate;c!==null&&(a.alternate=null,sS(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Lr],delete c[oc],delete c[$f],delete c[oN],delete c[cN])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function oS(a){return a.tag===5||a.tag===3||a.tag===4}function cS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||oS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Sp(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(a,c):h.insertBefore(a,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(a,h)):(c=h,c.appendChild(a)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ul));else if(g!==4&&(a=a.child,a!==null))for(Sp(a,c,h),a=a.sibling;a!==null;)Sp(a,c,h),a=a.sibling}function Ep(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Ep(a,c,h),a=a.sibling;a!==null;)Ep(a,c,h),a=a.sibling}var Ht=null,lr=!1;function Ui(a,c,h){for(h=h.child;h!==null;)lS(a,c,h),h=h.sibling}function lS(a,c,h){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Sl,h)}catch{}switch(h.tag){case 5:nn||zs(h,c);case 6:var g=Ht,b=lr;Ht=null,Ui(a,c,h),Ht=g,lr=b,Ht!==null&&(lr?(a=Ht,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):Ht.removeChild(h.stateNode));break;case 18:Ht!==null&&(lr?(a=Ht,h=h.stateNode,a.nodeType===8?Rf(a.parentNode,h):a.nodeType===1&&Rf(a,h),Qo(a)):Rf(Ht,h.stateNode));break;case 4:g=Ht,b=lr,Ht=h.stateNode.containerInfo,lr=!0,Ui(a,c,h),Ht=g,lr=b;break;case 0:case 11:case 14:case 15:if(!nn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var k=b,M=k.destroy;k=k.tag,M!==void 0&&((k&2)!==0||(k&4)!==0)&&wp(h,c,M),b=b.next}while(b!==g)}Ui(a,c,h);break;case 1:if(!nn&&(zs(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(N){Pt(h,c,N)}Ui(a,c,h);break;case 21:Ui(a,c,h);break;case 22:h.mode&1?(nn=(g=nn)||h.memoizedState!==null,Ui(a,c,h),nn=g):Ui(a,c,h);break;default:Ui(a,c,h)}}function uS(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new EN),c.forEach(function(g){var b=LN.bind(null,a,g);h.has(g)||(h.add(g),g.then(b,b))})}}function ur(a,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];try{var k=a,M=c,N=M;e:for(;N!==null;){switch(N.tag){case 5:Ht=N.stateNode,lr=!1;break e;case 3:Ht=N.stateNode.containerInfo,lr=!0;break e;case 4:Ht=N.stateNode.containerInfo,lr=!0;break e}N=N.return}if(Ht===null)throw Error(n(160));lS(k,M,b),Ht=null,lr=!1;var F=b.alternate;F!==null&&(F.return=null),b.return=null}catch(J){Pt(b,c,J)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)dS(c,a),c=c.sibling}function dS(a,c){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ur(c,a),Rr(a),g&4){try{yc(3,a,a.return),uu(3,a)}catch(ye){Pt(a,a.return,ye)}try{yc(5,a,a.return)}catch(ye){Pt(a,a.return,ye)}}break;case 1:ur(c,a),Rr(a),g&512&&h!==null&&zs(h,h.return);break;case 5:if(ur(c,a),Rr(a),g&512&&h!==null&&zs(h,h.return),a.flags&32){var b=a.stateNode;try{Mi(b,"")}catch(ye){Pt(a,a.return,ye)}}if(g&4&&(b=a.stateNode,b!=null)){var k=a.memoizedProps,M=h!==null?h.memoizedProps:k,N=a.type,F=a.updateQueue;if(a.updateQueue=null,F!==null)try{N==="input"&&k.type==="radio"&&k.name!=null&&Re(b,k),ef(N,M);var J=ef(N,k);for(M=0;M<F.length;M+=2){var re=F[M],ie=F[M+1];re==="style"?jr(b,ie):re==="dangerouslySetInnerHTML"?Bo(b,ie):re==="children"?Mi(b,ie):$(b,re,ie,J)}switch(N){case"input":fe(b,k);break;case"textarea":xn(b,k);break;case"select":var ee=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var me=k.value;me!=null?pt(b,!!k.multiple,me,!1):ee!==!!k.multiple&&(k.defaultValue!=null?pt(b,!!k.multiple,k.defaultValue,!0):pt(b,!!k.multiple,k.multiple?[]:"",!1))}b[oc]=k}catch(ye){Pt(a,a.return,ye)}}break;case 6:if(ur(c,a),Rr(a),g&4){if(a.stateNode===null)throw Error(n(162));b=a.stateNode,k=a.memoizedProps;try{b.nodeValue=k}catch(ye){Pt(a,a.return,ye)}}break;case 3:if(ur(c,a),Rr(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Qo(c.containerInfo)}catch(ye){Pt(a,a.return,ye)}break;case 4:ur(c,a),Rr(a);break;case 13:ur(c,a),Rr(a),b=a.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(xp=It())),g&4&&uS(a);break;case 22:if(re=h!==null&&h.memoizedState!==null,a.mode&1?(nn=(J=nn)||re,ur(c,a),nn=J):ur(c,a),Rr(a),g&8192){if(J=a.memoizedState!==null,(a.stateNode.isHidden=J)&&!re&&(a.mode&1)!==0)for(ge=a,re=a.child;re!==null;){for(ie=ge=re;ge!==null;){switch(ee=ge,me=ee.child,ee.tag){case 0:case 11:case 14:case 15:yc(4,ee,ee.return);break;case 1:zs(ee,ee.return);var ve=ee.stateNode;if(typeof ve.componentWillUnmount=="function"){g=ee,h=ee.return;try{c=g,ve.props=c.memoizedProps,ve.state=c.memoizedState,ve.componentWillUnmount()}catch(ye){Pt(g,h,ye)}}break;case 5:zs(ee,ee.return);break;case 22:if(ee.memoizedState!==null){pS(ie);continue}}me!==null?(me.return=ee,ge=me):pS(ie)}re=re.sibling}e:for(re=null,ie=a;;){if(ie.tag===5){if(re===null){re=ie;try{b=ie.stateNode,J?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(N=ie.stateNode,F=ie.memoizedProps.style,M=F!=null&&F.hasOwnProperty("display")?F.display:null,N.style.display=ir("display",M))}catch(ye){Pt(a,a.return,ye)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=J?"":ie.memoizedProps}catch(ye){Pt(a,a.return,ye)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===a)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===a)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===a)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:ur(c,a),Rr(a),g&4&&uS(a);break;case 21:break;default:ur(c,a),Rr(a)}}function Rr(a){var c=a.flags;if(c&2){try{e:{for(var h=a.return;h!==null;){if(oS(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Mi(b,""),g.flags&=-33);var k=cS(a);Ep(a,k,b);break;case 3:case 4:var M=g.stateNode.containerInfo,N=cS(a);Sp(a,N,M);break;default:throw Error(n(161))}}catch(F){Pt(a,a.return,F)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function TN(a,c,h){ge=a,hS(a)}function hS(a,c,h){for(var g=(a.mode&1)!==0;ge!==null;){var b=ge,k=b.child;if(b.tag===22&&g){var M=b.memoizedState!==null||lu;if(!M){var N=b.alternate,F=N!==null&&N.memoizedState!==null||nn;N=lu;var J=nn;if(lu=M,(nn=F)&&!J)for(ge=b;ge!==null;)M=ge,F=M.child,M.tag===22&&M.memoizedState!==null?mS(b):F!==null?(F.return=M,ge=F):mS(b);for(;k!==null;)ge=k,hS(k),k=k.sibling;ge=b,lu=N,nn=J}fS(a)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,ge=k):fS(a)}}function fS(a){for(;ge!==null;){var c=ge;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:nn||uu(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!nn)if(h===null)g.componentDidMount();else{var b=c.elementType===c.type?h.memoizedProps:cr(c.type,h.memoizedProps);g.componentDidUpdate(b,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=c.updateQueue;k!==null&&pk(c,k,g);break;case 3:var M=c.updateQueue;if(M!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}pk(c,M,h)}break;case 5:var N=c.stateNode;if(h===null&&c.flags&4){h=N;var F=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&h.focus();break;case"img":F.src&&(h.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var J=c.alternate;if(J!==null){var re=J.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Qo(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nn||c.flags&512&&kp(c)}catch(ee){Pt(c,c.return,ee)}}if(c===a){ge=null;break}if(h=c.sibling,h!==null){h.return=c.return,ge=h;break}ge=c.return}}function pS(a){for(;ge!==null;){var c=ge;if(c===a){ge=null;break}var h=c.sibling;if(h!==null){h.return=c.return,ge=h;break}ge=c.return}}function mS(a){for(;ge!==null;){var c=ge;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{uu(4,c)}catch(F){Pt(c,h,F)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var b=c.return;try{g.componentDidMount()}catch(F){Pt(c,b,F)}}var k=c.return;try{kp(c)}catch(F){Pt(c,k,F)}break;case 5:var M=c.return;try{kp(c)}catch(F){Pt(c,M,F)}}}catch(F){Pt(c,c.return,F)}if(c===a){ge=null;break}var N=c.sibling;if(N!==null){N.return=c.return,ge=N;break}ge=c.return}}var xN=Math.ceil,du=D.ReactCurrentDispatcher,Cp=D.ReactCurrentOwner,Hn=D.ReactCurrentBatchConfig,Ye=0,qt=null,$t=null,Jt=0,On=0,Hs=Di(0),Bt=0,_c=null,Ta=0,hu=0,Tp=0,bc=null,kn=null,xp=0,Js=1/0,ai=null,fu=!1,Mp=null,qi=null,pu=!1,Wi=null,mu=0,wc=0,Ap=null,gu=-1,vu=0;function un(){return(Ye&6)!==0?It():gu!==-1?gu:gu=It()}function Vi(a){return(a.mode&1)===0?1:(Ye&2)!==0&&Jt!==0?Jt&-Jt:uN.transition!==null?(vu===0&&(vu=cw()),vu):(a=nt,a!==0||(a=window.event,a=a===void 0?16:vw(a.type)),a)}function dr(a,c,h,g){if(50<wc)throw wc=0,Ap=null,Error(n(185));zo(a,h,g),((Ye&2)===0||a!==qt)&&(a===qt&&((Ye&2)===0&&(hu|=h),Bt===4&&zi(a,Jt)),Sn(a,g),h===1&&Ye===0&&(c.mode&1)===0&&(Js=It()+500,zl&&$i()))}function Sn(a,c){var h=a.callbackNode;uL(a,c);var g=Tl(a,a===qt?Jt:0);if(g===0)h!==null&&aw(h),a.callbackNode=null,a.callbackPriority=0;else if(c=g&-g,a.callbackPriority!==c){if(h!=null&&aw(h),c===1)a.tag===0?lN(vS.bind(null,a)):nk(vS.bind(null,a)),aN(function(){(Ye&6)===0&&$i()}),h=null;else{switch(lw(g)){case 1:h=cf;break;case 4:h=sw;break;case 16:h=kl;break;case 536870912:h=ow;break;default:h=kl}h=CS(h,gS.bind(null,a))}a.callbackPriority=c,a.callbackNode=h}}function gS(a,c){if(gu=-1,vu=0,(Ye&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Gs()&&a.callbackNode!==h)return null;var g=Tl(a,a===qt?Jt:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||c)c=yu(a,g);else{c=g;var b=Ye;Ye|=2;var k=_S();(qt!==a||Jt!==c)&&(ai=null,Js=It()+500,Ma(a,c));do try{PN();break}catch(N){yS(a,N)}while(!0);Jf(),du.current=k,Ye=b,$t!==null?c=0:(qt=null,Jt=0,c=Bt)}if(c!==0){if(c===2&&(b=lf(a),b!==0&&(g=b,c=Pp(a,b))),c===1)throw h=_c,Ma(a,0),zi(a,g),Sn(a,It()),h;if(c===6)zi(a,g);else{if(b=a.current.alternate,(g&30)===0&&!MN(b)&&(c=yu(a,g),c===2&&(k=lf(a),k!==0&&(g=k,c=Pp(a,k))),c===1))throw h=_c,Ma(a,0),zi(a,g),Sn(a,It()),h;switch(a.finishedWork=b,a.finishedLanes=g,c){case 0:case 1:throw Error(n(345));case 2:Aa(a,kn,ai);break;case 3:if(zi(a,g),(g&130023424)===g&&(c=xp+500-It(),10<c)){if(Tl(a,0)!==0)break;if(b=a.suspendedLanes,(b&g)!==g){un(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=Df(Aa.bind(null,a,kn,ai),c);break}Aa(a,kn,ai);break;case 4:if(zi(a,g),(g&4194240)===g)break;for(c=a.eventTimes,b=-1;0<g;){var M=31-ar(g);k=1<<M,M=c[M],M>b&&(b=M),g&=~k}if(g=b,g=It()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*xN(g/1960))-g,10<g){a.timeoutHandle=Df(Aa.bind(null,a,kn,ai),g);break}Aa(a,kn,ai);break;case 5:Aa(a,kn,ai);break;default:throw Error(n(329))}}}return Sn(a,It()),a.callbackNode===h?gS.bind(null,a):null}function Pp(a,c){var h=bc;return a.current.memoizedState.isDehydrated&&(Ma(a,c).flags|=256),a=yu(a,c),a!==2&&(c=kn,kn=h,c!==null&&Op(c)),a}function Op(a){kn===null?kn=a:kn.push.apply(kn,a)}function MN(a){for(var c=a;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var b=h[g],k=b.getSnapshot;b=b.value;try{if(!sr(k(),b))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function zi(a,c){for(c&=~Tp,c&=~hu,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var h=31-ar(c),g=1<<h;a[h]=-1,c&=~g}}function vS(a){if((Ye&6)!==0)throw Error(n(327));Gs();var c=Tl(a,0);if((c&1)===0)return Sn(a,It()),null;var h=yu(a,c);if(a.tag!==0&&h===2){var g=lf(a);g!==0&&(c=g,h=Pp(a,g))}if(h===1)throw h=_c,Ma(a,0),zi(a,c),Sn(a,It()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Aa(a,kn,ai),Sn(a,It()),null}function jp(a,c){var h=Ye;Ye|=1;try{return a(c)}finally{Ye=h,Ye===0&&(Js=It()+500,zl&&$i())}}function xa(a){Wi!==null&&Wi.tag===0&&(Ye&6)===0&&Gs();var c=Ye;Ye|=1;var h=Hn.transition,g=nt;try{if(Hn.transition=null,nt=1,a)return a()}finally{nt=g,Hn.transition=h,Ye=c,(Ye&6)===0&&$i()}}function Ip(){On=Hs.current,wt(Hs)}function Ma(a,c){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,iN(h)),$t!==null)for(h=$t.return;h!==null;){var g=h;switch(qf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Wl();break;case 3:Ws(),wt(_n),wt(Zt),tp();break;case 5:Zf(g);break;case 4:Ws();break;case 13:wt(xt);break;case 19:wt(xt);break;case 10:Gf(g.type._context);break;case 22:case 23:Ip()}h=h.return}if(qt=a,$t=a=Hi(a.current,null),Jt=On=c,Bt=0,_c=null,Tp=hu=Ta=0,kn=bc=null,Sa!==null){for(c=0;c<Sa.length;c++)if(h=Sa[c],g=h.interleaved,g!==null){h.interleaved=null;var b=g.next,k=h.pending;if(k!==null){var M=k.next;k.next=b,g.next=M}h.pending=g}Sa=null}return a}function yS(a,c){do{var h=$t;try{if(Jf(),tu.current=au,nu){for(var g=Mt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}nu=!1}if(Ca=0,Ut=Ft=Mt=null,fc=!1,pc=0,Cp.current=null,h===null||h.return===null){Bt=1,_c=c,$t=null;break}e:{var k=a,M=h.return,N=h,F=c;if(c=Jt,N.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var J=F,re=N,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=re.alternate;ee?(re.updateQueue=ee.updateQueue,re.memoizedState=ee.memoizedState,re.lanes=ee.lanes):(re.updateQueue=null,re.memoizedState=null)}var me=Wk(M);if(me!==null){me.flags&=-257,Vk(me,M,N,k,c),me.mode&1&&qk(k,J,c),c=me,F=J;var ve=c.updateQueue;if(ve===null){var ye=new Set;ye.add(F),c.updateQueue=ye}else ve.add(F);break e}else{if((c&1)===0){qk(k,J,c),Lp();break e}F=Error(n(426))}}else if(St&&N.mode&1){var Lt=Wk(M);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),Vk(Lt,M,N,k,c),zf(Vs(F,N));break e}}k=F=Vs(F,N),Bt!==4&&(Bt=2),bc===null?bc=[k]:bc.push(k),k=M;do{switch(k.tag){case 3:k.flags|=65536,c&=-c,k.lanes|=c;var V=Bk(k,F,c);fk(k,V);break e;case 1:N=F;var B=k.type,z=k.stateNode;if((k.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(qi===null||!qi.has(z)))){k.flags|=65536,c&=-c,k.lanes|=c;var se=Uk(k,N,c);fk(k,se);break e}}k=k.return}while(k!==null)}wS(h)}catch(be){c=be,$t===h&&h!==null&&($t=h=h.return);continue}break}while(!0)}function _S(){var a=du.current;return du.current=au,a===null?au:a}function Lp(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),qt===null||(Ta&268435455)===0&&(hu&268435455)===0||zi(qt,Jt)}function yu(a,c){var h=Ye;Ye|=2;var g=_S();(qt!==a||Jt!==c)&&(ai=null,Ma(a,c));do try{AN();break}catch(b){yS(a,b)}while(!0);if(Jf(),Ye=h,du.current=g,$t!==null)throw Error(n(261));return qt=null,Jt=0,Bt}function AN(){for(;$t!==null;)bS($t)}function PN(){for(;$t!==null&&!tL();)bS($t)}function bS(a){var c=ES(a.alternate,a,On);a.memoizedProps=a.pendingProps,c===null?wS(a):$t=c,Cp.current=null}function wS(a){var c=a;do{var h=c.alternate;if(a=c.return,(c.flags&32768)===0){if(h=kN(h,c,On),h!==null){$t=h;return}}else{if(h=SN(h,c),h!==null){h.flags&=32767,$t=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Bt=6,$t=null;return}}if(c=c.sibling,c!==null){$t=c;return}$t=c=a}while(c!==null);Bt===0&&(Bt=5)}function Aa(a,c,h){var g=nt,b=Hn.transition;try{Hn.transition=null,nt=1,ON(a,c,h,g)}finally{Hn.transition=b,nt=g}return null}function ON(a,c,h,g){do Gs();while(Wi!==null);if((Ye&6)!==0)throw Error(n(327));h=a.finishedWork;var b=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var k=h.lanes|h.childLanes;if(dL(a,k),a===qt&&($t=qt=null,Jt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||pu||(pu=!0,CS(kl,function(){return Gs(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=Hn.transition,Hn.transition=null;var M=nt;nt=1;var N=Ye;Ye|=4,Cp.current=null,CN(a,h),dS(h,a),KL(Lf),Al=!!If,Lf=If=null,a.current=h,TN(h),nL(),Ye=N,nt=M,Hn.transition=k}else a.current=h;if(pu&&(pu=!1,Wi=a,mu=b),k=a.pendingLanes,k===0&&(qi=null),aL(h.stateNode),Sn(a,It()),c!==null)for(g=a.onRecoverableError,h=0;h<c.length;h++)b=c[h],g(b.value,{componentStack:b.stack,digest:b.digest});if(fu)throw fu=!1,a=Mp,Mp=null,a;return(mu&1)!==0&&a.tag!==0&&Gs(),k=a.pendingLanes,(k&1)!==0?a===Ap?wc++:(wc=0,Ap=a):wc=0,$i(),null}function Gs(){if(Wi!==null){var a=lw(mu),c=Hn.transition,h=nt;try{if(Hn.transition=null,nt=16>a?16:a,Wi===null)var g=!1;else{if(a=Wi,Wi=null,mu=0,(Ye&6)!==0)throw Error(n(331));var b=Ye;for(Ye|=4,ge=a.current;ge!==null;){var k=ge,M=k.child;if((ge.flags&16)!==0){var N=k.deletions;if(N!==null){for(var F=0;F<N.length;F++){var J=N[F];for(ge=J;ge!==null;){var re=ge;switch(re.tag){case 0:case 11:case 15:yc(8,re,k)}var ie=re.child;if(ie!==null)ie.return=re,ge=ie;else for(;ge!==null;){re=ge;var ee=re.sibling,me=re.return;if(sS(re),re===J){ge=null;break}if(ee!==null){ee.return=me,ge=ee;break}ge=me}}}var ve=k.alternate;if(ve!==null){var ye=ve.child;if(ye!==null){ve.child=null;do{var Lt=ye.sibling;ye.sibling=null,ye=Lt}while(ye!==null)}}ge=k}}if((k.subtreeFlags&2064)!==0&&M!==null)M.return=k,ge=M;else e:for(;ge!==null;){if(k=ge,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:yc(9,k,k.return)}var V=k.sibling;if(V!==null){V.return=k.return,ge=V;break e}ge=k.return}}var B=a.current;for(ge=B;ge!==null;){M=ge;var z=M.child;if((M.subtreeFlags&2064)!==0&&z!==null)z.return=M,ge=z;else e:for(M=B;ge!==null;){if(N=ge,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:uu(9,N)}}catch(be){Pt(N,N.return,be)}if(N===M){ge=null;break e}var se=N.sibling;if(se!==null){se.return=N.return,ge=se;break e}ge=N.return}}if(Ye=b,$i(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Sl,a)}catch{}g=!0}return g}finally{nt=h,Hn.transition=c}}return!1}function kS(a,c,h){c=Vs(h,c),c=Bk(a,c,1),a=Bi(a,c,1),c=un(),a!==null&&(zo(a,1,c),Sn(a,c))}function Pt(a,c,h){if(a.tag===3)kS(a,a,h);else for(;c!==null;){if(c.tag===3){kS(c,a,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(qi===null||!qi.has(g))){a=Vs(h,a),a=Uk(c,a,1),c=Bi(c,a,1),a=un(),c!==null&&(zo(c,1,a),Sn(c,a));break}}c=c.return}}function jN(a,c,h){var g=a.pingCache;g!==null&&g.delete(c),c=un(),a.pingedLanes|=a.suspendedLanes&h,qt===a&&(Jt&h)===h&&(Bt===4||Bt===3&&(Jt&130023424)===Jt&&500>It()-xp?Ma(a,0):Tp|=h),Sn(a,c)}function SS(a,c){c===0&&((a.mode&1)===0?c=1:(c=Cl,Cl<<=1,(Cl&130023424)===0&&(Cl=4194304)));var h=un();a=ni(a,c),a!==null&&(zo(a,c,h),Sn(a,h))}function IN(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),SS(a,h)}function LN(a,c){var h=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(c),SS(a,h)}var ES;ES=function(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps||_n.current)wn=!0;else{if((a.lanes&h)===0&&(c.flags&128)===0)return wn=!1,wN(a,c,h);wn=(a.flags&131072)!==0}else wn=!1,St&&(c.flags&1048576)!==0&&rk(c,Jl,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;cu(a,c),a=c.pendingProps;var b=Ds(c,Zt.current);qs(c,h),b=ip(null,c,g,a,b,h);var k=ap();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,bn(g)?(k=!0,Vl(c)):k=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Kf(c),b.updater=su,c.stateNode=b,b._reactInternals=c,dp(c,g,a,h),c=mp(null,c,g,!0,k,h)):(c.tag=0,St&&k&&Uf(c),ln(null,c,b,h),c=c.child),c;case 16:g=c.elementType;e:{switch(cu(a,c),a=c.pendingProps,b=g._init,g=b(g._payload),c.type=g,b=c.tag=DN(g),a=cr(g,a),b){case 0:c=pp(null,c,g,a,h);break e;case 1:c=Qk(null,c,g,a,h);break e;case 11:c=zk(null,c,g,a,h);break e;case 14:c=Hk(null,c,g,cr(g.type,a),h);break e}throw Error(n(306,g,""))}return c;case 0:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:cr(g,b),pp(a,c,g,b,h);case 1:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:cr(g,b),Qk(a,c,g,b,h);case 3:e:{if(Kk(c),a===null)throw Error(n(387));g=c.pendingProps,k=c.memoizedState,b=k.element,hk(a,c),Zl(c,g,null,h);var M=c.memoizedState;if(g=M.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){b=Vs(Error(n(423)),c),c=Xk(a,c,g,h,b);break e}else if(g!==b){b=Vs(Error(n(424)),c),c=Xk(a,c,g,h,b);break e}else for(Pn=Ni(c.stateNode.containerInfo.firstChild),An=c,St=!0,or=null,h=uk(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Fs(),g===b){c=ii(a,c,h);break e}ln(a,c,g,h)}c=c.child}return c;case 5:return mk(c),a===null&&Vf(c),g=c.type,b=c.pendingProps,k=a!==null?a.memoizedProps:null,M=b.children,Nf(g,b)?M=null:k!==null&&Nf(g,k)&&(c.flags|=32),Yk(a,c),ln(a,c,M,h),c.child;case 6:return a===null&&Vf(c),null;case 13:return Zk(a,c,h);case 4:return Xf(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=Bs(c,null,g,h):ln(a,c,g,h),c.child;case 11:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:cr(g,b),zk(a,c,g,b,h);case 7:return ln(a,c,c.pendingProps,h),c.child;case 8:return ln(a,c,c.pendingProps.children,h),c.child;case 12:return ln(a,c,c.pendingProps.children,h),c.child;case 10:e:{if(g=c.type._context,b=c.pendingProps,k=c.memoizedProps,M=b.value,mt(Ql,g._currentValue),g._currentValue=M,k!==null)if(sr(k.value,M)){if(k.children===b.children&&!_n.current){c=ii(a,c,h);break e}}else for(k=c.child,k!==null&&(k.return=c);k!==null;){var N=k.dependencies;if(N!==null){M=k.child;for(var F=N.firstContext;F!==null;){if(F.context===g){if(k.tag===1){F=ri(-1,h&-h),F.tag=2;var J=k.updateQueue;if(J!==null){J=J.shared;var re=J.pending;re===null?F.next=F:(F.next=re.next,re.next=F),J.pending=F}}k.lanes|=h,F=k.alternate,F!==null&&(F.lanes|=h),Yf(k.return,h,c),N.lanes|=h;break}F=F.next}}else if(k.tag===10)M=k.type===c.type?null:k.child;else if(k.tag===18){if(M=k.return,M===null)throw Error(n(341));M.lanes|=h,N=M.alternate,N!==null&&(N.lanes|=h),Yf(M,h,c),M=k.sibling}else M=k.child;if(M!==null)M.return=k;else for(M=k;M!==null;){if(M===c){M=null;break}if(k=M.sibling,k!==null){k.return=M.return,M=k;break}M=M.return}k=M}ln(a,c,b.children,h),c=c.child}return c;case 9:return b=c.type,g=c.pendingProps.children,qs(c,h),b=Vn(b),g=g(b),c.flags|=1,ln(a,c,g,h),c.child;case 14:return g=c.type,b=cr(g,c.pendingProps),b=cr(g.type,b),Hk(a,c,g,b,h);case 15:return Jk(a,c,c.type,c.pendingProps,h);case 17:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:cr(g,b),cu(a,c),c.tag=1,bn(g)?(a=!0,Vl(c)):a=!1,qs(c,h),$k(c,g,b),dp(c,g,b,h),mp(null,c,g,!0,a,h);case 19:return tS(a,c,h);case 22:return Gk(a,c,h)}throw Error(n(156,c.tag))};function CS(a,c){return iw(a,c)}function NN(a,c,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(a,c,h,g){return new NN(a,c,h,g)}function Np(a){return a=a.prototype,!(!a||!a.isReactComponent)}function DN(a){if(typeof a=="function")return Np(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Be)return 11;if(a===Tt)return 14}return 2}function Hi(a,c){var h=a.alternate;return h===null?(h=Jn(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function _u(a,c,h,g,b,k){var M=2;if(g=a,typeof a=="function")Np(a)&&(M=1);else if(typeof a=="string")M=5;else e:switch(a){case G:return Pa(h.children,b,k,c);case X:M=8,b|=8;break;case oe:return a=Jn(12,h,c,b|2),a.elementType=oe,a.lanes=k,a;case He:return a=Jn(13,h,c,b),a.elementType=He,a.lanes=k,a;case st:return a=Jn(19,h,c,b),a.elementType=st,a.lanes=k,a;case qe:return bu(h,b,k,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case ce:M=10;break e;case le:M=9;break e;case Be:M=11;break e;case Tt:M=14;break e;case ot:M=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Jn(M,h,c,b),c.elementType=a,c.type=g,c.lanes=k,c}function Pa(a,c,h,g){return a=Jn(7,a,g,c),a.lanes=h,a}function bu(a,c,h,g){return a=Jn(22,a,g,c),a.elementType=qe,a.lanes=h,a.stateNode={isHidden:!1},a}function Dp(a,c,h){return a=Jn(6,a,null,c),a.lanes=h,a}function Rp(a,c,h){return c=Jn(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function RN(a,c,h,g,b){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uf(0),this.expirationTimes=uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uf(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function $p(a,c,h,g,b,k,M,N,F){return a=new RN(a,c,h,N,F),c===1?(c=1,k===!0&&(c|=8)):c=0,k=Jn(3,null,null,c),a.current=k,k.stateNode=a,k.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kf(k),a}function $N(a,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:g==null?null:""+g,children:a,containerInfo:c,implementation:h}}function TS(a){if(!a)return Ri;a=a._reactInternals;e:{if(ya(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(bn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(bn(h))return ek(a,h,c)}return c}function xS(a,c,h,g,b,k,M,N,F){return a=$p(h,g,!0,a,b,k,M,N,F),a.context=TS(null),h=a.current,g=un(),b=Vi(h),k=ri(g,b),k.callback=c??null,Bi(h,k,b),a.current.lanes=b,zo(a,b,g),Sn(a,g),a}function wu(a,c,h,g){var b=c.current,k=un(),M=Vi(b);return h=TS(h),c.context===null?c.context=h:c.pendingContext=h,c=ri(k,M),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=Bi(b,c,M),a!==null&&(dr(a,b,M,k),Xl(a,b,M)),M}function ku(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function MS(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function Fp(a,c){MS(a,c),(a=a.alternate)&&MS(a,c)}function FN(){return null}var AS=typeof reportError=="function"?reportError:function(a){console.error(a)};function Bp(a){this._internalRoot=a}Su.prototype.render=Bp.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));wu(a,c,null,null)},Su.prototype.unmount=Bp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;xa(function(){wu(null,a,null,null)}),c[Xr]=null}};function Su(a){this._internalRoot=a}Su.prototype.unstable_scheduleHydration=function(a){if(a){var c=hw();a={blockedOn:null,target:a,priority:c};for(var h=0;h<ji.length&&c!==0&&c<ji[h].priority;h++);ji.splice(h,0,a),h===0&&mw(a)}};function Up(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Eu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function PS(){}function BN(a,c,h,g,b){if(b){if(typeof g=="function"){var k=g;g=function(){var J=ku(M);k.call(J)}}var M=xS(c,g,a,0,null,!1,!1,"",PS);return a._reactRootContainer=M,a[Xr]=M.current,ac(a.nodeType===8?a.parentNode:a),xa(),M}for(;b=a.lastChild;)a.removeChild(b);if(typeof g=="function"){var N=g;g=function(){var J=ku(F);N.call(J)}}var F=$p(a,0,!1,null,null,!1,!1,"",PS);return a._reactRootContainer=F,a[Xr]=F.current,ac(a.nodeType===8?a.parentNode:a),xa(function(){wu(c,F,h,g)}),F}function Cu(a,c,h,g,b){var k=h._reactRootContainer;if(k){var M=k;if(typeof b=="function"){var N=b;b=function(){var F=ku(M);N.call(F)}}wu(c,M,a,b)}else M=BN(h,c,a,b,g);return ku(M)}uw=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var h=Vo(c.pendingLanes);h!==0&&(df(c,h|1),Sn(c,It()),(Ye&6)===0&&(Js=It()+500,$i()))}break;case 13:xa(function(){var g=ni(a,1);if(g!==null){var b=un();dr(g,a,1,b)}}),Fp(a,1)}},hf=function(a){if(a.tag===13){var c=ni(a,134217728);if(c!==null){var h=un();dr(c,a,134217728,h)}Fp(a,134217728)}},dw=function(a){if(a.tag===13){var c=Vi(a),h=ni(a,c);if(h!==null){var g=un();dr(h,a,c,g)}Fp(a,c)}},hw=function(){return nt},fw=function(a,c){var h=nt;try{return nt=a,c()}finally{nt=h}},rf=function(a,c,h){switch(c){case"input":if(fe(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==a&&g.form===a.form){var b=ql(g);if(!b)throw Error(n(90));Z(g),fe(g,b)}}}break;case"textarea":xn(a,h);break;case"select":c=h.value,c!=null&&pt(a,!!h.multiple,c,!1)}},Kb=jp,Xb=xa;var UN={usingClientEntryPoint:!1,Events:[cc,Ls,ql,Yb,Qb,jp]},kc={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qN={bundleType:kc.bundleType,version:kc.version,rendererPackageName:kc.rendererPackageName,rendererConfig:kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=nw(a),a===null?null:a.stateNode},findFiberByHostInstance:kc.findFiberByHostInstance||FN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Sl=Tu.inject(qN),Ir=Tu}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UN,En.createPortal=function(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Up(c))throw Error(n(200));return $N(a,c,null,h)},En.createRoot=function(a,c){if(!Up(a))throw Error(n(299));var h=!1,g="",b=AS;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=$p(a,1,!1,null,null,h,!1,g,b),a[Xr]=c.current,ac(a.nodeType===8?a.parentNode:a),new Bp(c)},En.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=nw(c),a=a===null?null:a.stateNode,a},En.flushSync=function(a){return xa(a)},En.hydrate=function(a,c,h){if(!Eu(c))throw Error(n(200));return Cu(null,a,c,!0,h)},En.hydrateRoot=function(a,c,h){if(!Up(a))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,b=!1,k="",M=AS;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),c=xS(c,null,a,1,h??null,b,!1,k,M),a[Xr]=c.current,ac(a),g)for(a=0;a<g.length;a++)h=g[a],b=h._getVersion,b=b(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,b]:c.mutableSourceEagerHydrationData.push(h,b);return new Su(c)},En.render=function(a,c,h){if(!Eu(c))throw Error(n(200));return Cu(null,a,c,!1,h)},En.unmountComponentAtNode=function(a){if(!Eu(a))throw Error(n(40));return a._reactRootContainer?(xa(function(){Cu(null,null,a,!1,function(){a._reactRootContainer=null,a[Xr]=null})}),!0):!1},En.unstable_batchedUpdates=jp,En.unstable_renderSubtreeIntoContainer=function(a,c,h,g){if(!Eu(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Cu(a,c,h,!1,g)},En.version="18.3.1-next-f1338f8080-20240426",En}var $S;function XN(){if($S)return Vp.exports;$S=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vp.exports=KN(),Vp.exports}var FS;function ZN(){if(FS)return xu;FS=1;var t=XN();return xu.createRoot=t.createRoot,xu.hydrateRoot=t.hydrateRoot,xu}var eD=ZN();const tD=bh(eD);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var BS="popstate";function nD(t={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return Yv("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qc(i)}return iD(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Er(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rD(){return Math.random().toString(36).substring(2,10)}function US(t,e){return{usr:t.state,key:t.key,idx:e}}function Yv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:n,key:e&&e.key||r||rD()}}function Qc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function iD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,m=v();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function v(){return(l.state||{idx:null}).idx}function _(){u="POP";let x=v(),O=x==null?null:x-m;m=x,d&&d({action:u,location:S.location,delta:O})}function E(x,O){u="PUSH";let j=Yv(S.location,x,O);m=v()+1;let $=US(j,m),D=S.createHref(j);try{l.pushState($,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(D)}s&&d&&d({action:u,location:S.location,delta:1})}function P(x,O){u="REPLACE";let j=Yv(S.location,x,O);m=v();let $=US(j,m),D=S.createHref(j);l.replaceState($,"",D),s&&d&&d({action:u,location:S.location,delta:0})}function C(x){return aD(x)}let S={get action(){return u},get location(){return t(i,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(BS,_),d=x,()=>{i.removeEventListener(BS,_),d=null}},createHref(x){return e(i,x)},createURL:C,encodeLocation(x){let O=C(x);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:P,go(x){return l.go(x)}};return S}function aD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Qc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bA(t,e,n="/"){return sD(t,e,n,!1)}function sD(t,e,n,r){let i=typeof e=="string"?Oo(e):e,s=Ei(i.pathname||"/",n);if(s==null)return null;let l=wA(t);oD(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let m=yD(s);u=gD(l[d],m,r)}return u}function wA(t,e=[],n=[],r="",i=!1){let s=(l,u,d=i,m)=>{let v={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&d)return;Ct(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=wi([r,v.relativePath]),E=n.concat(v);l.children&&l.children.length>0&&(Ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),wA(l.children,e,E,_,d)),!(l.path==null&&!l.index)&&e.push({path:_,score:pD(_,l.index),routesMeta:E})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let d of kA(l.path))s(l,u,!0,d)}),e}function kA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=kA(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function oD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cD=/^:[\w-]+$/,lD=3,uD=2,dD=1,hD=10,fD=-2,qS=t=>t==="*";function pD(t,e){let n=t.split("/"),r=n.length;return n.some(qS)&&(r+=fD),e&&(r+=uD),n.filter(i=>!qS(i)).reduce((i,s)=>i+(cD.test(s)?lD:s===""?dD:hD),r)}function mD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gD(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],m=u===r.length-1,v=s==="/"?e:e.slice(s.length)||"/",_=Wd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},v),E=d.route;if(!_&&m&&n&&!r[r.length-1].route.index&&(_=Wd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:wi([s,_.pathname]),pathnameBase:kD(wi([s,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(s=wi([s,_.pathnameBase]))}return l}function Wd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:_},E)=>{if(v==="*"){let C=u[E]||"";l=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const P=u[E];return _&&!P?m[v]=void 0:m[v]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:l,pattern:t}}function vD(t,e=!1,n=!0){Er(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Er(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _D(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Oo(t):t;return{pathname:n?n.startsWith("/")?n:bD(n,e):e,search:SD(r),hash:ED(i)}}function bD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P_(t){let e=wD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function O_(t,e,n,r=!1){let i;typeof t=="string"?i=Oo(t):(i={...t},Ct(!i.pathname||!i.pathname.includes("?"),Jp("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Jp("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Jp("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}u=_>=0?e[_]:"/"}let d=_D(i,u),m=l&&l!=="/"&&l.endsWith("/"),v=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||v)&&(d.pathname+="/"),d}var wi=t=>t.join("/").replace(/\/\/+/g,"/"),kD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ED=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var SA=["POST","PUT","PATCH","DELETE"];new Set(SA);var TD=["GET",...SA];new Set(TD);var jo=H.createContext(null);jo.displayName="DataRouter";var wh=H.createContext(null);wh.displayName="DataRouterState";H.createContext(!1);var EA=H.createContext({isTransitioning:!1});EA.displayName="ViewTransition";var xD=H.createContext(new Map);xD.displayName="Fetchers";var MD=H.createContext(null);MD.displayName="Await";var Ar=H.createContext(null);Ar.displayName="Navigation";var al=H.createContext(null);al.displayName="Location";var Gr=H.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var j_=H.createContext(null);j_.displayName="RouteError";function AD(t,{relative:e}={}){Ct(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=H.useContext(Ar),{hash:i,pathname:s,search:l}=sl(t,{relative:e}),u=s;return n!=="/"&&(u=s==="/"?n:wi([n,s])),r.createHref({pathname:u,search:l,hash:i})}function Io(){return H.useContext(al)!=null}function Ci(){return Ct(Io(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(al).location}var CA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TA(t){H.useContext(Ar).static||H.useLayoutEffect(t)}function I_(){let{isDataRoute:t}=H.useContext(Gr);return t?qD():PD()}function PD(){Ct(Io(),"useNavigate() may be used only in the context of a <Router> component.");let t=H.useContext(jo),{basename:e,navigator:n}=H.useContext(Ar),{matches:r}=H.useContext(Gr),{pathname:i}=Ci(),s=JSON.stringify(P_(r)),l=H.useRef(!1);return TA(()=>{l.current=!0}),H.useCallback((d,m={})=>{if(Er(l.current,CA),!l.current)return;if(typeof d=="number"){n.go(d);return}let v=O_(d,JSON.parse(s),i,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:wi([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,s,i,t])}H.createContext(null);function sl(t,{relative:e}={}){let{matches:n}=H.useContext(Gr),{pathname:r}=Ci(),i=JSON.stringify(P_(n));return H.useMemo(()=>O_(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function OD(t,e){return xA(t,e)}function xA(t,e,n,r,i){Ct(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=H.useContext(Ar),{matches:l}=H.useContext(Gr),u=l[l.length-1],d=u?u.params:{},m=u?u.pathname:"/",v=u?u.pathnameBase:"/",_=u&&u.route;{let j=_&&_.path||"";MA(m,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=Ci(),P;if(e){let j=typeof e=="string"?Oo(e):e;Ct(v==="/"||j.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${j.pathname}" was given in the \`location\` prop.`),P=j}else P=E;let C=P.pathname||"/",S=C;if(v!=="/"){let j=v.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=bA(t,{pathname:S});Er(_||x!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Er(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=DD(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:wi([v,s.encodeLocation?s.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:wi([v,s.encodeLocation?s.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,i);return e&&O?H.createElement(al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},O):O}function jD(){let t=UD(),e=CD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:s},"ErrorBoundary")," or"," ",H.createElement("code",{style:s},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:i},n):null,l)}var ID=H.createElement(jD,null),LD=class extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?H.createElement(Gr.Provider,{value:this.props.routeContext},H.createElement(j_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ND({routeContext:t,match:e,children:n}){let r=H.useContext(jo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Gr.Provider,{value:t},n)}function DD(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let m=s.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);Ct(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,d=-1;if(n)for(let m=0;m<s.length;m++){let v=s[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=m),v.route.id){let{loaderData:_,errors:E}=n,P=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||P){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,v,_)=>{let E,P=!1,C=null,S=null;n&&(E=l&&v.route.id?l[v.route.id]:void 0,C=v.route.errorElement||ID,u&&(d<0&&_===0?(MA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,S=null):d===_&&(P=!0,S=v.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,_+1)),O=()=>{let j;return E?j=C:P?j=S:v.route.Component?j=H.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=m,H.createElement(ND,{match:v,routeContext:{outlet:m,matches:x,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?H.createElement(LD,{location:n.location,revalidation:n.revalidation,component:C,error:E,children:O(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:r}):O()},null)}function L_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RD(t){let e=H.useContext(jo);return Ct(e,L_(t)),e}function $D(t){let e=H.useContext(wh);return Ct(e,L_(t)),e}function FD(t){let e=H.useContext(Gr);return Ct(e,L_(t)),e}function N_(t){let e=FD(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function BD(){return N_("useRouteId")}function UD(){let t=H.useContext(j_),e=$D("useRouteError"),n=N_("useRouteError");return t!==void 0?t:e.errors?.[n]}function qD(){let{router:t}=RD("useNavigate"),e=N_("useNavigate"),n=H.useRef(!1);return TA(()=>{n.current=!0}),H.useCallback(async(i,s={})=>{Er(n.current,CA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var WS={};function MA(t,e,n){!e&&!WS[t]&&(WS[t]=!0,Er(!1,n))}H.memo(WD);function WD({routes:t,future:e,state:n,unstable_onError:r}){return xA(t,void 0,n,r,e)}function VD({to:t,replace:e,state:n,relative:r}){Ct(Io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=H.useContext(Ar);Er(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=H.useContext(Gr),{pathname:l}=Ci(),u=I_(),d=O_(t,P_(s),l,r==="path"),m=JSON.stringify(d);return H.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:r})},[u,m,r,e,n]),null}function eo(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ct(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=H.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=Oo(n));let{pathname:d="/",search:m="",hash:v="",state:_=null,key:E="default"}=n,P=H.useMemo(()=>{let C=Ei(d,l);return C==null?null:{location:{pathname:C,search:m,hash:v,state:_,key:E},navigationType:r}},[l,d,m,v,_,E,r]);return Er(P!=null,`<Router basename="${l}"> is not able to match the URL "${d}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:H.createElement(Ar.Provider,{value:u},H.createElement(al.Provider,{children:e,value:P}))}function HD({children:t,location:e}){return OD(Qv(t),e)}function Qv(t,e=[]){let n=[];return H.Children.forEach(t,(r,i)=>{if(!H.isValidElement(r))return;let s=[...e,i];if(r.type===H.Fragment){n.push.apply(n,Qv(r.props.children,s));return}Ct(r.type===eo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Qv(r.props.children,s)),n.push(l)}),n}var yd="get",_d="application/x-www-form-urlencoded";function kh(t){return t!=null&&typeof t.tagName=="string"}function JD(t){return kh(t)&&t.tagName.toLowerCase()==="button"}function GD(t){return kh(t)&&t.tagName.toLowerCase()==="form"}function YD(t){return kh(t)&&t.tagName.toLowerCase()==="input"}function QD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KD(t,e){return t.button===0&&(!e||e==="_self")&&!QD(t)}var Mu=null;function XD(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var ZD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gp(t){return t!=null&&!ZD.has(t)?(Er(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_d}"`),null):t}function eR(t,e){let n,r,i,s,l;if(GD(t)){let u=t.getAttribute("action");r=u?Ei(u,e):null,n=t.getAttribute("method")||yd,i=Gp(t.getAttribute("enctype"))||_d,s=new FormData(t)}else if(JD(t)||YD(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?Ei(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||yd,i=Gp(t.getAttribute("formenctype"))||Gp(u.getAttribute("enctype"))||_d,s=new FormData(u,t),!XD()){let{name:m,type:v,value:_}=t;if(v==="image"){let E=m?`${m}.`:"";s.append(`${E}x`,"0"),s.append(`${E}y`,"0")}else m&&s.append(m,_)}}else{if(kh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yd,r=null,i=_d,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ei(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iR(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await nR(s,n);return l.links?l.links():[]}return[]}));return cR(r.flat(1).filter(rR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function VS(t,e,n,r,i,s){let l=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,u=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,m)=>l(d,m)||u(d,m)):s==="data"?e.filter((d,m)=>{let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(l(d,m)||u(d,m))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function aR(t,e,{includeHydrateFallback:n}={}){return sR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function sR(t){return[...new Set(t)]}function oR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function cR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(oR(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function AA(){let t=H.useContext(jo);return D_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lR(){let t=H.useContext(wh);return D_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var R_=H.createContext(void 0);R_.displayName="FrameworkContext";function PA(){let t=H.useContext(R_);return D_(t,"You must render this element inside a <HydratedRouter> element"),t}function uR(t,e){let n=H.useContext(R_),[r,i]=H.useState(!1),[s,l]=H.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:m,onMouseLeave:v,onTouchStart:_}=e,E=H.useRef(null);H.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=O=>{O.forEach(j=>{l(j.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[t]),H.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let P=()=>{i(!0)},C=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,E,{}]:[s,E,{onFocus:Ec(u,P),onBlur:Ec(d,C),onMouseEnter:Ec(m,P),onMouseLeave:Ec(v,C),onTouchStart:Ec(_,P)}]:[!1,E,{}]}function Ec(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dR({page:t,...e}){let{router:n}=AA(),r=H.useMemo(()=>bA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?H.createElement(fR,{page:t,matches:r,...e}):null}function hR(t){let{manifest:e,routeModules:n}=PA(),[r,i]=H.useState([]);return H.useEffect(()=>{let s=!1;return iR(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function fR({page:t,matches:e,...n}){let r=Ci(),{manifest:i,routeModules:s}=PA(),{basename:l}=AA(),{loaderData:u,matches:d}=lR(),m=H.useMemo(()=>VS(t,e,d,i,r,"data"),[t,e,d,i,r]),v=H.useMemo(()=>VS(t,e,d,i,r,"assets"),[t,e,d,i,r]),_=H.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,S=!1;if(e.forEach(O=>{let j=i.routes[O.route.id];!j||!j.hasLoader||(!m.some($=>$.route.id===O.route.id)&&O.route.id in u&&s[O.route.id]?.shouldRevalidate||j.hasClientLoader?S=!0:C.add(O.route.id))}),C.size===0)return[];let x=tR(t,l,"data");return S&&C.size>0&&x.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[x.pathname+x.search]},[l,u,r,i,m,e,t,s]),E=H.useMemo(()=>aR(v,i),[v,i]),P=hR(v);return H.createElement(H.Fragment,null,_.map(C=>H.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),E.map(C=>H.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),P.map(({key:C,link:S})=>H.createElement("link",{key:C,nonce:n.nonce,...S})))}function pR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OA&&(window.__reactRouterVersion="7.9.4")}catch{}function mR({basename:t,children:e,window:n}){let r=H.useRef();r.current==null&&(r.current=nD({window:n,v5Compat:!0}));let i=r.current,[s,l]=H.useState({action:i.action,location:i.location}),u=H.useCallback(d=>{H.startTransition(()=>l(d))},[l]);return H.useLayoutEffect(()=>i.listen(u),[i,u]),H.createElement(zD,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var jA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,io=H.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:m,preventScrollReset:v,viewTransition:_,...E},P){let{basename:C}=H.useContext(Ar),S=typeof m=="string"&&jA.test(m),x,O=!1;if(typeof m=="string"&&S&&(x=m,OA))try{let oe=new URL(window.location.href),ce=m.startsWith("//")?new URL(oe.protocol+m):new URL(m),le=Ei(ce.pathname,C);ce.origin===oe.origin&&le!=null?m=le+ce.search+ce.hash:O=!0}catch{Er(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=AD(m,{relative:i}),[$,D,R]=uR(r,E),U=_R(m,{replace:l,state:u,target:d,preventScrollReset:v,relative:i,viewTransition:_});function G(oe){e&&e(oe),oe.defaultPrevented||U(oe)}let X=H.createElement("a",{...E,...R,href:x||j,onClick:O||s?e:G,ref:pR(P,D),target:d,"data-discover":!S&&n==="render"?"true":void 0});return $&&!S?H.createElement(H.Fragment,null,X,H.createElement(dR,{page:j})):X});io.displayName="Link";var gR=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...m},v){let _=sl(l,{relative:m.relative}),E=Ci(),P=H.useContext(wh),{navigator:C,basename:S}=H.useContext(Ar),x=P!=null&&ER(_)&&u===!0,O=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,j=E.pathname,$=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(j=j.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&S&&($=Ei($,S)||$);const D=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let R=j===O||!i&&j.startsWith(O)&&j.charAt(D)==="/",U=$!=null&&($===O||!i&&$.startsWith(O)&&$.charAt(O.length)==="/"),G={isActive:R,isPending:U,isTransitioning:x},X=R?e:void 0,oe;typeof r=="function"?oe=r(G):oe=[r,R?"active":null,U?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let ce=typeof s=="function"?s(G):s;return H.createElement(io,{...m,"aria-current":X,className:oe,ref:v,style:ce,to:l,viewTransition:u},typeof d=="function"?d(G):d)});gR.displayName="NavLink";var vR=H.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=yd,action:u,onSubmit:d,relative:m,preventScrollReset:v,viewTransition:_,...E},P)=>{let C=kR(),S=SR(u,{relative:m}),x=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&jA.test(u),j=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let D=$.nativeEvent.submitter,R=D?.getAttribute("formmethod")||l;C(D||$.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:s,relative:m,preventScrollReset:v,viewTransition:_})};return H.createElement("form",{ref:P,method:x,action:S,onSubmit:r?d:j,...E,"data-discover":!O&&t==="render"?"true":void 0})});vR.displayName="Form";function yR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IA(t){let e=H.useContext(jo);return Ct(e,yR(t)),e}function _R(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=I_(),d=Ci(),m=sl(t,{relative:s});return H.useCallback(v=>{if(KD(v,e)){v.preventDefault();let _=n!==void 0?n:Qc(d)===Qc(m);u(t,{replace:_,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,m,n,r,e,t,i,s,l])}var bR=0,wR=()=>`__${String(++bR)}__`;function kR(){let{router:t}=IA("useSubmit"),{basename:e}=H.useContext(Ar),n=BD();return H.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:m}=eR(r,e);if(i.navigate===!1){let v=i.fetcherKey||wR();await t.fetch(v,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function SR(t,{relative:e}={}){let{basename:n}=H.useContext(Ar),r=H.useContext(Gr);Ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...sl(t||".",{relative:e})},l=Ci();if(t==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(v=>v==="")){u.delete("index"),d.filter(_=>_).forEach(_=>u.append("index",_));let v=u.toString();s.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:wi([n,s.pathname])),Qc(s)}function ER(t,{relative:e}={}){let n=H.useContext(EA);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IA("useViewTransitionState"),i=sl(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wd(i.pathname,l)!=null||Wd(i.pathname,s)!=null}var Ys={};function Yp(t,e){if(t==null)return{};var n,r,i=(function(l,u){if(l==null)return{};var d,m,v={},_=Object.keys(l);for(m=0;m<_.length;m++)d=_[m],u.indexOf(d)>=0||(v[d]=l[d]);return v})(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t){return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(t)}function LA(t){var e=(function(n,r){if(_t(n)!=="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r);if(_t(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)})(t,"string");return _t(e)==="symbol"?e:String(e)}function zS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LA(r.key),r)}}function Or(t,e,n){return e&&zS(t.prototype,e),n&&zS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kc(t,e){return Kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Kc(t,e)}function Sh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kc(t,e)}function Eh(t,e){if(e&&(_t(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oi(t)}function Cr(t){return Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cr(t)}function na(t,e,n){return(e=LA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HS(t,e,n,r,i,s,l){try{var u=t[s](l),d=u.value}catch(m){return void n(m)}u.done?e(d):Promise.resolve(d).then(r,i)}function Pe(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function l(d){HS(s,r,i,l,u,"next",d)}function u(d){HS(s,r,i,l,u,"throw",d)}l(void 0)}))}}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ss(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,l,u,d,m=[],v=!0,_=!1;try{if(u=(i=i.call(n)).next,r===0){if(Object(i)!==i)return;v=!1}else for(;!(v=(s=u.call(i)).done)&&(m.push(s.value),m.length!==r);v=!0);}catch(E){_=!0,l=E}finally{try{if(!v&&i.return!=null&&(d=i.return(),Object(d)!==d))return}finally{if(_)throw l}}return m}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return JS(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?JS(n,r):void 0}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}var NA,gi={},CR={get exports(){return gi},set exports(t){gi=t}},lo=typeof Reflect=="object"?Reflect:null,GS=lo&&typeof lo.apply=="function"?lo.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};NA=lo&&typeof lo.ownKeys=="function"?lo.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var YS=Number.isNaN||function(t){return t!=t};function it(){it.init.call(this)}CR.exports=it,gi.once=function(t,e){return new Promise((function(n,r){function i(l){t.removeListener(e,s),r(l)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}t0(t,e,s,{once:!0}),e!=="error"&&(function(l,u,d){typeof l.on=="function"&&t0(l,"error",u,d)})(t,i,{once:!0})}))},it.EventEmitter=it,it.prototype._events=void 0,it.prototype._eventsCount=0,it.prototype._maxListeners=void 0;var QS=10;function bd(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function DA(t){return t._maxListeners===void 0?it.defaultMaxListeners:t._maxListeners}function KS(t,e,n,r){var i,s,l,u;if(bd(n),(s=t._events)===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),l=s[e]),l===void 0)l=s[e]=n,++t._eventsCount;else if(typeof l=="function"?l=s[e]=r?[n,l]:[l,n]:r?l.unshift(n):l.push(n),(i=DA(t))>0&&l.length>i&&!l.warned){l.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=t,d.type=e,d.count=l.length,u=d,console&&console.warn&&console.warn(u)}return t}function TR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function XS(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=TR.bind(r);return i.listener=n,r.wrapFn=i,i}function ZS(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?(function(s){for(var l=new Array(s.length),u=0;u<l.length;++u)l[u]=s[u].listener||s[u];return l})(i):RA(i,i.length)}function e0(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}function RA(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function t0(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else{if(typeof t.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){r.once&&t.removeEventListener(e,i),n(s)}))}}Object.defineProperty(it,"defaultMaxListeners",{enumerable:!0,get:function(){return QS},set:function(t){if(typeof t!="number"||t<0||YS(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");QS=t}}),it.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},it.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||YS(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},it.prototype.getMaxListeners=function(){return DA(this)},it.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=t==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var l=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw l.context=s,l}var u=i[t];if(u===void 0)return!1;if(typeof u=="function")GS(u,this,e);else{var d=u.length,m=RA(u,d);for(n=0;n<d;++n)GS(m[n],this,e)}return!0},it.prototype.addListener=function(t,e){return KS(this,t,e,!1)},it.prototype.on=it.prototype.addListener,it.prototype.prependListener=function(t,e){return KS(this,t,e,!0)},it.prototype.once=function(t,e){return bd(e),this.on(t,XS(this,t,e)),this},it.prototype.prependOnceListener=function(t,e){return bd(e),this.prependListener(t,XS(this,t,e)),this},it.prototype.removeListener=function(t,e){var n,r,i,s,l;if(bd(e),(r=this._events)===void 0)return this;if((n=r[t])===void 0)return this;if(n===e||n.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){l=n[s].listener,i=s;break}if(i<0)return this;i===0?n.shift():(function(u,d){for(;d+1<u.length;d++)u[d]=u[d+1];u.pop()})(n,i),n.length===1&&(r[t]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",t,l||e)}return this},it.prototype.off=it.prototype.removeListener,it.prototype.removeAllListeners=function(t){var e,n,r;if((n=this._events)===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i,s=Object.keys(n);for(r=0;r<s.length;++r)(i=s[r])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},it.prototype.listeners=function(t){return ZS(this,t,!0)},it.prototype.rawListeners=function(t){return ZS(this,t,!1)},it.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):e0.call(t,e)},it.prototype.listenerCount=e0,it.prototype.eventNames=function(){return this._eventsCount>0?NA(this._events):[]};var n0=Object.prototype.hasOwnProperty;function r0(t,e,n){for(n of t.keys())if(Cn(n,e))return n}function Cn(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Cn(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if((i=r)&&typeof i=="object"&&!(i=r0(e,i))||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if((i=r[0])&&typeof i=="object"&&!(i=r0(e,i))||!Cn(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){for(n in r=0,t)if(n0.call(t,n)&&++r&&!n0.call(e,n)||!(n in e)||!Cn(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!=t&&e!=e}const xR={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},$A={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Nt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},dn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Xi={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};let te=class to{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map((r=>parseInt(r,10)||0));if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map((r=>parseInt(r,10)||0));if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=to.getVersionPrecision(e),s=to.getVersionPrecision(n);let l=Math.max(i,s),u=0;const d=to.map([e,n],(m=>{const v=l-to.getVersionPrecision(m),_=m+new Array(v+1).join(".0");return to.map(_.split("."),(E=>new Array(20-E.length).join("0")+E)).reverse()}));for(r&&(u=l-Math.min(i,s)),l-=1;l>=u;){if(d[0][l]>d[1][l])return 1;if(d[0][l]===d[1][l]){if(l===u)return 0;l-=1}else if(d[0][l]<d[1][l])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const s=e[r];if(n(s,r))return s}}static assign(e,...n){const r=e;let i,s;if(Object.assign)return Object.assign(e,...n);for(i=0,s=n.length;i<s;i+=1){const l=n[i];typeof l=="object"&&l!==null&&Object.keys(l).forEach((u=>{r[u]=l[u]}))}return e}static getBrowserAlias(e){return xR[e]}static getBrowserTypeByAlias(e){return $A[e]||""}};const lt=/version\/(\d+(\.?_?\d+)+)/i,MR=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=te.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=te.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=te.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=te.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=te.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=te.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=te.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=te.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=te.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=te.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=te.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=te.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=te.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=te.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=te.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=te.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=te.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=te.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=te.getFirstMatch(lt,t)||te.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=te.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=te.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=te.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=te.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=te.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=te.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=te.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=te.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=te.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=te.getFirstMatch(lt,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:te.getFirstMatch(e,t),version:te.getSecondMatch(e,t)}}}];var AR=[{test:[/Roku\/DVP/],describe(t){const e=te.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:dn.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=te.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:dn.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=te.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=te.getWindowsVersionName(e);return{name:dn.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:dn.iOS},n=te.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=te.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=te.getMacOSVersionName(e),r={name:dn.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=te.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:dn.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=te.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=te.getAndroidVersionName(e),r={name:dn.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=te.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:dn.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=te.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||te.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||te.getFirstMatch(/\bbb(\d+)/i,t);return{name:dn.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=te.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:dn.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=te.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:dn.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:dn.Linux})},{test:[/CrOS/],describe:()=>({name:dn.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=te.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:dn.PlayStation4,version:e}}}],PR=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=te.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Nt.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Nt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Nt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Nt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Nt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Nt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Nt.tablet})},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=te.getFirstMatch(/(ipod|iphone)/i,t);return{type:Nt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Nt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Nt.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:Nt.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:Nt.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:Nt.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:Nt.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:Nt.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:Nt.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:Nt.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:Nt.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:Nt.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:Nt.tv})}],OR=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:Xi.Blink};const e=te.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Xi.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:Xi.Trident},n=te.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:Xi.Presto},n=te.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:Xi.Gecko},n=te.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Xi.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:Xi.WebKit},n=te.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];let i0=class{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=te.find(MR,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=te.find(AR,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=te.find(PR,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=te.find(OR,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return te.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let s=0;if(Object.keys(e).forEach((l=>{const u=e[l];typeof u=="string"?(i[l]=u,s+=1):typeof u=="object"&&(n[l]=u,r+=1)})),r>0){const l=Object.keys(n),u=te.find(l,(m=>this.isOS(m)));if(u){const m=this.satisfies(n[u]);if(m!==void 0)return m}const d=te.find(l,(m=>this.isPlatform(m)));if(d){const m=this.satisfies(n[d]);if(m!==void 0)return m}}if(s>0){const l=Object.keys(i),u=te.find(l,(d=>this.isBrowser(d,!0)));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const s=te.getBrowserTypeByAlias(i);return n&&s&&(i=s.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(te.compareVersions(s,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((n=>this.is(n)))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */let jR=class{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new i0(e,n)}static parse(e){return new i0(e).getResult()}static get BROWSER_MAP(){return $A}static get ENGINE_MAP(){return Xi}static get OS_MAP(){return dn}static get PLATFORMS_MAP(){return Nt}};function Ch(){return Date.now()+Math.random().toString()}function Cc(){throw new Error("Method must be implemented in subclass")}function FA(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function Vd(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:FA("https://c.daily.co/call-machine/versioned/".concat("0.66.0","/static/call-machine-object-bundle.js"),t)}function Xc(t){try{new URL(t)}catch{return!1}return!0}const BA=Object.prototype.toString;function UA(t){switch(BA.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return cs(t,Error)}}function Lo(t,e){return BA.call(t)===`[object ${e}]`}function $_(t){return Lo(t,"ErrorEvent")}function a0(t){return Lo(t,"DOMError")}function os(t){return Lo(t,"String")}function qA(t){return t===null||typeof t!="object"&&typeof t!="function"}function vo(t){return Lo(t,"Object")}function zd(t){return typeof Event<"u"&&cs(t,Event)}function F_(t){return!!(t&&t.then&&typeof t.then=="function")}function cs(t,e){try{return t instanceof e}catch{return!1}}function uo(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function s0(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const i=t[r];try{n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function IR(t,e,n=!1){return!!os(t)&&(Lo(e,"RegExp")?e.test(t):!!os(e)&&(n?t===e:t.includes(e)))}function Au(t,e=[],n=!1){return e.some((r=>IR(t,r,n)))}function LR(t,e,n=250,r,i,s,l){if(!(s.exception&&s.exception.values&&l&&cs(l.originalException,Error)))return;const u=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var d,m;u&&(s.exception.values=(d=Kv(t,e,i,l.originalException,r,s.exception.values,u,0),m=n,d.map((v=>(v.value&&(v.value=uo(v.value,m)),v)))))}function Kv(t,e,n,r,i,s,l,u){if(s.length>=n+1)return s;let d=[...s];if(cs(r[i],Error)){o0(l,u);const m=t(e,r[i]),v=d.length;c0(m,i,v,u),d=Kv(t,e,n,r[i],i,[m,...d],m,v)}return Array.isArray(r.errors)&&r.errors.forEach(((m,v)=>{if(cs(m,Error)){o0(l,u);const _=t(e,m),E=d.length;c0(_,`errors[${v}]`,E,u),d=Kv(t,e,n,m,i,[_,...d],_,E)}})),d}function o0(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:e}}function c0(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function Pu(t){return t&&t.Math==Math?t:void 0}const Kn=typeof globalThis=="object"&&Pu(globalThis)||typeof window=="object"&&Pu(window)||typeof self=="object"&&Pu(self)||typeof globalThis=="object"&&Pu(globalThis)||(function(){return this})()||{};function ol(){return Kn}function B_(t,e,n){const r=n||Kn,i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}const NR=ol(),DR=80;function Xv(t,e={}){try{let n=t;const r=5,i=[];let s=0,l=0;const u=" > ",d=u.length;let m;const v=Array.isArray(e)?e:e.keyAttrs,_=!Array.isArray(e)&&e.maxStringLength||DR;for(;n&&s++<r&&(m=RR(n,v),!(m==="html"||s>1&&l+i.length*d+m.length>=_));)i.push(m),l+=m.length,n=n.parentNode;return i.reverse().join(u)}catch{return"<unknown>"}}function RR(t,e){const n=t,r=[];let i,s,l,u,d;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const m=e&&e.length?e.filter((_=>n.getAttribute(_))).map((_=>[_,n.getAttribute(_)])):null;if(m&&m.length)m.forEach((_=>{r.push(`[${_[0]}="${_[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&os(i))for(s=i.split(/\s+/),d=0;d<s.length;d++)r.push(`.${s[d]}`);const v=["aria-label","type","name","title","alt"];for(d=0;d<v.length;d++)l=v[d],u=n.getAttribute(l),u&&r.push(`[${l}="${u}"]`);return r.join("")}const Hd=["debug","info","warn","error","log","assert","trace"];function WA(t){if(!("console"in Kn))return t();const e=Kn.console,n={};Hd.forEach((r=>{const i=e[r]&&e[r].__sentry_original__;r in e&&i&&(n[r]=e[r],e[r]=i)}));try{return t()}finally{Object.keys(n).forEach((r=>{e[r]=n[r]}))}}function l0(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Hd.forEach((n=>{e[n]=(...r)=>{t&&WA((()=>{Kn.console[n](`Sentry Logger [${n}]:`,...r)}))}})):Hd.forEach((n=>{e[n]=()=>{}})),e}let De;De=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?B_("logger",l0):l0();const $R=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Jd(t,e=!1){const{host:n,path:r,pass:i,port:s,projectId:l,protocol:u,publicKey:d}=t;return`${u}://${d}${e&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${l}`}function u0(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function FR(t){const e=typeof t=="string"?(function(n){const r=$R.exec(n);if(!r)return void console.error(`Invalid Sentry Dsn: ${n}`);const[i,s,l="",u,d="",m]=r.slice(1);let v="",_=m;const E=_.split("/");if(E.length>1&&(v=E.slice(0,-1).join("/"),_=E.pop()),_){const P=_.match(/^\d+/);P&&(_=P[0])}return u0({host:u,pass:l,path:v,projectId:_,port:d,protocol:i,publicKey:s})})(t):u0(t);if(e&&(function(n){if(typeof __SENTRY_DEBUG__<"u"&&!__SENTRY_DEBUG__)return!0;const{port:r,projectId:i,protocol:s}=n;return!(["protocol","publicKey","host","projectId"].find((l=>!n[l]&&(De.error(`Invalid Sentry Dsn: ${l} missing`),!0)))||(i.match(/^\d+$/)?(function(l){return l==="http"||l==="https"})(s)?r&&isNaN(parseInt(r,10))&&(De.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(De.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(De.error(`Invalid Sentry Dsn: Invalid projectId ${i}`),1)))})(e))return e}let vr=class extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}};function Kt(t,e,n){if(!(e in t))return;const r=t[e],i=n(r);if(typeof i=="function")try{VA(i,r)}catch{}t[e]=i}function U_(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function VA(t,e){const n=e.prototype||{};t.prototype=e.prototype=n,U_(t,"__sentry_original__",e)}function q_(t){return t.__sentry_original__}function zA(t){if(UA(t))return{message:t.message,name:t.name,stack:t.stack,...h0(t)};if(zd(t)){const e={type:t.type,target:d0(t.target),currentTarget:d0(t.currentTarget),...h0(t)};return typeof CustomEvent<"u"&&cs(t,CustomEvent)&&(e.detail=t.detail),e}return t}function d0(t){try{return e=t,typeof Element<"u"&&cs(e,Element)?Xv(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function h0(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function Th(t){return Zv(t,new Map)}function Zv(t,e){if(vo(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const i of Object.keys(t))t[i]!==void 0&&(r[i]=Zv(t[i],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach((i=>{r.push(Zv(i,e))})),r}return t}const f0="<anonymous>";function da(t){try{return t&&typeof t=="function"&&t.name||f0}catch{return f0}}const Qp=ol();function ey(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function BR(){if(!(function(){if(!("fetch"in Qp))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}})())return!1;if(ey(Qp.fetch))return!0;let t=!1;const e=Qp.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=ey(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}const Ou=ol(),Et=ol(),Lc="__sentry_xhr_v2__",Vc={},p0={};function UR(t){if(!p0[t])switch(p0[t]=!0,t){case"console":(function(){"console"in Et&&Hd.forEach((function(e){e in Et.console&&Kt(Et.console,e,(function(n){return function(...r){hr("console",{args:r,level:e}),n&&n.apply(Et.console,r)}}))}))})();break;case"dom":(function(){if(!("document"in Et))return;const e=hr.bind(null,"dom"),n=g0(e,!0);Et.document.addEventListener("click",n,!1),Et.document.addEventListener("keypress",n,!1),["EventTarget","Node"].forEach((r=>{const i=Et[r]&&Et[r].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(Kt(i,"addEventListener",(function(s){return function(l,u,d){if(l==="click"||l=="keypress")try{const m=this,v=m.__sentry_instrumentation_handlers__=m.__sentry_instrumentation_handlers__||{},_=v[l]=v[l]||{refCount:0};if(!_.handler){const E=g0(e);_.handler=E,s.call(this,l,E,d)}_.refCount++}catch{}return s.call(this,l,u,d)}})),Kt(i,"removeEventListener",(function(s){return function(l,u,d){if(l==="click"||l=="keypress")try{const m=this,v=m.__sentry_instrumentation_handlers__||{},_=v[l];_&&(_.refCount--,_.refCount<=0&&(s.call(this,l,_.handler,d),_.handler=void 0,delete v[l]),Object.keys(v).length===0&&delete m.__sentry_instrumentation_handlers__)}catch{}return s.call(this,l,u,d)}})))}))})();break;case"xhr":(function(){if(!("XMLHttpRequest"in Et))return;const e=XMLHttpRequest.prototype;Kt(e,"open",(function(n){return function(...r){const i=r[1],s=this[Lc]={method:os(r[0])?r[0].toUpperCase():r[0],url:r[1],request_headers:{}};os(i)&&s.method==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const l=()=>{const u=this[Lc];if(u&&this.readyState===4){try{u.status_code=this.status}catch{}hr("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Kt(this,"onreadystatechange",(function(u){return function(...d){return l(),u.apply(this,d)}})):this.addEventListener("readystatechange",l),Kt(this,"setRequestHeader",(function(u){return function(...d){const[m,v]=d,_=this[Lc];return _&&(_.request_headers[m.toLowerCase()]=v),u.apply(this,d)}})),n.apply(this,r)}})),Kt(e,"send",(function(n){return function(...r){const i=this[Lc];return i&&r[0]!==void 0&&(i.body=r[0]),hr("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))})();break;case"fetch":(function(){BR()&&Kt(Et,"fetch",(function(e){return function(...n){const{method:r,url:i}=(function(l){if(l.length===0)return{method:"GET",url:""};if(l.length===2){const[d,m]=l;return{url:m0(d),method:ty(m,"method")?String(m.method).toUpperCase():"GET"}}const u=l[0];return{url:m0(u),method:ty(u,"method")?String(u.method).toUpperCase():"GET"}})(n),s={args:n,fetchData:{method:r,url:i},startTimestamp:Date.now()};return hr("fetch",{...s}),e.apply(Et,n).then((l=>(hr("fetch",{...s,endTimestamp:Date.now(),response:l}),l)),(l=>{throw hr("fetch",{...s,endTimestamp:Date.now(),error:l}),l}))}}))})();break;case"history":(function(){if(!(function(){const r=Ou.chrome,i=r&&r.app&&r.app.runtime,s="history"in Ou&&!!Ou.history.pushState&&!!Ou.history.replaceState;return!i&&s})())return;const e=Et.onpopstate;function n(r){return function(...i){const s=i.length>2?i[2]:void 0;if(s){const l=ju,u=String(s);ju=u,hr("history",{from:l,to:u})}return r.apply(this,i)}}Et.onpopstate=function(...r){const i=Et.location.href,s=ju;if(ju=i,hr("history",{from:s,to:i}),e)try{return e.apply(this,r)}catch{}},Kt(Et.history,"pushState",n),Kt(Et.history,"replaceState",n)})();break;case"error":Lu=Et.onerror,Et.onerror=function(e,n,r,i,s){return hr("error",{column:i,error:s,line:r,msg:e,url:n}),!(!Lu||Lu.__SENTRY_LOADER__)&&Lu.apply(this,arguments)},Et.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":Nu=Et.onunhandledrejection,Et.onunhandledrejection=function(e){return hr("unhandledrejection",e),!(Nu&&!Nu.__SENTRY_LOADER__)||Nu.apply(this,arguments)},Et.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn("unknown instrumentation type:",t))}}function Ja(t,e){Vc[t]=Vc[t]||[],Vc[t].push(e),UR(t)}function hr(t,e){if(t&&Vc[t])for(const n of Vc[t]||[])try{n(e)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${da(n)}
Error:`,r)}}function ty(t,e){return!!t&&typeof t=="object"&&!!t[e]}function m0(t){return typeof t=="string"?t:t?ty(t,"url")?t.url:t.toString?t.toString():"":""}let ju;const qR=1e3;let Iu,Kp;function g0(t,e=!1){return n=>{if(!n||Kp===n||(function(i){if(i.type!=="keypress")return!1;try{const s=i.target;if(!s||!s.tagName)return!0;if(s.tagName==="INPUT"||s.tagName==="TEXTAREA"||s.isContentEditable)return!1}catch{}return!0})(n))return;const r=n.type==="keypress"?"input":n.type;(Iu===void 0||(function(i,s){if(!i||i.type!==s.type)return!0;try{if(i.target!==s.target)return!0}catch{}return!1})(Kp,n))&&(t({event:n,name:r,global:e}),Kp=n),clearTimeout(Iu),Iu=Et.setTimeout((()=>{Iu=void 0}),qR)}}let Lu=null,Nu=null;function ca(){const t=Kn,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const n=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return("10000000100040008000"+1e11).replace(/[018]/g,(r=>(r^(15&n())>>r/4).toString(16)))}function HA(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function ra(t){const{message:e,event_id:n}=t;if(e)return e;const r=HA(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ny(t,e,n){const r=t.exception=t.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type="Error")}function Zc(t,e){const n=HA(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const i={...r&&r.data,...e.data};n.mechanism.data=i}}function v0(t){if(t&&t.__sentry_captured__)return!0;try{U_(t,"__sentry_captured__",!0)}catch{}return!1}function ia(t,e=100,n=1/0){try{return ry("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function JA(t,e=3,n=102400){const r=ia(t,e);return i=r,(function(s){return~-encodeURI(s).split(/%..|./).length})(JSON.stringify(i))>n?JA(t,e-1,n):r;var i}function ry(t,e,n=1/0,r=1/0,i=(function(){const s=typeof WeakSet=="function",l=s?new WeakSet:[];return[function(u){if(s)return!!l.has(u)||(l.add(u),!1);for(let d=0;d<l.length;d++)if(l[d]===u)return!0;return l.push(u),!1},function(u){if(s)l.delete(u);else for(let d=0;d<l.length;d++)if(l[d]===u){l.splice(d,1);break}}]})()){const[s,l]=i;if(e==null||["number","boolean","string"].includes(typeof e)&&(typeof(u=e)!="number"||u==u))return e;var u;const d=(function(C,S){try{if(C==="domain"&&S&&typeof S=="object"&&S._events)return"[Domain]";if(C==="domainEmitter")return"[DomainEmitter]";if(typeof globalThis<"u"&&S===globalThis)return"[Global]";if(typeof window<"u"&&S===window)return"[Window]";if(typeof document<"u"&&S===document)return"[Document]";if((function(O){return vo(O)&&"nativeEvent"in O&&"preventDefault"in O&&"stopPropagation"in O})(S))return"[SyntheticEvent]";if(typeof S=="number"&&S!=S)return"[NaN]";if(typeof S=="function")return`[Function: ${da(S)}]`;if(typeof S=="symbol")return`[${String(S)}]`;if(typeof S=="bigint")return`[BigInt: ${String(S)}]`;const x=(function(O){const j=Object.getPrototypeOf(O);return j?j.constructor.name:"null prototype"})(S);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}})(t,e);if(!d.startsWith("[object "))return d;if(e.__sentry_skip_normalization__)return e;const m=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(m===0)return d.replace("object ","");if(s(e))return"[Circular ~]";const v=e;if(v&&typeof v.toJSON=="function")try{return ry("",v.toJSON(),m-1,r,i)}catch{}const _=Array.isArray(e)?[]:{};let E=0;const P=zA(e);for(const C in P){if(!Object.prototype.hasOwnProperty.call(P,C))continue;if(E>=r){_[C]="[MaxProperties ~]";break}const S=P[C];_[C]=ry(C,S,m-1,r,i),E++}return l(e),_}var di;function ls(t){return new cl((e=>{e(t)}))}function Gd(t){return new cl(((e,n)=>{n(t)}))}(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(di||(di={}));let cl=class ci{__init(){this._state=di.PENDING}__init2(){this._handlers=[]}constructor(e){ci.prototype.__init.call(this),ci.prototype.__init2.call(this),ci.prototype.__init3.call(this),ci.prototype.__init4.call(this),ci.prototype.__init5.call(this),ci.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new ci(((r,i)=>{this._handlers.push([!1,s=>{if(e)try{r(e(s))}catch(l){i(l)}else r(s)},s=>{if(n)try{r(n(s))}catch(l){i(l)}else i(s)}]),this._executeHandlers()}))}catch(e){return this.then((n=>n),e)}finally(e){return new ci(((n,r)=>{let i,s;return this.then((l=>{s=!1,i=l,e&&e()}),(l=>{s=!0,i=l,e&&e()})).then((()=>{s?r(i):n(i)}))}))}__init3(){this._resolve=e=>{this._setResult(di.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(di.REJECTED,e)}}__init5(){this._setResult=(e,n)=>{this._state===di.PENDING&&(F_(n)?n.then(this._resolve,this._reject):(this._state=e,this._value=n,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===di.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((n=>{n[0]||(this._state===di.RESOLVED&&n[1](this._value),this._state===di.REJECTED&&n[2](this._value),n[0]=!0)}))}}};function WR(t){const e=[];function n(r){return e.splice(e.indexOf(r),1)[0]}return{$:e,add:function(r){if(!(t===void 0||e.length<t))return Gd(new vr("Not adding Promise because buffer limit was reached."));const i=r();return e.indexOf(i)===-1&&e.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(r){return new cl(((i,s)=>{let l=e.length;if(!l)return i(!0);const u=setTimeout((()=>{r&&r>0&&i(!1)}),r);e.forEach((d=>{ls(d).then((()=>{--l||(clearTimeout(u),i(!0))}),s)}))}))}}}function Xp(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const VR=["fatal","error","warning","log","info","debug"],GA=ol(),iy={nowSeconds:()=>Date.now()/1e3},Zp=typeof __SENTRY_BROWSER_BUNDLE__<"u"&&__SENTRY_BROWSER_BUNDLE__||Object.prototype.toString.call(typeof process<"u"?process:0)!=="[object process]"?(function(){const{performance:t}=GA;if(!(!t||!t.now))return{now:()=>t.now(),timeOrigin:Date.now()-t.now()}})():(function(){try{return(t=module,e="perf_hooks",t.require(e)).performance}catch{return}var t,e})(),y0=Zp===void 0?iy:{nowSeconds:()=>(Zp.timeOrigin+Zp.now())/1e3},xh=iy.nowSeconds.bind(iy),YA=y0.nowSeconds.bind(y0);function el(t,e=[]){return[t,e]}function zR(t,e){const[n,r]=t;return[n,[...r,e]]}function _0(t,e){const n=t[1];for(const r of n)if(e(r,r[0].type))return!0;return!1}function ay(t,e){return(e||new TextEncoder).encode(t)}function HR(t,e){const[n,r]=t;let i=JSON.stringify(n);function s(l){typeof i=="string"?i=typeof l=="string"?i+l:[ay(i,e),l]:i.push(typeof l=="string"?ay(l,e):l)}for(const l of r){const[u,d]=l;if(s(`
${JSON.stringify(u)}
`),typeof d=="string"||d instanceof Uint8Array)s(d);else{let m;try{m=JSON.stringify(d)}catch{m=JSON.stringify(ia(d))}s(m)}}return typeof i=="string"?i:(function(l){const u=l.reduce(((v,_)=>v+_.length),0),d=new Uint8Array(u);let m=0;for(const v of l)d.set(v,m),m+=v.length;return d})(i)}function JR(t,e){const n=typeof t.data=="string"?ay(t.data,e):t.data;return[Th({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}(()=>{const{performance:t}=GA;if(!t||!t.now)return;const e=36e5,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,l=t.timing&&t.timing.navigationStart,u=typeof l=="number"?Math.abs(l+n-r):e;(s||u<e)&&i<=u&&t.timeOrigin})();const GR={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function b0(t){return GR[t]}function QA(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}const YR=6e4;function QR(t,{statusCode:e,headers:n},r=Date.now()){const i={...t},s=n&&n["x-sentry-rate-limits"],l=n&&n["retry-after"];if(s)for(const u of s.trim().split(",")){const[d,m]=u.split(":",2),v=parseInt(d,10),_=1e3*(isNaN(v)?60:v);if(m)for(const E of m.split(";"))i[E]=r+_;else i.all=r+_}else l?i.all=r+(function(u,d=Date.now()){const m=parseInt(`${u}`,10);if(!isNaN(m))return 1e3*m;const v=Date.parse(`${u}`);return isNaN(v)?YR:v-d})(l,r):e===429&&(i.all=r+6e4);return i}const W_="production";function KR(t){const e=YA(),n={sid:ca(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(function(r){return Th({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})})(n)};return t&&yo(n,t),n}function yo(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||YA(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:ca()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}let sy=class wd{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=w0()}static clone(e){const n=new wd;return e&&(n._breadcrumbs=[...e._breadcrumbs],n._tags={...e._tags},n._extra={...e._extra},n._contexts={...e._contexts},n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=[...e._eventProcessors],n._requestSession=e._requestSession,n._attachments=[...e._attachments],n._sdkProcessingMetadata={...e._sdkProcessingMetadata},n._propagationContext={...e._propagationContext}),n}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&yo(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const n=e(this);return n instanceof wd?n:this}return e instanceof wd?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):vo(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=w0(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const i={timestamp:xh(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-r),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,n={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const r=this._span.transaction;if(r){e.sdkProcessingMetadata={dynamicSamplingContext:r.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const i=r.name;i&&(e.tags={transaction:i,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},this._notifyEventProcessors([...KA(),...this._eventProcessors],e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_notifyEventProcessors(e,n,r,i=0){return new cl(((s,l)=>{const u=e[i];if(n===null||typeof u!="function")s(n);else{const d=u({...n},r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.id&&d===null&&De.log(`Event processor "${u.id}" dropped event`),F_(d)?d.then((m=>this._notifyEventProcessors(e,m,r,i+1).then(s))).then(null,l):this._notifyEventProcessors(e,d,r,i+1).then(s).then(null,l)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){var n;e.fingerprint=e.fingerprint?(n=e.fingerprint,Array.isArray(n)?n:[n]):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}};function KA(){return B_("globalEventProcessors",(()=>[]))}function XA(t){KA().push(t)}function w0(){return{traceId:ca(),spanId:ca().substring(16),sampled:!1}}const ZA=4,XR=100;let V_=class{constructor(e,n=new sy,r=ZA){this._version=r,this._stack=[{scope:n}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=sy.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const n=this.pushScope();try{e(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:ca(),i=new Error("Sentry syntheticException");return this._withClient(((s,l)=>{s.captureException(e,{originalException:e,syntheticException:i,...n,event_id:r},l)})),r}captureMessage(e,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:ca(),s=new Error(e);return this._withClient(((l,u)=>{l.captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i},u)})),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:ca();return e.type||(this._lastEventId=r),this._withClient(((i,s)=>{i.captureEvent(e,{...n,event_id:r},s)})),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:l=XR}=i.getOptions&&i.getOptions()||{};if(l<=0)return;const u={timestamp:xh(),...e},d=s?WA((()=>s(u,n))):u;d!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",d,n),r.addBreadcrumb(d,l))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=k0(this);try{e(this)}finally{k0(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return typeof __SENTRY_DEBUG__<"u"&&!__SENTRY_DEBUG__||r||console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,n=e.getSession();n&&(function(r,i){let s={};r.status==="ok"&&(s={status:"exited"}),yo(r,s)})(n),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:s=W_}=r&&r.getOptions()||{},{userAgent:l}=Kn.navigator||{},u=KR({release:i,environment:s,user:n.getUser(),...l&&{userAgent:l},...e}),d=n.getSession&&n.getSession();return d&&d.status==="ok"&&yo(d,{status:"exited"}),this.endSession(),n.setSession(u),u}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(e){const{scope:n,client:r}=this.getStackTop();r&&e(r,n)}_callExtensionMethod(e,...n){const r=Yd().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function Yd(){return Kn.__SENTRY__=Kn.__SENTRY__||{extensions:{},hub:void 0},Kn}function k0(t){const e=Yd(),n=oy(e);return eP(e,t),n}function Rn(){const t=Yd();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return(function(e=Yd()){n=e,n&&n.__SENTRY__&&n.__SENTRY__.hub&&!oy(e).isOlderThan(ZA)||eP(e,new V_);var n;return oy(e)})(t)}function oy(t){return B_("hub",(()=>new V_),t)}function eP(t,e){return t?((t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0):!1}const ZR="7";function e$(t,e){return n={sentry_key:t.publicKey,sentry_version:ZR,...e&&{sentry_client:`${e.name}/${e.version}`}},Object.keys(n).map((r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`)).join("&");var n}function t$(t,e,n,r){const i=QA(n),s=t.type&&t.type!=="replay_event"?t.type:"event";(function(u,d){d&&(u.sdk=u.sdk||{},u.sdk.name=u.sdk.name||d.name,u.sdk.version=u.sdk.version||d.version,u.sdk.integrations=[...u.sdk.integrations||[],...d.integrations||[]],u.sdk.packages=[...u.sdk.packages||[],...d.packages||[]])})(t,n&&n.sdk);const l=(function(u,d,m,v){const _=u.sdkProcessingMetadata&&u.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:u.event_id,sent_at:new Date().toISOString(),...d&&{sdk:d},...!!m&&{dsn:Jd(v)},..._&&{trace:Th({..._})}}})(t,i,r,e);return delete t.sdkProcessingMetadata,el(l,[[{type:s},t]])}const S0=[];function E0(t,e){e[t.name]=t,S0.indexOf(t.name)===-1&&(t.setupOnce(XA,Rn),S0.push(t.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.log(`Integration installed: ${t.name}`))}function n$(t,e,n,r){const{normalizeDepth:i=3,normalizeMaxBreadth:s=1e3}=t,l={...e,event_id:e.event_id||n.event_id||ca(),timestamp:e.timestamp||xh()},u=n.integrations||t.integrations.map((v=>v.name));(function(v,_){const{environment:E,release:P,dist:C,maxValueLength:S=250}=_;"environment"in v||(v.environment="environment"in _?E:W_),v.release===void 0&&P!==void 0&&(v.release=P),v.dist===void 0&&C!==void 0&&(v.dist=C),v.message&&(v.message=uo(v.message,S));const x=v.exception&&v.exception.values&&v.exception.values[0];x&&x.value&&(x.value=uo(x.value,S));const O=v.request;O&&O.url&&(O.url=uo(O.url,S))})(l,t),(function(v,_){_.length>0&&(v.sdk=v.sdk||{},v.sdk.integrations=[...v.sdk.integrations||[],..._])})(l,u),e.type===void 0&&(function(v,_){const E=Kn._sentryDebugIds;if(!E)return;let P;const C=C0.get(_);C?P=C:(P=new Map,C0.set(_,P));const S=Object.keys(E).reduce(((x,O)=>{let j;const $=P.get(O);$?j=$:(j=_(O),P.set(O,j));for(let D=j.length-1;D>=0;D--){const R=j[D];if(R.filename){x[R.filename]=E[O];break}}return x}),{});try{v.exception.values.forEach((x=>{x.stacktrace.frames.forEach((O=>{O.filename&&(O.debug_id=S[O.filename])}))}))}catch{}})(l,t.stackParser);let d=r;n.captureContext&&(d=sy.clone(d).update(n.captureContext));let m=ls(l);if(d){if(d.getAttachments){const v=[...n.attachments||[],...d.getAttachments()];v.length&&(n.attachments=v)}m=d.applyToEvent(l,n)}return m.then((v=>(v&&(function(_){const E={};try{_.exception.values.forEach((C=>{C.stacktrace.frames.forEach((S=>{S.debug_id&&(S.abs_path?E[S.abs_path]=S.debug_id:S.filename&&(E[S.filename]=S.debug_id),delete S.debug_id)}))}))}catch{}if(Object.keys(E).length===0)return;_.debug_meta=_.debug_meta||{},_.debug_meta.images=_.debug_meta.images||[];const P=_.debug_meta.images;Object.keys(E).forEach((C=>{P.push({type:"sourcemap",code_file:C,debug_id:E[C]})}))})(v),typeof i=="number"&&i>0?(function(_,E,P){if(!_)return null;const C={..._,..._.breadcrumbs&&{breadcrumbs:_.breadcrumbs.map((S=>({...S,...S.data&&{data:ia(S.data,E,P)}})))},..._.user&&{user:ia(_.user,E,P)},..._.contexts&&{contexts:ia(_.contexts,E,P)},..._.extra&&{extra:ia(_.extra,E,P)}};return _.contexts&&_.contexts.trace&&C.contexts&&(C.contexts.trace=_.contexts.trace,_.contexts.trace.data&&(C.contexts.trace.data=ia(_.contexts.trace.data,E,P))),_.spans&&(C.spans=_.spans.map((S=>(S.data&&(S.data=ia(S.data,E,P)),S)))),C})(v,i,s):v)))}const C0=new WeakMap,T0="Not capturing exception because it's already been captured.";let r$=class no{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if(no.prototype.__init.call(this),no.prototype.__init2.call(this),no.prototype.__init3.call(this),no.prototype.__init4.call(this),no.prototype.__init5.call(this),this._options=e,e.dsn?this._dsn=FR(e.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn("No DSN provided, client will not do anything."),this._dsn){const n=(function(r,i={}){const s=typeof i=="string"?i:i.tunnel,l=typeof i!="string"&&i._metadata?i._metadata.sdk:void 0;return s||`${(function(u){return`${(function(d){const m=d.protocol?`${d.protocol}:`:"",v=d.port?`:${d.port}`:"";return`${m}//${d.host}${v}${d.path?`/${d.path}`:""}/api/`})(u)}${u.projectId}/envelope/`})(r)}?${e$(r,l)}`})(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}}captureException(e,n,r){if(v0(e))return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.log(T0));let i=n&&n.event_id;return this._process(this.eventFromException(e,n).then((s=>this._captureEvent(s,n,r))).then((s=>{i=s}))),i}captureMessage(e,n,r,i){let s=r&&r.event_id;const l=qA(e)?this.eventFromMessage(String(e),n,r):this.eventFromException(e,r);return this._process(l.then((u=>this._captureEvent(u,r,i))).then((u=>{s=u}))),s}captureEvent(e,n,r){if(n&&n.originalException&&v0(n.originalException))return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.log(T0));let i=n&&n.event_id;return this._process(this._captureEvent(e,n,r).then((s=>{i=s}))),i}captureSession(e){this._isEnabled()?typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),yo(e,{init:!1})):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?this._isClientDoneProcessing(e).then((r=>n.flush(e).then((i=>r&&i)))):ls(!0)}close(e){return this.flush(e).then((n=>(this.getOptions().enabled=!1,n)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=(function(e){const n={};return e.forEach((r=>{r&&E0(r,n)})),n})(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){E0(e,this._integrations)}sendEvent(e,n={}){if(this._dsn){let r=t$(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=zR(r,JR(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(r);i&&i.then((s=>this.emit("afterSendEvent",e,s)),null)}}sendSession(e){if(this._dsn){const n=(function(r,i,s,l){const u=QA(s);return el({sent_at:new Date().toISOString(),...u&&{sdk:u},...!!l&&{dsn:Jd(i)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])})(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const i=`${e}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}on(e,n){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(n)}emit(e,...n){this._hooks[e]&&this._hooks[e].forEach((r=>r(...n)))}_updateSessionFromEvent(e,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const u of s){const d=u.mechanism;if(d&&d.handled===!1){r=!0;break}}}const l=e.status==="ok";(l&&e.errors===0||l&&r)&&(yo(e,{...r&&{status:"crashed"},errors:e.errors||Number(i||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new cl((n=>{let r=0;const i=setInterval((()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,n,r){const i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),n$(i,e,n,r).then((l=>{if(l===null)return l;const{propagationContext:u}=l.sdkProcessingMetadata||{};if(!(l.contexts&&l.contexts.trace)&&u){const{traceId:d,spanId:m,parentSpanId:v,dsc:_}=u;l.contexts={trace:{trace_id:d,span_id:m,parent_span_id:v},...l.contexts};const E=_||(function(P,C,S){const x=C.getOptions(),{publicKey:O}=C.getDsn()||{},{segment:j}=S&&S.getUser()||{},$=Th({environment:x.environment||W_,release:x.release,user_segment:j,public_key:O,trace_id:P});return C.emit&&C.emit("createDsc",$),$})(d,this,r);l.sdkProcessingMetadata={dynamicSamplingContext:E,...l.sdkProcessingMetadata}}return l}))}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then((i=>i.event_id),(i=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const s=i;s.logLevel==="log"?De.log(s.message):De.warn(s)}}))}_processEvent(e,n,r){const i=this.getOptions(),{sampleRate:s}=i;if(!this._isEnabled())return Gd(new vr("SDK not enabled, will not capture event.","log"));const l=M0(e),u=x0(e),d=e.type||"error",m=`before send for type \`${d}\``;if(u&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),Gd(new vr(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const v=d==="replay_event"?"replay":d;return this._prepareEvent(e,n,r).then((_=>{if(_===null)throw this.recordDroppedEvent("event_processor",v,e),new vr("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return _;const E=(function(P,C,S){const{beforeSend:x,beforeSendTransaction:O}=P;return x0(C)&&x?x(C,S):M0(C)&&O?O(C,S):C})(i,_,n);return(function(P,C){const S=`${C} must return \`null\` or a valid event.`;if(F_(P))return P.then((x=>{if(!vo(x)&&x!==null)throw new vr(S);return x}),(x=>{throw new vr(`${C} rejected with ${x}`)}));if(!vo(P)&&P!==null)throw new vr(S);return P})(E,m)})).then((_=>{if(_===null)throw this.recordDroppedEvent("before_send",v,e),new vr(`${m} returned \`null\`, will not send event.`,"log");const E=r&&r.getSession();!l&&E&&this._updateSessionFromEvent(E,_);const P=_.transaction_info;if(l&&P&&_.transaction!==e.transaction){const C="custom";_.transaction_info={...P,source:C}}return this.sendEvent(_,n),_})).then(null,(_=>{throw _ instanceof vr?_:(this.captureException(_,{data:{__sentry__:!0},originalException:_}),new vr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${_}`))}))}_process(e){this._numProcessing++,e.then((n=>(this._numProcessing--,n)),(n=>(this._numProcessing--,n)))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,(n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.error("Error while sending event:",n)}));(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((n=>{const[r,i]=n.split(":");return{reason:r,category:i,quantity:e[n]}}))}};function x0(t){return t.type===void 0}function M0(t){return t.type==="transaction"}const i$=30;function a$(t,e,n=WR(t.bufferSize||i$)){let r={};function i(s){const l=[];if(_0(s,((m,v)=>{const _=b0(v);if((function(E,P,C=Date.now()){return(function(S,x){return S[x]||S.all||0})(E,P)>C})(r,_)){const E=A0(m,v);t.recordDroppedEvent("ratelimit_backoff",_,E)}else l.push(m)})),l.length===0)return ls();const u=el(s[0],l),d=m=>{_0(u,((v,_)=>{const E=A0(v,_);t.recordDroppedEvent(m,b0(_),E)}))};return n.add((()=>e({body:HR(u,t.textEncoder)}).then((m=>(m.statusCode!==void 0&&(m.statusCode<200||m.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn(`Sentry responded with status code ${m.statusCode} to sent event.`),r=QR(r,m),m)),(m=>{throw d("network_error"),m})))).then((m=>m),(m=>{if(m instanceof vr)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.error("Skipped sending event because buffer is full."),d("queue_overflow"),ls();throw m}))}return i.__sentry__baseTransport__=!0,{send:i,flush:s=>n.drain(s)}}function A0(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const P0="7.60.1";let O0,tP=class cy{constructor(){cy.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=cy.id}setupOnce(){O0=Function.prototype.toString;try{Function.prototype.toString=function(...e){const n=q_(this)||this;return O0.apply(n,e)}}catch{}}};tP.__initStatic();const s$=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],o$=[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/];let nP=class kd{static __initStatic(){this.id="InboundFilters"}__init(){this.name=kd.id}constructor(e={}){this._options=e,kd.prototype.__init.call(this)}setupOnce(e,n){const r=i=>{const s=n();if(s){const l=s.getIntegration(kd);if(l){const u=s.getClient(),d=u?u.getOptions():{},m=(function(v={},_={}){return{allowUrls:[...v.allowUrls||[],..._.allowUrls||[]],denyUrls:[...v.denyUrls||[],..._.denyUrls||[]],ignoreErrors:[...v.ignoreErrors||[],..._.ignoreErrors||[],...v.disableErrorDefaults?[]:s$],ignoreTransactions:[...v.ignoreTransactions||[],..._.ignoreTransactions||[],...v.disableTransactionDefaults?[]:o$],ignoreInternal:v.ignoreInternal===void 0||v.ignoreInternal}})(l._options,d);return(function(v,_){return _.ignoreInternal&&(function(E){try{return E.exception.values[0].type==="SentryError"}catch{}return!1})(v)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn(`Event dropped due to being internal Sentry Error.
Event: ${ra(v)}`),!0):(function(E,P){return E.type||!P||!P.length?!1:(function(C){if(C.message)return[C.message];if(C.exception){const{values:S}=C.exception;try{const{type:x="",value:O=""}=S&&S[S.length-1]||{};return[`${O}`,`${x}: ${O}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.error(`Cannot extract message for event ${ra(C)}`),[]}}return[]})(E).some((C=>Au(C,P)))})(v,_.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ra(v)}`),!0):(function(E,P){if(E.type!=="transaction"||!P||!P.length)return!1;const C=E.transaction;return!!C&&Au(C,P)})(v,_.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ra(v)}`),!0):(function(E,P){if(!P||!P.length)return!1;const C=Du(E);return!!C&&Au(C,P)})(v,_.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ra(v)}.
Url: ${Du(v)}`),!0):(function(E,P){if(!P||!P.length)return!0;const C=Du(E);return!C||Au(C,P)})(v,_.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ra(v)}.
Url: ${Du(v)}`),!0)})(i,m)?null:i}}return i};r.id=this.name,e(r)}};function Du(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?(function(n=[]){for(let r=n.length-1;r>=0;r--){const i=n[r];if(i&&i.filename!=="<anonymous>"&&i.filename!=="[native code]")return i.filename||null}return null})(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.error(`Cannot extract url for event ${ra(t)}`),null}}nP.__initStatic();var c$=Object.freeze({__proto__:null,FunctionToString:tP,InboundFilters:nP});const yt=Kn;let ly=0;function rP(){return ly>0}function _o(t,e={},n){if(typeof t!="function")return t;try{const i=t.__sentry_wrapped__;if(i)return i;if(q_(t))return t}catch{return t}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const l=i.map((u=>_o(u,e)));return t.apply(this,l)}catch(l){throw ly++,setTimeout((()=>{ly--})),s=u=>{var d,m;u.addEventProcessor((v=>(e.mechanism&&(ny(v,void 0),Zc(v,e.mechanism)),v.extra={...v.extra,arguments:i},v))),d=l,Rn().captureException(d,{captureContext:m})},Rn().withScope(s),l}var s};try{for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch{}VA(r,t),U_(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>t.name})}catch{}return r}function iP(t,e){const n=z_(t,e),r={type:e&&e.name,value:u$(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function em(t,e){return{exception:{values:[iP(t,e)]}}}function z_(t,e){const n=e.stacktrace||e.stack||"",r=(function(i){if(i){if(typeof i.framesToPop=="number")return i.framesToPop;if(l$.test(i.message))return 1}return 0})(e);try{return t(n,r)}catch{}return[]}const l$=/Minified React error #\d+;/i;function u$(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function H_(t,e,n,r,i){let s;if($_(e)&&e.error)return em(t,e.error);if(a0(e)||Lo(e,"DOMException")){const l=e;if("stack"in e)s=em(t,e);else{const u=l.name||(a0(l)?"DOMError":"DOMException"),d=l.message?`${u}: ${l.message}`:u;s=uy(t,d,n,r),ny(s,d)}return"code"in l&&(s.tags={...s.tags,"DOMException.code":`${l.code}`}),s}return UA(e)?em(t,e):vo(e)||zd(e)?(s=(function(l,u,d,m){const v=Rn().getClient(),_=v&&v.getOptions().normalizeDepth,E={exception:{values:[{type:zd(u)?u.constructor.name:m?"UnhandledRejection":"Error",value:d$(u,{isUnhandledRejection:m})}]},extra:{__serialized__:JA(u,_)}};if(d){const P=z_(l,d);P.length&&(E.exception.values[0].stacktrace={frames:P})}return E})(t,e,n,i),Zc(s,{synthetic:!0}),s):(s=uy(t,e,n,r),ny(s,`${e}`),Zc(s,{synthetic:!0}),s)}function uy(t,e,n,r){const i={message:e};if(r&&n){const s=z_(t,n);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]})}return i}function d$(t,{isUnhandledRejection:e}){const n=(function(i,s=40){const l=Object.keys(zA(i));if(l.sort(),!l.length)return"[object has no keys]";if(l[0].length>=s)return uo(l[0],s);for(let u=l.length;u>0;u--){const d=l.slice(0,u).join(", ");if(!(d.length>s))return u===l.length?d:uo(d,s)}return""})(t),r=e?"promise rejection":"exception";return $_(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:zd(t)?`Event \`${(function(i){try{const s=Object.getPrototypeOf(i);return s?s.constructor.name:void 0}catch{}})(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}const j0=1024,aP="Breadcrumbs";let sP=class dy{static __initStatic(){this.id=aP}__init(){this.name=dy.id}constructor(e){dy.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&Ja("console",h$),this.options.dom&&Ja("dom",(function(e){function n(r){let i,s=typeof e=="object"?e.serializeAttribute:void 0,l=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;l&&l>j0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${l} was configured. Sentry will use 1024 instead.`),l=j0),typeof s=="string"&&(s=[s]);try{const u=r.event;i=(function(d){return!!d&&!!d.target})(u)?Xv(u.target,{keyAttrs:s,maxStringLength:l}):Xv(u,{keyAttrs:s,maxStringLength:l})}catch{i="<unknown>"}i.length!==0&&Rn().addBreadcrumb({category:`ui.${r.name}`,message:i},{event:r.event,name:r.name,global:r.global})}return n})(this.options.dom)),this.options.xhr&&Ja("xhr",f$),this.options.fetch&&Ja("fetch",p$),this.options.history&&Ja("history",m$)}addSentryBreadcrumb(e){this.options.sentry&&Rn().addBreadcrumb({category:"sentry."+(e.type==="transaction"?"transaction":"event"),event_id:e.event_id,level:e.level,message:ra(e)},{event:e})}};function h$(t){for(let r=0;r<t.args.length;r++)if(t.args[r]==="ref=Ref<"){t.args[r+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:(n=t.level,n==="warn"?"warning":VR.includes(n)?n:"log"),message:s0(t.args," ")};var n;if(t.level==="assert"){if(t.args[0]!==!1)return;e.message=`Assertion failed: ${s0(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1)}Rn().addBreadcrumb(e,{input:t.args,level:t.level})}function f$(t){const{startTimestamp:e,endTimestamp:n}=t,r=t.xhr[Lc];if(!e||!n||!r)return;const{method:i,url:s,status_code:l,body:u}=r,d={method:i,url:s,status_code:l},m={xhr:t.xhr,input:u,startTimestamp:e,endTimestamp:n};Rn().addBreadcrumb({category:"xhr",data:d,type:"http"},m)}function p$(t){const{startTimestamp:e,endTimestamp:n}=t;if(n&&(!t.fetchData.url.match(/sentry_key/)||t.fetchData.method!=="POST"))if(t.error){const r=t.fetchData,i={data:t.error,input:t.args,startTimestamp:e,endTimestamp:n};Rn().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},i)}else{const r={...t.fetchData,status_code:t.response&&t.response.status},i={input:t.args,response:t.response,startTimestamp:e,endTimestamp:n};Rn().addBreadcrumb({category:"fetch",data:r,type:"http"},i)}}function m$(t){let e=t.from,n=t.to;const r=Xp(yt.location.href);let i=Xp(e);const s=Xp(n);i.path||(i=r),r.protocol===s.protocol&&r.host===s.host&&(n=s.relative),r.protocol===i.protocol&&r.host===i.host&&(e=i.relative),Rn().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}sP.__initStatic();let g$=class extends r${constructor(e){const n=yt.SENTRY_SDK_SOURCE||"npm";e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:P0}],version:P0},super(e),e.sendClientReports&&yt.document&&yt.document.addEventListener("visibilitychange",(()=>{yt.document.visibilityState==="hidden"&&this._flushOutcomes()}))}eventFromException(e,n){return(function(r,i,s,l){const u=H_(r,i,s&&s.syntheticException||void 0,l);return Zc(u),u.level="error",s&&s.event_id&&(u.event_id=s.event_id),ls(u)})(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return(function(i,s,l="info",u,d){const m=uy(i,s,u&&u.syntheticException||void 0,d);return m.level=l,u&&u.event_id&&(m.event_id=u.event_id),ls(m)})(this._options.stackParser,e,n,r,this._options.attachStacktrace)}sendEvent(e,n){const r=this.getIntegrationById(aP);r&&r.addSentryBreadcrumb&&r.addSentryBreadcrumb(e),super.sendEvent(e,n)}captureUserFeedback(e){if(!this._isEnabled())return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn("SDK not enabled, will not capture user feedback."));const n=(function(r,{metadata:i,tunnel:s,dsn:l}){const u={event_id:r.event_id,sent_at:new Date().toISOString(),...i&&i.sdk&&{sdk:{name:i.sdk.name,version:i.sdk.version}},...!!s&&!!l&&{dsn:Jd(l)}};return el(u,[(function(m){return[{type:"user_report"},m]})(r)])})(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.log("No outcomes to send"));if(!this._dsn)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.log("No dsn provided, will not send outcomes"));(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.log("Sending outcomes:",e);const n=(r=e,el((i=this._options.tunnel&&Jd(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:s||xh(),discarded_events:r}]]));var r,i,s;this._sendEnvelope(n)}},Tc;function v$(t,e=(function(){if(Tc)return Tc;if(ey(yt.fetch))return Tc=yt.fetch.bind(yt);const n=yt.document;let r=yt.fetch;if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s.fetch&&(r=s.fetch),n.head.removeChild(i)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return Tc=r.bind(yt)})()){let n=0,r=0;return a$(t,(function(i){const s=i.body.length;n+=s,r++;const l={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{return e(t.url,l).then((u=>(n-=s,r--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}})))}catch(u){return Tc=void 0,n-=s,r--,Gd(u)}}))}let Mh=class Sd{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Sd.id}__init2(){this._installFunc={onerror:y$,onunhandledrejection:_$}}constructor(e){Sd.prototype.__init.call(this),Sd.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const r in e){const i=this._installFunc[r];i&&e[r]&&(n=r,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.log(`Global Handler attached: ${n}`),i(),this._installFunc[r]=void 0)}var n}};function y$(){Ja("error",(t=>{const[e,n,r]=cP();if(!e.getIntegration(Mh))return;const{msg:i,url:s,line:l,column:u,error:d}=t;if(rP()||d&&d.__sentry_own_request__)return;const m=d===void 0&&os(i)?(function(v,_,E,P){const C=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let S=$_(v)?v.message:v,x="Error";const O=S.match(C);return O&&(x=O[1],S=O[2]),I0({exception:{values:[{type:x,value:S}]}},_,E,P)})(i,s,l,u):I0(H_(n,d||i,void 0,r,!1),s,l,u);m.level="error",oP(e,d,m,"onerror")}))}function _$(){Ja("unhandledrejection",(t=>{const[e,n,r]=cP();if(!e.getIntegration(Mh))return;let i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch{}if(rP()||i&&i.__sentry_own_request__)return!0;const s=qA(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:H_(n,i,void 0,r,!0);s.level="error",oP(e,i,s,"onunhandledrejection")}))}function I0(t,e,n,r){const i=t.exception=t.exception||{},s=i.values=i.values||[],l=s[0]=s[0]||{},u=l.stacktrace=l.stacktrace||{},d=u.frames=u.frames||[],m=isNaN(parseInt(r,10))?void 0:r,v=isNaN(parseInt(n,10))?void 0:n,_=os(e)&&e.length>0?e:(function(){try{return NR.document.location.href}catch{return""}})();return d.length===0&&d.push({colno:m,filename:_,function:"?",in_app:!0,lineno:v}),t}function oP(t,e,n,r){Zc(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function cP(){const t=Rn(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}Mh.__initStatic();const b$=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];let lP=class hy{static __initStatic(){this.id="TryCatch"}__init(){this.name=hy.id}constructor(e){hy.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&Kt(yt,"setTimeout",L0),this._options.setInterval&&Kt(yt,"setInterval",L0),this._options.requestAnimationFrame&&Kt(yt,"requestAnimationFrame",w$),this._options.XMLHttpRequest&&"XMLHttpRequest"in yt&&Kt(XMLHttpRequest.prototype,"send",k$);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:b$).forEach(S$)}};function L0(t){return function(...e){const n=e[0];return e[0]=_o(n,{mechanism:{data:{function:da(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function w$(t){return function(e){return t.apply(this,[_o(e,{mechanism:{data:{function:"requestAnimationFrame",handler:da(t)},handled:!0,type:"instrument"}})])}}function k$(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((r=>{r in n&&typeof n[r]=="function"&&Kt(n,r,(function(i){const s={mechanism:{data:{function:r,handler:da(i)},handled:!0,type:"instrument"}},l=q_(i);return l&&(s.mechanism.data.handler=da(l)),_o(i,s)}))})),t.apply(this,e)}}function S$(t){const e=yt,n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Kt(n,"addEventListener",(function(r){return function(i,s,l){try{typeof s.handleEvent=="function"&&(s.handleEvent=_o(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:da(s),target:t},handled:!0,type:"instrument"}}))}catch{}return r.apply(this,[i,_o(s,{mechanism:{data:{function:"addEventListener",handler:da(s),target:t},handled:!0,type:"instrument"}}),l])}})),Kt(n,"removeEventListener",(function(r){return function(i,s,l){const u=s;try{const d=u&&u.__sentry_wrapped__;d&&r.call(this,i,d,l)}catch{}return r.call(this,i,u,l)}})))}lP.__initStatic();let uP=class Ed{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Ed.id}constructor(e={}){Ed.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(e,n){e(((r,i)=>{const s=n(),l=s.getClient(),u=s.getIntegration(Ed);if(!l||!u)return r;const d=l.getOptions();return LR(iP,d.stackParser,d.maxValueLength,u._key,u._limit,r,i),r}))}};uP.__initStatic();let dP=class Cd{constructor(){Cd.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Cd.id}setupOnce(){XA((e=>{if(Rn().getIntegration(Cd)){if(!yt.navigator&&!yt.location&&!yt.document)return e;const n=e.request&&e.request.url||yt.location&&yt.location.href,{referrer:r}=yt.document||{},{userAgent:i}=yt.navigator||{},s={...e.request&&e.request.headers,...r&&{Referer:r},...i&&{"User-Agent":i}},l={...e.request,...n&&{url:n},headers:s};return{...e,request:l}}return e}))}};dP.__initStatic();let hP=class Td{constructor(){Td.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Td.id}setupOnce(e,n){const r=i=>{if(i.type)return i;const s=n().getIntegration(Td);if(s){try{if((function(l,u){return u?!!((function(d,m){const v=d.message,_=m.message;return!(!v&&!_||v&&!_||!v&&_||v!==_||!D0(d,m)||!N0(d,m))})(l,u)||(function(d,m){const v=R0(m),_=R0(d);return!(!v||!_||v.type!==_.type||v.value!==_.value||!D0(d,m)||!N0(d,m))})(l,u)):!1})(i,s._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&De.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return s._previousEvent=i}return s._previousEvent=i}return i};r.id=this.name,e(r)}};function N0(t,e){let n=$0(t),r=$0(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const s=r[i],l=n[i];if(s.filename!==l.filename||s.lineno!==l.lineno||s.colno!==l.colno||s.function!==l.function)return!1}return!0}function D0(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function R0(t){return t.exception&&t.exception.values&&t.exception.values[0]}function $0(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}hP.__initStatic();var E$=Object.freeze({__proto__:null,Breadcrumbs:sP,Dedupe:hP,GlobalHandlers:Mh,HttpContext:dP,LinkedErrors:uP,TryCatch:lP});let fP={};yt.Sentry&&yt.Sentry.Integrations&&(fP=yt.Sentry.Integrations);const F0={...fP,...c$,...E$};var fy="new",B0="loading",U0="loaded",Qd="joining-meeting",Qa="joined-meeting",li="left-meeting",ui="error",C$="blocked",T$="off",x$="sendable",M$="loading",A$="interrupted",P$="playable",xd="unknown",pP="full",O$="lobby",j$="none",mP="base",gP="*",I$="ejected",L$="nbf-room",N$="nbf-token",D$="exp-room",R$="exp-token",$$="no-room",F$="meeting-full",B$="end-of-life",U$="not-allowed",q$="connection-error",W$="cam-in-use",V$="mic-in-use",z$="cam-mic-in-use",H$="permissions",J$="undefined-mediadevices",G$="not-found",Y$="constraints",Q$="unknown",vP="iframe-ready-for-launch-config",yP="iframe-launch-config",py="theme-updated",my="loading",gy="load-attempt-failed",Md="loaded",_P="started-camera",bP="camera-error",vy="joining-meeting",wP="joined-meeting",kP="left-meeting",q0="available-devices-updated",SP="participant-joined",EP="participant-updated",CP="participant-left",TP="participant-counts-updated",xP="access-state-updated",MP="meeting-session-summary-updated",AP="meeting-session-state-updated",K$="meeting-session-data-error",PP="waiting-participant-added",OP="waiting-participant-updated",jP="waiting-participant-removed",yy="track-started",_y="track-stopped",IP="transcription-started",LP="transcription-stopped",NP="transcription-error",Ad="recording-started",Pd="recording-stopped",DP="recording-stats",RP="recording-error",$P="recording-upload-completed",FP="recording-data",BP="app-message",UP="transcription-message",qP="remote-media-player-started",WP="remote-media-player-updated",VP="remote-media-player-stopped",zP="local-screen-share-started",HP="local-screen-share-stopped",JP="local-screen-share-canceled",GP="active-speaker-change",YP="active-speaker-mode-change",QP="network-quality-change",KP="network-connection",XP="cpu-load-change",ZP="face-counts-updated",Va="fullscreen",za="exited-fullscreen",eO="live-streaming-started",tO="live-streaming-updated",nO="live-streaming-stopped",rO="live-streaming-error",iO="lang-updated",aO="receive-settings-updated",sO="input-settings-updated",Od="nonfatal-error",jd="error",W0=102400,tm="iframe-call-message",V0="local-screen-start",z0="daily-method-update-live-streaming-endpoints",xc="transmit-log",Nc="daily-custom-track",Id={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},oO={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},by={PLAY:"play",PAUSE:"pause"},H0=10,nm=["jpg","png","jpeg"],X$="add-endpoints",Z$="remove-endpoints";function Tr(){return!at()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function at(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function cO(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function eF(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&((function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0})(us(),ky())||at())}function J0(){if(at()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var tF=(function(){try{var t=document.createElement("canvas"),e=t.getContext("webgl2")!=null;return t.remove(),e}catch{return!1}})();function lO(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!at()&&!!tF&&(t?(function(){return wy()?!1:["Chrome","Firefox"].includes(us())})():(function(){if(wy())return!1;var e=us();if(e==="Safari"){var n=G_();if(n.major<15||n.major===15&&n.minor<4)return!1}return e==="Chrome"?J_().major>=77:e==="Firefox"?Y_().major>=97:["Chrome","Firefox","Safari"].includes(e)})())}var nF=["Chrome","Firefox"];function uO(){return!at()&&!wy()&&typeof AudioWorkletNode<"u"&&nF.includes(us())}function G0(){return cO()&&!(function(){var t,e=us();if(!Tr())return!0;switch(e){case"Chrome":return(t=J_()).major&&t.major>0&&t.major<75;case"Firefox":return(t=Y_()).major<91;case"Safari":return(t=G_()).major<13||t.major===13&&t.minor<1;default:return!0}})()}function wy(){var t,e,n=Tr(),r=n.match(/Mac/)&&(!at()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(e=t.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(n.match(/Mobi/)||n.match(/Android/)||r)||!!Tr().match(/DailyAnd\//)||void 0}function us(){if(typeof window<"u"){var t=Tr();return dO()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function ky(){switch(us()){case"Chrome":return J_();case"Safari":return G_();case"Firefox":return Y_();case"Edge":return(function(){var t=0,e=0;if(typeof window<"u"){var n=Tr().match(/Edge\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}})()}}function J_(){var t=0,e=0,n=0,r=0,i=!1;if(typeof window<"u"){var s=Tr(),l=s.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(l)try{t=parseInt(l[1]),e=parseInt(l[2]),n=parseInt(l[3]),r=parseInt(l[4]),i=s.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:n,patch:r,opera:i}}function dO(){return!!Tr().match(/iPad|iPhone|iPod/i)&&cO()}function G_(){var t=0,e=0,n=0;if(typeof window<"u"){var r=Tr().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2]),n=parseInt(r[4])}catch{}else dO()&&(t=14,e=0,n=3)}return{major:t,minor:e,point:n}}function Y_(){var t=0,e=0;if(typeof window<"u"){var n=Tr().match(/Firefox\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}var hO=(function(){function t(){Pr(this,t)}return Or(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,r){Cc()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,r){Cc()}},{key:"sendMessageToCallMachine",value:function(e,n,r,i){Cc()}},{key:"sendMessageToDailyJs",value:function(e,n){Cc()}},{key:"removeListener",value:function(e){Cc()}}]),t})();function Y0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y0(Object(n),!0).forEach((function(r){na(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function rF(t){var e=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var n,r=Cr(t);if(e){var i=Cr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Eh(this,n)}}var iF=(function(t){Sh(n,hO);var e=rF(n);function n(){var r;return Pr(this,n),(r=e.call(this))._wrappedListeners={},r._messageCallbacks={},r}return Or(n,[{key:"addListenerForMessagesFromCallMachine",value:function(r,i,s){var l=this,u=function(d){if(d.data&&d.data.what==="iframe-call-message"&&(!d.data.callFrameId||d.data.callFrameId===i)&&(!d.data.from||d.data.from!=="module")){var m=rm({},d.data);if(delete m.from,m.callbackStamp&&l._messageCallbacks[m.callbackStamp]){var v=m.callbackStamp;l._messageCallbacks[v].call(s,m),delete l._messageCallbacks[v]}delete m.what,delete m.callbackStamp,r.call(s,m)}};this._wrappedListeners[r]=u,window.addEventListener("message",u)}},{key:"addListenerForMessagesFromDailyJs",value:function(r,i,s){var l=function(u){if(!(!u.data||u.data.what!==tm||!u.data.action||u.data.from&&u.data.from!=="module"||u.data.callFrameId&&i&&u.data.callFrameId!==i)){var d=u.data;r.call(s,d)}};this._wrappedListeners[r]=l,window.addEventListener("message",l)}},{key:"sendMessageToCallMachine",value:function(r,i,s,l){if(!l)throw new Error("undefined callFrameId. Are you trying to use a DailyCall instance previously destroyed?");var u=rm({},r);if(u.what=tm,u.from="module",u.callFrameId=l,i){var d=Ch();this._messageCallbacks[d]=i,u.callbackStamp=d}var m=s?s.contentWindow:window,v=this._callMachineTargetOrigin(s);v&&m.postMessage(u,v)}},{key:"sendMessageToDailyJs",value:function(r,i){r.what=tm,r.callFrameId=i,r.from="embedded",window.postMessage(r,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(r){var i=this._wrappedListeners[r];i&&(window.removeEventListener("message",i),delete this._wrappedListeners[r])}},{key:"forwardPackagedMessageToCallMachine",value:function(r,i,s){var l=rm({},r);l.callFrameId=s;var u=i?i.contentWindow:window,d=this._callMachineTargetOrigin(i);d&&u.postMessage(l,d)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(r,i){var s=function(l){if(l.data&&l.data.what==="iframe-call-message"&&(!l.data.callFrameId||l.data.callFrameId===i)&&(!l.data.from||l.data.from!=="module")){var u=l.data;r(u)}};return this._wrappedListeners[r]=s,window.addEventListener("message",s),r}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(r){var i=this._wrappedListeners[r];i&&(window.removeEventListener("message",i),delete this._wrappedListeners[r])}},{key:"_callMachineTargetOrigin",value:function(r){return r?r.src?new URL(r.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}]),n})();function aF(t){var e=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var n,r=Cr(t);if(e){var i=Cr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Eh(this,n)}}var sF=(function(t){Sh(n,hO);var e=aF(n);function n(){var r;return Pr(this,n),r=e.call(this),globalThis.callMachineToDailyJsEmitter=globalThis.callMachineToDailyJsEmitter||new gi.EventEmitter,globalThis.dailyJsToCallMachineEmitter=globalThis.dailyJsToCallMachineEmitter||new gi.EventEmitter,r._wrappedListeners={},r._messageCallbacks={},r}return Or(n,[{key:"addListenerForMessagesFromCallMachine",value:function(r,i,s){this._addListener(r,globalThis.callMachineToDailyJsEmitter,s,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(r,i,s){this._addListener(r,globalThis.dailyJsToCallMachineEmitter,s,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(r,i){this._sendMessage(r,globalThis.dailyJsToCallMachineEmitter,"sending message to call machine",i)}},{key:"sendMessageToDailyJs",value:function(r){this._sendMessage(r,globalThis.callMachineToDailyJsEmitter,"sending message to daily-js")}},{key:"removeListener",value:function(r){var i=this._wrappedListeners[r];i&&(globalThis.callMachineToDailyJsEmitter.removeListener("message",i),globalThis.dailyJsToCallMachineEmitter.removeListener("message",i),delete this._wrappedListeners[r])}},{key:"_addListener",value:function(r,i,s,l){var u=this,d=function(m){if(m.callbackStamp&&u._messageCallbacks[m.callbackStamp]){var v=m.callbackStamp;u._messageCallbacks[v].call(s,m),delete u._messageCallbacks[v]}r.call(s,m)};this._wrappedListeners[r]=d,i.addListener("message",d)}},{key:"_sendMessage",value:function(r,i,s,l){if(l){var u=Ch();this._messageCallbacks[u]=l,r.callbackStamp=u}i.emit("message",r)}}]),n})(),Sy="replace",Ey="shallow-merge",Q0=[Sy,Ey],oF=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.data,r=e.mergeStrategy,i=r===void 0?Sy:r;Pr(this,t),t._validateMergeStrategy(i),t._validateData(n,i),this.mergeStrategy=i,this.data=n}return Or(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,n){return Object.keys(e).length===0&&n===Ey}},{key:"_validateMergeStrategy",value:function(e){if(!Q0.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(Q0,"]"))}},{key:"_validateData",value:function(e,n){if(!(function(u){if(u==null||_t(u)!=="object")return!1;var d=Object.getPrototypeOf(u);return d==null||d===Object.prototype})(e))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(e),n===Sy){var i=JSON.parse(r);Cn(i,e)||console.warn("The meeting session data provided will be modified when serialized.",i,e)}else if(n===Ey){for(var s in e)if(Object.hasOwnProperty.call(e,s)&&e[s]!==void 0){var l=JSON.parse(JSON.stringify(e[s]));Cn(e[s],l)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",l,e[s])}}}catch(u){throw Error("Meeting session data must be serializable to JSON: ".concat(u))}if(r.length>W0)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(W0,"."))}}]),t})();function Cy(t,e,n){return Cy=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})()?Reflect.construct.bind():function(r,i,s){var l=[null];l.push.apply(l,i);var u=new(Function.bind.apply(r,l));return s&&Kc(u,s.prototype),u},Cy.apply(null,arguments)}function Ty(t){var e=typeof Map=="function"?new Map:void 0;return Ty=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Cy(n,arguments,Cr(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Kc(i,n)},Ty(t)}function cF(t){var e=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var n,r=Cr(t);if(e){var i=Cr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Eh(this,n)}}function K0(t){var e,n=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}}var lF=(function(){function t(e){Pr(this,t),this._currentLoad=null,this._callFrameId=e}return Or(t,[{key:"load",value:function(){var e,n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callFrameId].callMachine.reset(),void i(!0);e=this._callFrameId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new uF(r,(function(){i(!1)}),(function(l,u){u||K0(n._callFrameId),s(l,u)})),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),K0(this._callFrameId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),t})(),uF=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Pr(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=n,this._failureCallback=r}return Or(t,[{key:"start",value:function(){var e=this;this._currentAttempt||(this._currentAttempt=new X0(this._dailyConfig,this._successCallback,(function n(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout((function(){e._currentAttempt.cancelled||(e._currentAttempt=new X0(e._dailyConfig,e._successCallback,n),e._currentAttempt.start())}),3e3))})),this._currentAttempt.start())}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),t})(),im=(function(t){Sh(n,Ty(Error));var e=cF(n);function n(){return Pr(this,n),e.apply(this,arguments)}return Or(n)})(),Kd=2e4,X0=(function(){function t(n,r,i){Pr(this,t),this._loadAttemptImpl=at()||!n.avoidEval?new dF(n,r,i):new hF(n,r,i)}var e;return Or(t,[{key:"start",value:(e=Pe((function*(){return this._loadAttemptImpl.start()})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),t})(),dF=(function(){function t(s,l,u){Pr(this,t),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=s,this._successCallback=l,this._failureCallback=u}var e,n,r,i;return Or(t,[{key:"start",value:(i=Pe((function*(){var s=Vd(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)})),function(){return i.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=Pe((function*(s){if(!this._iosCache)return!1;try{var l=yield this._iosCache.get(s);return!!this.cancelled||!!l&&(l.code?(Function('"use strict";'+l.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=l.refetchHeaders,!1))}catch{return!1}})),function(s){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(n=Pe((function*(s){var l=this;this._networkTimeout=setTimeout((function(){l._networkTimedOut=!0,l._failureCallback({msg:"Timed out (>".concat(Kd," ms) when loading call object bundle ").concat(s),type:"timeout"})}),Kd);try{var u=this._refetchHeaders?{headers:this._refetchHeaders}:{},d=yield fetch(s,u);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new im;var m=yield this._getBundleCodeFromResponse(s,d);if(this.cancelled)throw new im;Function('"use strict";'+m)(),this._iosCache&&this._iosCache.set(s,m,d.headers),this.succeeded=!0,this._successCallback()}catch(v){if(clearTimeout(this._networkTimeout),v instanceof im||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(v),type:v.message})}})),function(s){return n.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=Pe((function*(s,l){if(l.ok)return yield l.text();if(this._iosCache&&l.status===304)return(yield this._iosCache.renew(s,l.headers)).code;throw new Error("Received ".concat(l.status," response"))})),function(s,l){return e.apply(this,arguments)})}]),t})(),hF=(function(){function t(e,n,r){Pr(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=n,this._failureCallback=r,this._attemptId=Ch(),this._networkTimeout=null,this._scriptElement=null}return Or(t,[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Vd(this._dailyConfig);(typeof document>"u"?"undefined":_t(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var n=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout((function(){n._stopLoading(),n._failureCallback({msg:"Timed out (>".concat(Kd," ms) when loading call object bundle ").concat(e),type:"timeout"})}),Kd);var r=document.getElementsByTagName("head")[0],i=document.createElement("script");this._scriptElement=i,i.onload=function(){n._stopLoading(),n.succeeded=!0,n._successCallback()},i.onerror=function(s){n._stopLoading(),n._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},i.src=e,r.appendChild(i)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),t})(),Ru=function(t,e,n){return pF(t.local,e,n)===!0},fF=function(t,e,n){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},ao=function(t,e,n,r){var i=mF(t,e,n,r);return i&&i.pendingTrack},pF=function(t,e,n){if(!t)return!1;var r=function(s){switch(s){case"avatar":return!0;case"staged":return s;default:return!!s}},i=t.public.subscribedTracks;return i&&i[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&i[e].custom?[!0,"staged"].includes(i[e].custom)?r(i[e].custom):r(i[e].custom[n]):r(i[e][n]):!i||r(i.ALL)},mF=function(t,e,n,r){var i=Object.values(t.streams||{}).filter((function(s){return s.participantId===e&&s.type===n&&s.pendingTrack&&s.pendingTrack.kind===r})).sort((function(s,l){return new Date(l.starttime)-new Date(s.starttime)}));return i&&i[0]},gF=function(t,e){var n=t.local.public.customTracks;if(n&&n[e])return n[e].track};function Z0(t,e){for(var n=e.getState(),r=0,i=["cam","screen"];r<i.length;r++)for(var s=i[r],l=0,u=["video","audio"];l<u.length;l++){var d=u[l],m=s==="cam"?d:"screen".concat(d.charAt(0).toUpperCase()+d.slice(1)),v=t.tracks[m];if(v){var _=t.local?fF(n,s,d):ao(n,t.session_id,s,d);v.state==="playable"&&(v.track=_),v.persistentTrack=_}}}function eE(t,e){try{var n=e.getState();for(var r in t.tracks)if(!vF(r)){var i=t.tracks[r].kind;if(i){var s=t.tracks[r];if(s){var l=t.local?gF(n,r):ao(n,t.session_id,r,i);s.state==="playable"&&(t.tracks[r].track=l),s.persistentTrack=l}}else console.error("unknown type for custom track")}}catch(u){console.error(u)}}function vF(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function tE(t,e,n){var r=n.getState();if(t.local){if(t.audio)try{t.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var i=!0;try{var s=r.participants[t.session_id];s&&s.public&&s.public.rtcType&&s.public.rtcType.impl==="peer-to-peer"&&s.private&&!["connected","completed"].includes(s.private.peeringState)&&(i=!1)}catch(v){console.error(v)}if(!i)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(r.streams,t.audio&&Ru(r,t.session_id,"cam-audio")){var l=ao(r,t.session_id,"cam","audio");l&&(e&&e.audioTrack&&e.audioTrack.id===l.id?t.audioTrack=l:l.muted||(t.audioTrack=l)),t.audioTrack||(t.audio=!1)}if(t.video&&Ru(r,t.session_id,"cam-video")){var u=ao(r,t.session_id,"cam","video");u&&(e&&e.videoTrack&&e.videoTrack.id===u.id?t.videoTrack=u:u.muted||(t.videoTrack=u)),t.videoTrack||(t.video=!1)}if(t.screen&&Ru(r,t.session_id,"screen-audio")){var d=ao(r,t.session_id,"screen","audio");d&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===d.id?t.screenAudioTrack=d:d.muted||(t.screenAudioTrack=d))}if(t.screen&&Ru(r,t.session_id,"screen-video")){var m=ao(r,t.session_id,"screen","video");m&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===m.id?t.screenVideoTrack=m:m.muted||(t.screenVideoTrack=m))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(v){console.error("unexpected error matching up tracks",v)}}}function yF(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(function(d,m){if(d){if(typeof d=="string")return nE(d,m);var v=Object.prototype.toString.call(d).slice(8,-1);if(v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set")return Array.from(d);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return nE(d,m)}})(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,l=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){u=!0,s=d},f:function(){try{l||n.return==null||n.return()}finally{if(u)throw s}}}}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Br=new Map,ho=null;function _F(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(function(d,m){if(d){if(typeof d=="string")return rE(d,m);var v=Object.prototype.toString.call(d).slice(8,-1);if(v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set")return Array.from(d);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return rE(d,m)}})(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,l=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){u=!0,s=d},f:function(){try{l||n.return==null||n.return()}finally{if(u)throw s}}}}function rE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ur=new Map,zc=null,bF=3e3;function wF(t){fO()?(function(e){Br.has(e)||(Br.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(n){Br.has(e)&&(Br.get(e).lastDevicesString=JSON.stringify(n),ho||(ho=(function(){var r=Pe((function*(){var i,s=yield navigator.mediaDevices.enumerateDevices(),l=yF(Br.keys());try{for(l.s();!(i=l.n()).done;){var u=i.value,d=JSON.stringify(s);d!==Br.get(u).lastDevicesString&&(Br.get(u).lastDevicesString=d,u(s))}}catch(m){l.e(m)}finally{l.f()}}));return function(){return r.apply(this,arguments)}})(),navigator.mediaDevices.addEventListener("devicechange",ho)))})).catch((function(){})))})(t):(function(e){Ur.has(e)||(Ur.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(n){Ur.has(e)&&(Ur.get(e).lastDevicesString=JSON.stringify(n),zc||(zc=setInterval(Pe((function*(){var r,i=yield navigator.mediaDevices.enumerateDevices(),s=_F(Ur.keys());try{for(s.s();!(r=s.n()).done;){var l=r.value,u=JSON.stringify(i);u!==Ur.get(l).lastDevicesString&&(Ur.get(l).lastDevicesString=u,l(i))}}catch(d){s.e(d)}finally{s.f()}})),bF)))})))})(t)}function kF(t){fO()?(function(e){Br.has(e)&&(Br.delete(e),Br.size===0&&ho&&(navigator.mediaDevices.removeEventListener("devicechange",ho),ho=null))})(t):(function(e){Ur.has(e)&&(Ur.delete(e),Ur.size===0&&zc&&(clearInterval(zc),zc=null))})(t)}function fO(){return at()||navigator.mediaDevices.ondevicechange!==void 0}var SF=new Set;function EF(t,e){return t&&t.readyState==="live"&&!(function(n,r){return n.muted&&!SF.has(n.id)})(t)}var $r,CF=["videoTrack"],TF=["result"],xF=["preserveIframe"];function iE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(n),!0).forEach((function(r){na(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function MF(t){var e=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var n,r=Cr(t);if(e){var i=Cr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Eh(this,n)}}function aE(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(function(d,m){if(d){if(typeof d=="string")return sE(d,m);var v=Object.prototype.toString.call(d).slice(8,-1);if(v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set")return Array.from(d);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return sE(d,m)}})(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,l=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){u=!0,s=d},f:function(){try{l||n.return==null||n.return()}finally{if(u)throw s}}}}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oE="video",AF="voice",cE=at()?{data:{}}:{data:{},topology:"none"},lE={present:0,hidden:0},pO={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},am=Object.keys(pO),uE=["state","volume","simulcastEncodings"],dE={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Xd={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string"}},xy={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Oa={customIntegrations:{validate:kO,help:bO()},customTrayButtons:{validate:wO,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Xd))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return SO(t,dE)},help:"reactNativeConfig should look like ".concat(JSON.stringify(dE),", all fields optional")},lang:{validate:function(t){return["de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return mO(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){return t instanceof MediaStreamTrack&&(e._sharedTracks.videoDeviceId=t),e._preloadCache.videoDeviceId=t,!0}},audioSource:{validate:function(t,e){return t instanceof MediaStreamTrack&&(e._sharedTracks.audioDeviceId=t),e._preloadCache.audioDeviceId=t,!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var i=0,s=Object.keys(r);i<s.length;i++){var l=s[i];if(!e.includes(l))return console.error('unsupported color "'.concat(l,'". Valid colors: ').concat(e.join(", "))),!1;if(!r[l].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(l,' theme color should be provided in valid hex color format. Received: "').concat(r[l],'"')),!1}return!0};return _t(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?n(t.light.colors)&&n(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):n(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return gO(t,{allowAllParticipantsKey:!1})},help:_O({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!(function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(i){return console.error("Failed to validate send settings",i),!1}})(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var n;return!!vO(t)&&(e._preloadCache.inputSettings||(e._preloadCache.inputSettings={}),yO(t,(n=e.properties)===null||n===void 0?void 0:n.dailyConfig),t.audio&&(e._preloadCache.inputSettings.audio=t.audio),t.video&&(e._preloadCache.inputSettings.video=t.video),!0)},help:My()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0},$u={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var n in t.cam)if(n!=="div"&&n!=="video")return!1}if(t.screen){for(var r in t.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(t)||!at()&&t==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"];return(function i(s){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var u in s)if(u==="custom"){if(!n.includes(s[u])&&!i(s[u],!0))return!1}else{var d=!l&&!r.includes(u),m=!n.includes(s[u]);if(d||m)return!1}return!0})(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(at()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=ss(n[e],2),i=r[0],s=r[1];switch(i){case"hasPresence":if(typeof s!="boolean")return!1;break;case"canSend":if(s instanceof Set||s instanceof Array){var l,u=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],d=aE(s);try{for(d.s();!(l=d.n()).done;){var m=l.value;if(!u.includes(m))return!1}}catch(C){d.e(C)}finally{d.f()}}else if(typeof s!="boolean")return!1;s instanceof Array&&(t.canSend=new Set(s));break;case"canAdmin":if(s instanceof Set||s instanceof Array){var v,_=["participants","streaming","transcription"],E=aE(s);try{for(E.s();!(v=E.n()).done;){var P=v.value;if(!_.includes(P))return!1}}catch(C){E.e(C)}finally{E.f()}}else if(typeof s!="boolean")return!1;s instanceof Array&&(t.canAdmin=new Set(s));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=(function(){var t=Pe((function*(e){return new Promise((function(n,r){var i=[];e.forEach((function(s){return Promise.resolve(s).then((function(l){n(l)})).catch((function(l){i.push(l),i.length===e.length&&r(i)}))}))}))}));return function(e){return t.apply(this,arguments)}})());var PF=(function(t){Sh(Y,gi);var e,n,r,i,s,l,u,d,m,v,_,E,P,C,S,x,O,j,$,D,R,U,G,X,oe,ce,le,Be,He,st,Tt,ot,qe,ue,_e,de,q=MF(Y);function Y(o){var f,p,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Pr(this,Y),na(oi(f=q.call(this)),"startListeningForDeviceChanges",(function(){wF(f.handleDeviceChange)})),na(oi(f),"stopListeningForDeviceChanges",(function(){kF(f.handleDeviceChange)})),na(oi(f),"handleDeviceChange",(function(T){T=T.map((function(I){return JSON.parse(JSON.stringify(I))})),f.emit(q0,{action:q0,availableDevices:T})})),na(oi(f),"handleNativeAppStateChange",(function(){var T=Pe((function*(I){if(I==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield f.destroy());var L=I==="active";f.disableReactNativeAutoDeviceManagement("video")||(L?f.camUnmutedBeforeLosingNativeActiveState&&f.setLocalVideo(!0):(f.camUnmutedBeforeLosingNativeActiveState=f.localVideo(),f.camUnmutedBeforeLosingNativeActiveState&&f.setLocalVideo(!1)))}));return function(I){return T.apply(this,arguments)}})()),na(oi(f),"handleNativeAudioFocusChange",(function(T){f.disableReactNativeAutoDeviceManagement("audio")||(f._hasNativeAudioFocus=T,f.toggleParticipantAudioBasedOnNativeAudioFocus(),f._hasNativeAudioFocus?f.micUnmutedBeforeLosingNativeAudioFocus&&f.setLocalAudio(!0):(f.micUnmutedBeforeLosingNativeAudioFocus=f.localAudio(),f.setLocalAudio(!1)))})),na(oi(f),"handleNativeSystemScreenCaptureStop",(function(){f.stopScreenShare()})),f.strictMode=y.strictMode===void 0||y.strictMode,$r){if(f._logDuplicateInstanceAttempt(),f.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed")}else p=oi(f),$r=p;if(window._daily||(window._daily={pendings:[],instances:{}}),f._callFrameId=Ch(),window._daily.instances[f._callFrameId]={},f._sharedTracks={},window._daily.instances[f._callFrameId].tracks=f._sharedTracks,y.dailyJsVersion=Y.version(),f._iframe=o,f._callObjectMode=y.layout==="none"&&!f._iframe,f._preloadCache={subscribeToTracksAutomatically:!0,audioDeviceId:null,videoDeviceId:null,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},y.showLocalVideo!==void 0?f._callObjectMode?console.error("showLocalVideo is not available in call object mode"):f._showLocalVideo=!!y.showLocalVideo:f._showLocalVideo=!0,y.showParticipantsBar!==void 0?f._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):f._showParticipantsBar=!!y.showParticipantsBar:f._showParticipantsBar=!0,y.customIntegrations!==void 0?f._callObjectMode?console.error("customIntegrations is not available in call object mode"):f._customIntegrations=y.customIntegrations:f._customIntegrations={},y.customTrayButtons!==void 0?f._callObjectMode?console.error("customTrayButtons is not available in call object mode"):f._customTrayButtons=y.customTrayButtons:f._customTrayButtons={},y.activeSpeakerMode!==void 0?f._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):f._activeSpeakerMode=!!y.activeSpeakerMode:f._activeSpeakerMode=!1,y.receiveSettings?f._callObjectMode?f._receiveSettings=y.receiveSettings:console.error("receiveSettings is only available in call object mode"):f._receiveSettings={},f.validateProperties(y),f.properties=Ne({},y),f._preloadCache.inputSettings||(f._preloadCache.inputSettings={}),y.inputSettings&&y.inputSettings.audio&&(f._preloadCache.inputSettings.audio=y.inputSettings.audio),y.inputSettings&&y.inputSettings.video&&(f._preloadCache.inputSettings.video=y.inputSettings.video),f._callObjectLoader=f._callObjectMode?new lF(f._callFrameId):null,f._callState=fy,f._isPreparingToJoin=!1,f._accessState={access:xd},f._meetingSessionSummary={},f._finalSummaryOfPrevSession={},f._meetingSessionState=om(cE,f._callObjectMode),f._nativeInCallAudioMode=oE,f._participants={},f._isScreenSharing=!1,f._participantCounts=lE,f._rmpPlayerState={},f._waitingParticipants={},f._network={threshold:"good",quality:100},f._activeSpeaker={},f._localAudioLevel=0,f._remoteParticipantsAudioLevel={},f._messageChannel=at()?new sF:new iF,f._iframe&&(f._iframe.requestFullscreen?f._iframe.addEventListener("fullscreenchange",(function(){document.fullscreenElement===f._iframe?(f.emit(Va,{action:Va}),f.sendMessageToCallMachine({action:Va})):(f.emit(za,{action:za}),f.sendMessageToCallMachine({action:za}))})):f._iframe.webkitRequestFullscreen&&f._iframe.addEventListener("webkitfullscreenchange",(function(){document.webkitFullscreenElement===f._iframe?(f.emit(Va,{action:Va}),f.sendMessageToCallMachine({action:Va})):(f.emit(za,{action:za}),f.sendMessageToCallMachine({action:za}))}))),at()){var w=f.nativeUtils();w.addAudioFocusChangeListener&&w.removeAudioFocusChangeListener&&w.addAppStateChangeListener&&w.removeAppStateChangeListener&&w.addSystemScreenCaptureStopListener&&w.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),f._hasNativeAudioFocus=!0,w.addAudioFocusChangeListener(f.handleNativeAudioFocusChange),w.addAppStateChangeListener(f.handleNativeAppStateChange),w.addSystemScreenCaptureStopListener(f.handleNativeSystemScreenCaptureStop)}return f._callObjectMode&&f.startListeningForDeviceChanges(),f._messageChannel.addListenerForMessagesFromCallMachine(f.handleMessageFromCallMachine,f._callFrameId,oi(f)),f}return Or(Y,[{key:"destroy",value:(de=Pe((function*(){var o,f;try{yield this.leave()}catch{}var p=this._iframe;if(p){var y=p.parentElement;y&&y.removeChild(p)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),at()){var w=this.nativeUtils();w.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),w.removeAppStateChangeListener(this.handleNativeAppStateChange),w.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0;try{this.emit("call-instance-destroyed",{action:"call-instance-destroyed"})}catch{console.log("could not emit call-instance-destroyed")}$r=void 0,!((o=window)===null||o===void 0||(f=o._daily)===null||f===void 0)&&f.instances&&delete window._daily.instances[this._callFrameId],this.strictMode&&(this._callFrameId=void 0)})),function(){return de.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(o){var f=o.bodyClass,p=o.cssFile,y=o.cssText;return Je(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(p),bodyClass:f,cssText:y}),this}},{key:"iframe",value:function(){return Je(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Fr(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Fr(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(o,f){for(var p in f){if(!$u[p])throw new Error("unrecognized updateParticipant property ".concat(p));if($u[p].validate&&!$u[p].validate(f[p],this,this._participants[o]))throw new Error($u[p].help)}}},{key:"updateParticipant",value:function(o,f){return this._participants.local&&this._participants.local.session_id===o&&(o="local"),o&&f&&(this.validateParticipantProperties(o,f),this.sendMessageToCallMachine({action:"update-participant",id:o,properties:f})),this}},{key:"updateParticipants",value:function(o){var f=this._participants.local&&this._participants.local.session_id;for(var p in o)p===f&&(p="local"),p&&o[p]&&this.validateParticipantProperties(p,o[p]);return this.sendMessageToCallMachine({action:"update-participants",participants:o}),this}},{key:"updateWaitingParticipant",value:(_e=Pe((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Fr(this._callObjectMode,"updateWaitingParticipant()"),Ot(this._callState,"updateWaitingParticipant()"),typeof f!="string"||_t(p)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise((function(y,w){o.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:f,updates:p},(function(T){T.error&&w(T.error),T.id||w(new Error("unknown error in updateWaitingParticipant()")),y({id:T.id})}))}))})),function(){return _e.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(ue=Pe((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Fr(this._callObjectMode,"updateWaitingParticipants()"),Ot(this._callState,"updateWaitingParticipants()"),_t(f)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise((function(p,y){o.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:f},(function(w){w.error&&y(w.error),w.ids||y(new Error("unknown error in updateWaitingParticipants()")),p({ids:w.ids})}))}))})),function(){return ue.apply(this,arguments)})},{key:"requestAccess",value:(qe=Pe((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=f.access,y=p===void 0?{level:pP}:p,w=f.name,T=w===void 0?"":w;return Fr(this._callObjectMode,"requestAccess()"),Ot(this._callState,"requestAccess()"),new Promise((function(I,L){o.sendMessageToCallMachine({action:"daily-method-request-access",access:y,name:T},(function(W){W.error&&L(W.error),W.access||L(new Error("unknown error in requestAccess()")),I({access:W.access,granted:W.granted})}))}))})),function(){return qe.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in f&&(at()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),f={}):o&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),f={})),this.sendMessageToCallMachine({action:"local-audio",state:o,options:f}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(o){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:o}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(o){return this.sendMessageToCallMachine({action:"local-video",state:o}),this}},{key:"getReceiveSettings",value:(ot=Pe((function*(o){var f=this,p=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,y=p!==void 0&&p;if(Fr(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(_t(o)){case"string":return new Promise((function(w){f.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:o,showInheritedValues:y},(function(T){w(T.receiveSettings)}))}));case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}})),function(o){return ot.apply(this,arguments)})},{key:"updateReceiveSettings",value:(Tt=Pe((function*(o){var f=this;if(Fr(this._callObjectMode,"updateReceiveSettings()"),!gO(o,{allowAllParticipantsKey:!0}))throw new Error(_O({allowAllParticipantsKey:!0}));return Ot(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise((function(p){f.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:o},(function(y){p({receiveSettings:y.receiveSettings})}))}))})),function(o){return Tt.apply(this,arguments)})},{key:"_prepInputSettingsToPresentToUser",value:function(o){var f,p,y,w,T,I,L,W;if(o){var Z={},ae=((f=o.audio)===null||f===void 0||(p=f.processor)===null||p===void 0?void 0:p.type)==="none"&&((y=o.audio)===null||y===void 0||(w=y.processor)===null||w===void 0?void 0:w._isDefaultWhenNone);if(o.audio&&!ae){var Le=Ne({},o.audio.processor);delete Le._isDefaultWhenNone,Z.audio=Ne(Ne({},o.audio),{},{processor:Le})}var we=((T=o.video)===null||T===void 0||(I=T.processor)===null||I===void 0?void 0:I.type)==="none"&&((L=o.video)===null||L===void 0||(W=L.processor)===null||W===void 0?void 0:W._isDefaultWhenNone);if(o.video&&!we){var Re=Ne({},o.video.processor);delete Re._isDefaultWhenNone,Z.video=Ne(Ne({},o.video),{},{processor:Re})}return Z}}},{key:"getInputSettings",value:function(){var o=this;return Je(),new Promise((function(f){f(o._getInputSettings())}))}},{key:"_getInputSettings",value:function(){var o,f,p,y,w,T,I,L,W={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(o=((p=this._inputSettings)===null||p===void 0?void 0:p.video)||W,f=((y=this._inputSettings)===null||y===void 0?void 0:y.audio)||W):(o=((w=this._preloadCache)===null||w===void 0||(T=w.inputSettings)===null||T===void 0?void 0:T.video)||W,f=((I=this._preloadCache)===null||I===void 0||(L=I.inputSettings)===null||L===void 0?void 0:L.audio)||W);var Z={audio:f,video:o};return this._prepInputSettingsToPresentToUser(Z)}},{key:"updateInputSettings",value:(st=Pe((function*(o){var f=this;return Je(),vO(o)?(o&&(this._preloadCache.inputSettings||(this._preloadCache.inputSettings={}),yO(o,this.properties.dailyConfig),o.audio&&(this._preloadCache.inputSettings.audio=o.audio),o.video&&(this._preloadCache.inputSettings.video=o.video)),o.video||o.audio?this._callObjectMode&&!this._callMachineInitialized?this._getInputSettings():new Promise((function(p,y){f.sendMessageToCallMachine({action:"update-input-settings",inputSettings:o},(function(w){w.error?y(w.error):p({inputSettings:f._prepInputSettingsToPresentToUser(w.inputSettings)})}))})):this._getInputSettings()):(console.error(My()),Promise.reject(My()))})),function(o){return st.apply(this,arguments)})},{key:"setBandwidth",value:function(o){var f=o.kbs,p=o.trackConstraints;if(Je(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:f,trackConstraints:p}),this}},{key:"getDailyLang",value:function(){var o=this;if(Je(),this._callMachineInitialized)return new Promise((function(f){o.sendMessageToCallMachine({action:"get-daily-lang"},(function(p){delete p.action,delete p.callbackStamp,f(p)}))}))}},{key:"setDailyLang",value:function(o){return Je(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:o}),this}},{key:"setProxyUrl",value:function(o){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:o}),this}},{key:"setIceConfig",value:function(o){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:o}),this}},{key:"meetingSessionSummary",value:function(){return[li,ui].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(He=Pe((function*(){var o=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Ot(this._callState,"getMeetingSession()"),new Promise((function(f){o.sendMessageToCallMachine({action:"get-meeting-session"},(function(p){delete p.action,delete p.callbackStamp,delete p.callFrameId,f(p)}))}))})),function(){return He.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Ot(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Fr(this._callObjectMode,"setMeetingSessionData()"),Ot(this._callState,"setMeetingSessionData");try{(function(p,y){new oF({data:p,mergeStrategy:y})})(o,f)}catch(p){throw console.error(p),p}try{this.sendMessageToCallMachine({action:"set-session-data",data:o,mergeStrategy:f})}catch(p){throw new Error("Error setting meeting session data: ".concat(p))}}},{key:"setUserName",value:function(o,f){var p=this;return this.properties.userName=o,new Promise((function(y){p.sendMessageToCallMachine({action:"set-user-name",name:o??"",thisMeetingOnly:at()||!!f&&!!f.thisMeetingOnly},(function(w){delete w.action,delete w.callbackStamp,y(w)}))}))}},{key:"setUserData",value:(Be=Pe((function*(o){var f=this;try{mO(o)}catch(p){throw console.error(p),p}if(this.properties.userData=o,this._callMachineInitialized)return new Promise((function(p){try{f.sendMessageToCallMachine({action:"set-user-data",userData:o},(function(y){delete y.action,delete y.callbackStamp,delete y.callFrameId,p(y)}))}catch(y){throw new Error("Error setting user data: ".concat(y))}}))})),function(o){return Be.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(o){if(o&&(o<100||typeof o!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(o){var f=this;if(typeof AudioWorkletNode>"u"&&!at())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(o),this._callMachineInitialized)return new Promise((function(p,y){f.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:o},(function(w){w.error?y({error:w.error}):p()}))}));this._preloadCache.localAudioLevelObserver={enabled:!0,interval:o}}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(o){var f=this;if(this.validateAudioLevelInterval(o),this._callMachineInitialized)return new Promise((function(p,y){f.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:o},(function(w){w.error?y({error:w.error}):p()}))}));this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:o}}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(le=Pe((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Fr(this._callObjectMode,"startCamera()"),hE(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),ja(this._testCallInProgress,"startCamera()"),this.needsLoad())try{yield this.load(f)}catch(p){return Promise.reject(p)}else{if(this._didPreAuth){if(f.url&&f.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(f.token&&f.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(f),this.properties=Ne(Ne({},this.properties),f)}return new Promise((function(p){o.sendMessageToCallMachine({action:"start-camera",properties:Qs(o.properties,o._callFrameId),preloadCache:Qs(o._preloadCache,o._callFrameId)},(function(y){delete y.action,delete y.callbackStamp,p(y)}))}))})),function(){return le.apply(this,arguments)})},{key:"validateCustomTrack",value:function(o,f,p){if(p&&p.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(f&&f!=="music"&&f!=="speech"&&!(f instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(p&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(p))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(o instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName};return Je(),Ot(this._callState,"startCustomTrack()"),this.validateCustomTrack(f.track,f.mode,f.trackName),new Promise((function(p,y){o._sharedTracks.customTrack=f.track,f.track=Nc,o.sendMessageToCallMachine({action:"start-custom-track",properties:f},(function(w){w.error?y({error:w.error}):p(w.mediaTag)}))}))}},{key:"stopCustomTrack",value:function(o){var f=this;return Je(),Ot(this._callState,"stopCustomTrack()"),new Promise((function(p){f.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:o},(function(y){p(y.mediaTag)}))}))}},{key:"setCamera",value:function(o){var f=this;return Mc(),sm(this._callMachineInitialized,"setCamera()"),new Promise((function(p){f.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:o},(function(y){p({device:y.device})}))}))}},{key:"setAudioDevice",value:(ce=Pe((function*(o){return Mc(),this.nativeUtils().setAudioDevice(o),{deviceId:yield this.nativeUtils().getAudioDevice()}})),function(o){return ce.apply(this,arguments)})},{key:"cycleCamera",value:function(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((function(p){o.sendMessageToCallMachine({action:"cycle-camera",properties:f},(function(y){p({device:y.device})}))}))}},{key:"cycleMic",value:function(){var o=this;return Je(),new Promise((function(f){o.sendMessageToCallMachine({action:"cycle-mic"},(function(p){f({device:p.device})}))}))}},{key:"getCameraFacingMode",value:function(){var o=this;return Mc(),new Promise((function(f){o.sendMessageToCallMachine({action:"get-camera-facing-mode"},(function(p){f(p.facingMode)}))}))}},{key:"setInputDevicesAsync",value:(oe=Pe((function*(o){var f=this,p=o.audioDeviceId,y=o.videoDeviceId,w=o.audioSource,T=o.videoSource;return Je(),w!==void 0&&(p=w),T!==void 0&&(y=T),p&&(this._preloadCache.audioDeviceId=p,this._sharedTracks.audioDeviceId=p),y&&(this._preloadCache.videoDeviceId=y,this._sharedTracks.videoDeviceId=y),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:(p instanceof MediaStreamTrack&&(p=Nc),y instanceof MediaStreamTrack&&(y=Nc),new Promise((function(I){f.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:p,videoDeviceId:y},(function(L){delete L.action,delete L.callbackStamp,L.returnPreloadCache?I({camera:{deviceId:f._preloadCache.videoDeviceId},mic:{deviceId:f._preloadCache.audioDeviceId},speaker:{deviceId:f._preloadCache.outputDeviceId}}):I(L)}))})))})),function(o){return oe.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(X=Pe((function*(o){var f=this,p=o.outputDeviceId;return Je(),p&&(this._preloadCache.outputDeviceId=p),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise((function(y){f.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:p},(function(w){delete w.action,delete w.callbackStamp,w.returnPreloadCache?y({camera:{deviceId:f._preloadCache.videoDeviceId},mic:{deviceId:f._preloadCache.audioDeviceId},speaker:{deviceId:f._preloadCache.outputDeviceId}}):y(w)}))}))})),function(o){return X.apply(this,arguments)})},{key:"getInputDevices",value:(G=Pe((function*(){var o=this;return this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise((function(f){o.sendMessageToCallMachine({action:"get-input-devices"},(function(p){delete p.action,delete p.callbackStamp,p.returnPreloadCache?f({camera:{deviceId:o._preloadCache.videoDeviceId},mic:{deviceId:o._preloadCache.audioDeviceId},speaker:{deviceId:o._preloadCache.outputDeviceId}}):f(p)}))}))})),function(){return G.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Mc(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(o){if(Mc(),[oE,AF].includes(o)){if(o!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=o,!this.disableReactNativeAutoDeviceManagement("audio")&&Ld(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",o)}},{key:"preAuth",value:(U=Pe((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Fr(this._callObjectMode,"preAuth()"),hE(this._callState,this._isPreparingToJoin,"preAuth()"),ja(this._testCallInProgress,"preAuth()"),this.needsLoad()&&(yield this.load(f)),!f.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(f),this.properties=Ne(Ne({},this.properties),f),new Promise((function(p,y){o.sendMessageToCallMachine({action:"daily-method-preauth",properties:Qs(o.properties,o._callFrameId),preloadCache:Qs(o._preloadCache,o._callFrameId)},(function(w){return w.error?y(w.error):w.access?(o._didPreAuth=!0,void p({access:w.access})):y(new Error("unknown error in preAuth()"))}))}))})),function(){return U.apply(this,arguments)})},{key:"load",value:(R=Pe((function*(o){var f=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(o&&(this.validateProperties(o),this.properties=Ne(Ne({},this.properties),o)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");this._updateCallState(B0);try{this.emit(my,{action:my})}catch(p){console.log("could not emit 'loading'",p)}return this._callObjectMode?new Promise((function(p,y){f._callObjectLoader.cancel();var w=Date.now();f._callObjectLoader.load(f.properties.dailyConfig,(function(T){f._bundleLoadTime=T?"no-op":Date.now()-w,f._updateCallState(U0),T&&f.emit(Md,{action:Md}),p()}),(function(T,I){if(f.emit(gy,{action:gy,error:T}),!I){f._updateCallState(ui),f.resetMeetingDependentVars();var L={action:jd,errorMsg:T.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:T,bundleUrl:Vd(f.properties.dailyConfig)}}};f._maybeSendToSentry(L),f.emit(jd,L),y(T.msg)}}))})):(this._iframe.src=FA(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise((function(p,y){f._loadedCallback=function(w){f._callState!==ui?(f._updateCallState(U0),(f.properties.cssFile||f.properties.cssText)&&f.loadCss(f.properties),p()):y(w)}})))}})),function(o){return R.apply(this,arguments)})},{key:"join",value:(D=Pe((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ja(this._testCallInProgress,"join()");var p=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(f)}catch(y){return this.updateIsPreparingToJoin(!1),Promise.reject(y)}}else{if(p=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(f.url&&f.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(f.token&&f.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(f.url&&!this._callObjectMode&&f.url&&f.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(f.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(f),this.properties=Ne(Ne({},this.properties),f)}if(f.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!f.showLocalVideo),f.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!f.showParticipantsBar),this._callState===Qa||this._callState===Qd)return console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1);this._updateCallState(Qd,!1);try{this.emit(vy,{action:vy})}catch(y){console.log("could not emit 'joining-meeting'",y)}return this._preloadCache.inputSettings||(this._preloadCache.inputSettings={}),f.inputSettings&&f.inputSettings.audio&&(this._preloadCache.inputSettings.audio=f.inputSettings.audio),f.inputSettings&&f.inputSettings.video&&(this._preloadCache.inputSettings.video=f.inputSettings.video),this.sendMessageToCallMachine({action:"join-meeting",properties:Qs(this.properties,this._callFrameId),preloadCache:Qs(this._preloadCache,this._callFrameId)}),new Promise((function(y,w){o._joinedCallback=function(T,I){if(o._callState!==ui){if(o._updateCallState(Qa),T)for(var L in T){if(o._callObjectMode){var W=o._callMachine().store;Z0(T[L],W),eE(T[L],W),tE(T[L],o._participants[L],W)}o._participants[L]=Ne({},T[L]),o.toggleParticipantAudioBasedOnNativeAudioFocus()}p&&o.loadCss(o.properties),y(T)}else w(I)}}))})),function(){return D.apply(this,arguments)})},{key:"leave",value:($=Pe((function*(){var o=this;return ja(this._testCallInProgress,"leave()"),new Promise((function(f){if(o._callState===li||o._callState===ui)f();else if(o._callObjectLoader&&!o._callObjectLoader.loaded){o._callObjectLoader.cancel(),o._updateCallState(li),o.resetMeetingDependentVars();try{o.emit(li,{action:li})}catch(p){console.log("could not emit 'left-meeting'",p)}f()}else o._resolveLeave=f,o.sendMessageToCallMachine({action:"leave-meeting"})}))})),function(){return $.apply(this,arguments)})},{key:"startScreenShare",value:(j=Pe((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(sm(this._callMachineInitialized,"startScreenShare()"),f.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",f.screenVideoSendSettings),f.mediaStream&&(this._sharedTracks.screenMediaStream=f.mediaStream,f.mediaStream=Nc),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var p=this.nativeUtils();if(yield p.isScreenBeingCaptured())return void this.emit(Od,{action:Od,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});p.setSystemScreenCaptureStartCallback((function(){p.setSystemScreenCaptureStartCallback(null),o.sendMessageToCallMachine({action:V0,captureOptions:f})})),p.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:V0,captureOptions:f})})),function(){return j.apply(this,arguments)})},{key:"stopScreenShare",value:function(){sm(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ne({action:"local-recording-start"},o))}},{key:"updateRecording",value:function(o){var f=o.layout,p=f===void 0?{preset:"default"}:f,y=o.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:p,instanceId:y})}},{key:"stopRecording",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ne({action:"local-recording-stop"},o))}},{key:"startLiveStreaming",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ne({action:"daily-method-start-live-streaming"},o))}},{key:"updateLiveStreaming",value:function(o){var f=o.layout,p=f===void 0?{preset:"default"}:f,y=o.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:p,instanceId:y})}},{key:"addLiveStreamingEndpoints",value:function(o){var f=o.endpoints,p=o.instanceId;this.sendMessageToCallMachine({action:z0,endpointsOp:X$,endpoints:f,instanceId:p})}},{key:"removeLiveStreamingEndpoints",value:function(o){var f=o.endpoints,p=o.instanceId;this.sendMessageToCallMachine({action:z0,endpointsOp:Z$,endpoints:f,instanceId:p})}},{key:"stopLiveStreaming",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ne({action:"daily-method-stop-live-streaming"},o))}},{key:"validateDailyConfig",value:function(o){o.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(o.camSimulcastEncodings)),o.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),Tr().match(/Linux; Android/)&&o.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o){if(!(o instanceof Array))throw new Error("encodings must be an Array");if(!pE(o.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var y=0;y<o.length;y++){var w=o[y];for(var T in this._validateEncodingLayerHasValidProperties(w),w)if(am.includes(T)){if(typeof w[T]!="number")throw new Error("".concat(T," must be a number"));if(f){var I=f[T],L=I.min,W=I.max;if(!pE(w[T],L,W))throw new Error("".concat(T," value not in range. valid range: ").concat(L," to ").concat(W))}}else if(!["active","scalabilityMode"].includes(T))throw new Error("Invalid key ".concat(T,", valid keys are:")+Object.values(am));if(p&&!w.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(O=Pe((function*(o){var f=this,p=o.url,y=o.settings,w=y===void 0?{state:by.PLAY}:y;try{(function(T){if(typeof T!="string")throw new Error('url parameter must be "string" type')})(p),fE(w),(function(T){for(var I in T)if(!uE.includes(I))throw new Error("Invalid key ".concat(I,", valid keys are: ").concat(uE));T.simulcastEncodings&&this.validateSimulcastEncodings(T.simulcastEncodings,pO,!0)})(w)}catch(T){throw console.error("invalid argument Error: ".concat(T)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),T}return new Promise((function(T,I){f.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:p,settings:w},(function(L){L.error?I({error:L.error,errorMsg:L.errorMsg}):T({session_id:L.session_id,remoteMediaPlayerState:{state:L.state,settings:L.settings}})}))}))})),function(o){return O.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(x=Pe((function*(o){var f=this;if(typeof o!="string")throw new Error(" remotePlayerID must be of type string");return new Promise((function(p,y){f.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:o},(function(w){w.error?y({error:w.error,errorMsg:w.errorMsg}):p()}))}))})),function(o){return x.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(S=Pe((function*(o){var f=this,p=o.session_id,y=o.settings;try{fE(y)}catch(w){throw console.error("invalid argument Error: ".concat(w)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),w}return new Promise((function(w,T){f.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:p,settings:y},(function(I){I.error?T({error:I.error,errorMsg:I.errorMsg}):w({session_id:I.session_id,remoteMediaPlayerState:{state:I.state,settings:I.settings}})}))}))})),function(o){return S.apply(this,arguments)})},{key:"startTranscription",value:function(o){this.sendMessageToCallMachine(Ne({action:"daily-method-start-transcription"},o))}},{key:"stopTranscription",value:function(){this.sendMessageToCallMachine({action:"daily-method-stop-transcription"})}},{key:"startDialOut",value:(C=Pe((function*(o){var f=this;Ot(this._callState,"startDialOut()");var p=function(y){if(y){if(!Array.isArray(y))throw new Error("Error starting dial out: audio codec must be an array");if(y.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");y.forEach((function(w){if(typeof w!="string")throw new Error("Error starting dial out: audio codec must be a string");if(w!=="OPUS"&&w!=="PCMU"&&w!=="PCMA"&&w!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")}))}};if(!o.sipUri&&!o.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(o.sipUri&&o.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(o.sipUri){if(typeof o.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!o.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(o.video&&typeof o.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(y){if(y&&(p(y.audio),y.video)){if(!Array.isArray(y.video))throw new Error("Error starting dial out: video codec must be an array");if(y.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");y.video.forEach((function(w){if(typeof w!="string")throw new Error("Error starting dial out: video codec must be a string");if(w!=="H264"&&w!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")}))}})(o.codecs)}if(o.phoneNumber){if(typeof o.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(o.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");o.codecs&&p(o.codecs.audio)}if(o.callerId){if(typeof o.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(o.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(o.displayName){if(typeof o.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(o.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}return new Promise((function(y,w){f.sendMessageToCallMachine(Ne({action:"dialout-start"},o),(function(T){T.error?w(T.error):y(T)}))}))})),function(o){return C.apply(this,arguments)})},{key:"stopDialOut",value:function(o){var f=this;return Ot(this._callState,"stopDialOut()"),new Promise((function(p,y){f.sendMessageToCallMachine(Ne({action:"dialout-stop"},o),(function(w){w.error?y(w.error):p(w)}))}))}},{key:"sendDTMF",value:(P=Pe((function*(o){var f=this;return Ot(this._callState,"sendDTMF()"),(function(p){var y=p.sessionId,w=p.tones;if(!y||!w)throw new Error("sessionId and tones are mandatory parameter");if(typeof y!="string"||typeof w!="string")throw new Error("sessionId and tones should be of string type");if(w.length>20)throw new Error("tones string must be upto 20 characters");var T=/[^0-9A-D*#]/g,I=w.match(T);if(I&&I[0])throw new Error("".concat(I[0]," is not valid DTMF tone"))})(o),new Promise((function(p,y){f.sendMessageToCallMachine(Ne({action:"send-dtmf"},o),(function(w){w.error?y(w.error):p(w)}))}))})),function(o){return P.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var o=this;return this._callState!==Qa?{stats:{latest:{}}}:new Promise((function(f){o.sendMessageToCallMachine({action:"get-calc-stats"},(function(p){f(Ne({stats:p.stats},o._network))}))}))}},{key:"testWebsocketConnectivity",value:(E=Pe((function*(){var o=this;if(ja(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(f){return Promise.reject(f)}return new Promise((function(f,p){o.sendMessageToCallMachine({action:"test-websocket-connectivity"},(function(y){y.error?p(y.error):f(y.results)}))}))})),function(){return E.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(o){return o?o instanceof MediaStreamTrack?!!EF(o)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(_=Pe((function*(o){var f=this;if((function(L){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",Z=arguments.length>2?arguments[2]:void 0;if(L){var ae="".concat(W," can not be called after preAuth(), startCamera(), or join() and call state has been initialized.");throw Z&&(ae+=" ".concat(Z)),console.error(ae),new Error(ae)}})(this._callMachineInitialized,"testCallQuality()"),o.videoTrack&&!this._validateVideoTrackForNetworkTests(o.videoTrack))throw new Error("Video track error");var p=this._testCallAlreadyInProgress,y=function(L){p||(f._testCallInProgress=L)};y(!0);var w=o.videoTrack,T=Yp(o,CF);if(this._sharedTracks.videoTrackForConnectionQualityTest=w,this.needsLoad())try{var I=this._callState;yield this.load(),this._callState=I}catch(L){return y(!1),Promise.reject(L)}return new Promise((function(L){f.sendMessageToCallMachine(Ne(Ne({action:"test-call-quality"},T),{},{dailyJsVersion:f.properties.dailyJsVersion}),(function(W){var Z=W.results,ae=Z.result,Le=Yp(Z,TF);if(ae==="failed"){var we,Re=Ne({},Le);(we=Le.error)!==null&&we!==void 0&&we.details?(Le.error.details=JSON.parse(Le.error.details),Re.error=Ne(Ne({},Re.error),{},{details:Ne({},Re.error.details)}),Re.error.details.duringTest="testCallQuality"):(Re.error=Re.error?Ne({},Re.error):{},Re.error.details={duringTest:"testCallQuality"}),f._maybeSendToSentry(Re)}y(!1),L(Ne({result:ae},Le))}))}))})),function(o){return _.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(v=Pe((function*(o){console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead");var f=yield this.testPeerToPeerCallQuality(o),p={result:f.result,secondsElapsed:f.secondsElapsed};return f.data&&(p.data={maxRTT:f.data.maxRoundTripTime,packetLoss:f.data.avgRecvPacketLoss}),p})),function(o){return v.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(m=Pe((function*(o){var f=this;if(ja(this._testCallInProgress,"testConnectionQuality()"),this.needsLoad())try{yield this.load()}catch(w){return Promise.reject(w)}var p=o.videoTrack,y=o.duration;if(!this._validateVideoTrackForNetworkTests(p))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=p,new Promise((function(w,T){f.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:y},(function(I){I.error?T(I.error):w(I.results)}))}))})),function(o){return m.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){console.warn("stopTestConnectionQuality() is deprecated: use stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(d=Pe((function*(o){var f=this;if(ja(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(p){return Promise.reject(p)}if(!this._validateVideoTrackForNetworkTests(o))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=o,new Promise((function(p,y){f.sendMessageToCallMachine({action:"test-network-connectivity"},(function(w){w.error?y(w.error):p(w.results)}))}))})),function(o){return d.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var o=this;return new Promise((function(f,p){o._callState===Qa?o.sendMessageToCallMachine({action:"get-cpu-load-stats"},(function(y){f(y.cpuStats)})):f({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})}))}},{key:"_validateEncodingLayerHasValidProperties",value:function(o){var f;if(!(((f=Object.keys(o))===null||f===void 0?void 0:f.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(am))}},{key:"_validateVideoSendSettings",value:function(o,f){var p=o==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],y="Video send settings should be either an object or one of the supported presets: ".concat(p.join());if(typeof f=="string"){if(!p.includes(f))throw new Error(y)}else{if(_t(f)!=="object")throw new Error(y);if(!f.maxQuality&&!f.encodings&&f.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(f.maxQuality&&["low","medium","high"].indexOf(f.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(f.encodings){var w=!1;switch(Object.keys(f.encodings).length){case 1:w=!f.encodings.low;break;case 2:w=!f.encodings.low||!f.encodings.medium;break;case 3:w=!f.encodings.low||!f.encodings.medium||!f.encodings.high;break;default:w=!0}if(w)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");f.encodings.low&&this._validateEncodingLayerHasValidProperties(f.encodings.low),f.encodings.medium&&this._validateEncodingLayerHasValidProperties(f.encodings.medium),f.encodings.high&&this._validateEncodingLayerHasValidProperties(f.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(o){var f=this;if(!o||Object.keys(o).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(o).forEach((function(p){var y=ss(p,2),w=y[0],T=y[1];f._validateVideoSendSettings(w,T)}))}},{key:"updateSendSettings",value:function(o){var f=this;return this.validateUpdateSendSettings(o),this.needsLoad()?(this._preloadCache.sendSettings=o,{sendSettings:this._preloadCache.sendSettings}):new Promise((function(p,y){f.sendMessageToCallMachine({action:"update-send-settings",sendSettings:o},(function(w){w.error?y(w.error):p(w.sendSettings)}))}))}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Je(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(o){return Je(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:o}),this}},{key:"activeSpeakerMode",value:function(){return Je(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(o){return Ot(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=o,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:o}),this}},{key:"enumerateDevices",value:(u=Pe((function*(){var o=this;if(this._callObjectMode){var f=yield navigator.mediaDevices.enumerateDevices();return us()==="Firefox"&&ky().major>115&&ky().major<123&&(f=f.filter((function(p){return p.kind!=="audiooutput"}))),{devices:f.map((function(p){var y=JSON.parse(JSON.stringify(p));if(!at()&&p.kind==="videoinput"&&p.getCapabilities){var w,T=p.getCapabilities();y.facing=(T==null||(w=T.facingMode)===null||w===void 0?void 0:w.length)>=1?T.facingMode[0]:void 0}return y}))}}return new Promise((function(p){o.sendMessageToCallMachine({action:"enumerate-devices"},(function(y){p({devices:y.devices})}))}))})),function(){return u.apply(this,arguments)})},{key:"sendAppMessage",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Ot(this._callState,"sendAppMessage()"),JSON.stringify(o).length>4096)throw new Error("Message data too large. Max size is 4096");return this.sendMessageToCallMachine({action:"app-msg",data:o,to:f}),this}},{key:"addFakeParticipant",value:function(o){return Je(),Ot(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Ne({action:"add-fake-participant"},o)),this}},{key:"setShowNamesMode",value:function(o){return jn(this._callObjectMode,"setShowNamesMode()"),Je(),o&&o!=="always"&&o!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:o}),this)}},{key:"setShowLocalVideo",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return jn(this._callObjectMode,"setShowLocalVideo()"),Je(),Ot(this._callState,"setShowLocalVideo()"),typeof o!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:o}),this._showLocalVideo=o,this)}},{key:"showLocalVideo",value:function(){return jn(this._callObjectMode,"showLocalVideo()"),Je(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return jn(this._callObjectMode,"setShowParticipantsBar()"),Je(),Ot(this._callState,"setShowParticipantsBar()"),typeof o!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:o}),this._showParticipantsBar=o,this)}},{key:"showParticipantsBar",value:function(){return jn(this._callObjectMode,"showParticipantsBar()"),Je(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Je(),jn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(o){return Je(),jn(this._callObjectMode,"setCustomIntegrations()"),Ot(this._callState,"setCustomIntegrations()"),kO(o)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:o}),this._customIntegrations=o,this):this}},{key:"startCustomIntegrations",value:function(o){var f=this;if(Je(),jn(this._callObjectMode,"startCustomIntegrations()"),Ot(this._callState,"startCustomIntegrations()"),Array.isArray(o)&&o.some((function(w){return typeof w!="string"}))||!Array.isArray(o)&&typeof o!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var p=typeof o=="string"?[o]:o,y=p.filter((function(w){return!(w in f._customIntegrations)}));return y.length?(console.error(`Can't find custom integration(s): "`.concat(y.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:p}),this)}},{key:"stopCustomIntegrations",value:function(o){var f=this;if(Je(),jn(this._callObjectMode,"stopCustomIntegrations()"),Ot(this._callState,"stopCustomIntegrations()"),Array.isArray(o)&&o.some((function(w){return typeof w!="string"}))||!Array.isArray(o)&&typeof o!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var p=typeof o=="string"?[o]:o,y=p.filter((function(w){return!(w in f._customIntegrations)}));return y.length?(console.error(`Can't find custom integration(s): "`.concat(y.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:p}),this)}},{key:"customTrayButtons",value:function(){return jn(this._callObjectMode,"customTrayButtons()"),Je(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(o){return jn(this._callObjectMode,"updateCustomTrayButtons()"),Je(),Ot(this._callState,"updateCustomTrayButtons()"),wO(o)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:o}),this._customTrayButtons=o,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Xd))),this)}},{key:"theme",value:function(){return jn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(o){var f=this;return jn(this._callObjectMode,"setTheme()"),new Promise((function(p,y){try{f.validateProperties({theme:o}),f.properties.theme=Ne({},o),f.sendMessageToCallMachine({action:"set-theme",theme:f.properties.theme});try{f.emit(py,{action:py,theme:f.properties.theme})}catch(w){console.log("could not emit 'theme-updated'",w)}p(f.properties.theme)}catch(w){y(w)}}))}},{key:"requestFullscreen",value:(l=Pe((function*(){if(Je(),this._iframe&&!document.fullscreenElement&&J0())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(o){console.log("could not make video call fullscreen",o)}})),function(){return l.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Je(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(s=Pe((function*(){var o=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise((function(f){o.sendMessageToCallMachine({action:"get-sidebar-view"},(function(p){f(p.view)}))}))})),function(){return s.apply(this,arguments)})},{key:"setSidebarView",value:function(o){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:o}),this)}},{key:"room",value:(i=Pe((function*(){var o=this,f=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,p=f===void 0||f;return this._accessState.access===xd||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise((function(y){o.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:p},(function(w){delete w.action,delete w.callbackStamp,y(w)}))}))})),function(){return i.apply(this,arguments)})},{key:"geo",value:(r=Pe((function*(){try{var o=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield o.json()).geo}}catch(f){return console.error("geo lookup failed",f),{current:""}}})),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=Pe((function*(o){var f=this;return Je(),Ot(this._callState,"setNetworkTopology()"),new Promise((function(p,y){f.sendMessageToCallMachine({action:"set-network-topology",opts:o},(function(w){w.error?y({error:w.error}):p({workerId:w.workerId})}))}))})),function(o){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=Pe((function*(){var o=this;return new Promise((function(f,p){o.needsLoad()&&f({topology:"none"}),o.sendMessageToCallMachine({action:"get-network-topology"},(function(y){y.error?p({error:y.error}):f({topology:y.topology})}))}))})),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(o){if(Je(),typeof o!="number"&&o!==!0&&o!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(o));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:o})}},{key:"on",value:function(o,f){return gi.prototype.on.call(this,o,f)}},{key:"once",value:function(o,f){return gi.prototype.once.call(this,o,f)}},{key:"off",value:function(o,f){return gi.prototype.off.call(this,o,f)}},{key:"validateProperties",value:function(o){for(var f in o){if(!Oa[f])throw new Error("unrecognized property '".concat(f,"'"));if(Oa[f].validate&&!Oa[f].validate(o[f],this))throw new Error("property '".concat(f,"': ").concat(Oa[f].help))}}},{key:"assembleMeetingUrl",value:function(){var o,f,p=Ne(Ne({},this.properties),{},{emb:this._callFrameId,embHref:encodeURIComponent(window.location.href),proxy:(o=this.properties.dailyConfig)!==null&&o!==void 0&&o.proxyUrl?encodeURIComponent((f=this.properties.dailyConfig)===null||f===void 0?void 0:f.proxyUrl):void 0}),y=p.url.match(/\?/)?"&":"?";return p.url+y+Object.keys(Oa).filter((function(w){return Oa[w].queryString&&p[w]!==void 0})).map((function(w){return"".concat(Oa[w].queryString,"=").concat(p[w])})).join("&")}},{key:"needsLoad",value:function(){return[fy,B0,li,ui].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(o,f){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(o,f,this._iframe,this._callFrameId)}},{key:"forwardPackagedMessageToCallMachine",value:function(o){this._messageChannel.forwardPackagedMessageToCallMachine(o,this._iframe,this._callFrameId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(o){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(o,this._callFrameId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(o){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(o)}},{key:"handleMessageFromCallMachine",value:function(o){switch(o.action){case vP:this.sendMessageToCallMachine(Ne({action:yP},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var f={action:xc,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Vd(this.properties.dailyConfig)}};this.sendMessageToCallMachine(f),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case Md:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null);try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}break;case wP:this._joinedCallback&&(this._joinedCallback(o.participants),this._joinedCallback=null);try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}break;case SP:case EP:if(this._callState===li)return;if(o.participant&&o.participant.session_id){var p=o.participant.local?"local":o.participant.session_id;if(this._callObjectMode){var y=this._callMachine().store;Z0(o.participant,y),eE(o.participant,y),tE(o.participant,this._participants[p],y)}try{this.maybeParticipantTracksStopped(this._participants[p],o.participant),this.maybeParticipantTracksStarted(this._participants[p],o.participant),this.maybeEventRecordingStopped(this._participants[p],o.participant),this.maybeEventRecordingStarted(this._participants[p],o.participant)}catch(pe){console.error("track events error",pe)}if(!this.compareEqualForParticipantUpdateEvent(o.participant,this._participants[p])){this._participants[p]=Ne({},o.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus();try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}}}break;case CP:if(o.participant&&o.participant.session_id){var w=this._participants[o.participant.session_id];w&&this.maybeParticipantTracksStopped(w,null),delete this._participants[o.participant.session_id];try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}}break;case TP:if(!Cn(this._participantCounts,o.participantCounts)){this._participantCounts=o.participantCounts;try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}}break;case xP:var T={access:o.access};if(o.awaitingAccess&&(T.awaitingAccess=o.awaitingAccess),!Cn(this._accessState,T)){this._accessState=T;try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}}break;case MP:if(o.meetingSession){this._meetingSessionSummary=o.meetingSession;try{delete o.callFrameId,this.emit(o.action,o);var I=Ne(Ne({},o),{},{action:"meeting-session-updated"});this.emit(I.action,I)}catch(pe){console.log("could not emit",o,pe)}}break;case jd:var L;this._iframe&&!o.preserveIframe&&(this._iframe.src=""),this._updateCallState(ui),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(o.errorMsg),this._loadedCallback=null),o.preserveIframe;var W=Yp(o,xF);W!=null&&(L=W.error)!==null&&L!==void 0&&L.details&&(W.error.details=JSON.parse(W.error.details)),this._maybeSendToSentry(o),this._joinedCallback&&(this._joinedCallback(null,W),this._joinedCallback=null);try{this.emit(o.action,W)}catch(pe){console.log("could not emit",o,pe)}break;case kP:this._callState!==ui&&this._updateCallState(li),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null);try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}break;case"selected-devices-updated":if(o.devices)try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}break;case QP:var Z=o.threshold,ae=o.quality;if(Z!==this._network.threshold||ae!==this._network.quality){this._network.quality=ae,this._network.threshold=Z;try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}}break;case XP:if(o&&o.cpuLoadState)try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}break;case ZP:if(o&&o.faceCounts!==void 0)try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}break;case GP:var Le=o.activeSpeaker;if(this._activeSpeaker.peerId!==Le.peerId){this._activeSpeaker.peerId=Le.peerId;try{this.emit(o.action,{action:o.action,activeSpeaker:this._activeSpeaker})}catch(pe){console.log("could not emit",o,pe)}}break;case"show-local-video-changed":if(this._callObjectMode)return;var we=o.show;this._showLocalVideo=we;try{this.emit(o.action,{action:o.action,show:we})}catch(pe){console.log("could not emit",o,pe)}break;case YP:var Re=o.enabled;if(this._activeSpeakerMode!==Re){this._activeSpeakerMode=Re;try{this.emit(o.action,{action:o.action,enabled:this._activeSpeakerMode})}catch(pe){console.log("could not emit",o,pe)}}break;case PP:case OP:case jP:this._waitingParticipants=o.allWaitingParticipants;try{this.emit(o.action,{action:o.action,participant:o.participant})}catch(pe){console.log("could not emit",o,pe)}break;case aO:if(!Cn(this._receiveSettings,o.receiveSettings)){this._receiveSettings=o.receiveSettings;try{this.emit(o.action,{action:o.action,receiveSettings:o.receiveSettings})}catch(pe){console.log("could not emit",o,pe)}}break;case sO:if(!Cn(this._inputSettings,o.inputSettings)){var fe=this._getInputSettings();if(this._inputSettings=o.inputSettings,this._preloadCache.inputSettings={},!Cn(fe,this._getInputSettings()))try{this.emit(o.action,{action:o.action,inputSettings:this._getInputSettings()})}catch(pe){console.log("could not emit",o,pe)}}break;case"send-settings-updated":if(!Cn(this._sendSettings,o.sendSettings)){this._sendSettings=o.sendSettings,this._preloadCache.sendSettings=null;try{this.emit(o.action,{action:o.action,sendSettings:o.sendSettings})}catch(pe){console.log("could not emit",o,pe)}}break;case"local-audio-level":this._localAudioLevel=o.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(o);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=o.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(o);break;case qP:var Te=o.session_id;this._rmpPlayerState[Te]=o.playerState,this.emitDailyJSEvent(o);break;case VP:delete this._rmpPlayerState[o.session_id],this.emitDailyJSEvent(o);break;case WP:var Fe=o.session_id,ct=this._rmpPlayerState[Fe];ct&&this.compareEqualForRMPUpdateEvent(ct,o.remoteMediaPlayerState)||(this._rmpPlayerState[Fe]=o.remoteMediaPlayerState,this.emitDailyJSEvent(o));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(o);break;case AP:var pt=this._meetingSessionState.topology!==(o.meetingSessionState&&o.meetingSessionState.topology);this._meetingSessionState=om(o.meetingSessionState,this._callObjectMode),(this._callObjectMode||pt)&&this.emitDailyJSEvent(o);break;case zP:this._isScreenSharing=!0,this.emitDailyJSEvent(o);break;case HP:case JP:this._isScreenSharing=!1,this.emitDailyJSEvent(o);break;case Ad:case Pd:case DP:case RP:case $P:case IP:case LP:case NP:case _P:case bP:case BP:case UP:case KP:case FP:case eO:case tO:case nO:case rO:case Od:case iO:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-error":case"dialout-stopped":case"dialout-warning":try{this.emit(o.action,o)}catch(pe){console.log("could not emit",o,pe)}break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(o,f){var p="record";if(o&&!f.local&&f[p]===!1&&o[p]!==f[p])try{this.emit(Pd,{action:Pd})}catch(y){console.log("could not emit",y)}}},{key:"maybeEventRecordingStarted",value:function(o,f){var p="record";if(o&&!f.local&&f[p]===!0&&o[p]!==f[p])try{this.emit(Ad,{action:Ad})}catch(y){console.log("could not emit",y)}}},{key:"maybeEventTrackStopped",value:function(o,f,p,y){if(o&&(o.readyState==="ended"||!f||o.id!==f.id))try{this.emit(_y,{action:_y,track:o,participant:p,type:y})}catch(w){console.log("maybeEventTrackStopped: could not emit",w)}}},{key:"maybeEventTrackStarted",value:function(o,f,p,y){if(f&&(!o||o.readyState==="ended"||f.id!==o.id))try{this.emit(yy,{action:yy,track:f,participant:p,type:y})}catch(w){console.log("maybeEventTrackStarted: could not emit",w)}}},{key:"maybeParticipantTracksStopped",value:function(o,f){if(o)for(var p in o.tracks)this.maybeEventTrackStopped(o.tracks[p].track,f&&f.tracks[p]?f.tracks[p].track:null,f,p)}},{key:"maybeParticipantTracksStarted",value:function(o,f){if(f)for(var p in f.tracks)this.maybeEventTrackStarted(o&&o.tracks[p]?o.tracks[p].track:null,f.tracks[p].track,f,p)}},{key:"compareEqualForRMPUpdateEvent",value:function(o,f){var p,y;return o.state===f.state&&((p=o.settings)===null||p===void 0?void 0:p.volume)===((y=f.settings)===null||y===void 0?void 0:y.volume)}},{key:"emitDailyJSEvent",value:function(o){try{this.emit(o.action,o)}catch(f){console.log("could not emit",o,f)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(o,f){return!!Cn(o,f)&&(!o.videoTrack||!f.videoTrack||o.videoTrack.id===f.videoTrack.id&&o.videoTrack.muted===f.videoTrack.muted&&o.videoTrack.enabled===f.videoTrack.enabled)&&(!o.audioTrack||!f.audioTrack||o.audioTrack.id===f.audioTrack.id&&o.audioTrack.muted===f.audioTrack.muted&&o.audioTrack.enabled===f.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return at()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(o){this._updateCallState(this._callState,o)}},{key:"_updateCallState",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(o!==this._callState||f!==this._isPreparingToJoin){var p=this._callState,y=this._isPreparingToJoin;this._callState=o,this._isPreparingToJoin=f;var w=Ld(p,y),T=Ld(this._callState,this._isPreparingToJoin);w!==T&&(this.updateKeepDeviceAwake(T),this.updateDeviceAudioMode(T),this.updateShowAndroidOngoingMeetingNotification(T),this.updateNoOpRecordingEnsuringBackgroundContinuity(T))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=lE,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:xd},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=om(cE,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._remoteParticipantsAudioLevel={},this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(o){at()&&this.nativeUtils().setKeepDeviceAwake(o,this._callFrameId)}},{key:"updateDeviceAudioMode",value:function(o){if(at()&&!this.disableReactNativeAutoDeviceManagement("audio")){var f=o?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(f)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(o){if(at()&&this.nativeUtils().setShowOngoingMeetingNotification){var f,p,y,w;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var T=this.properties.reactNativeConfig.androidInCallNotification;f=T.title,p=T.subtitle,y=T.iconName,w=T.disableForCustomOverride}w&&(o=!1),this.nativeUtils().setShowOngoingMeetingNotification(o,f,p,y,this._callFrameId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(o){at()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(o)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var o,f;if(at()){var p=(o=this._callMachine())===null||o===void 0||(f=o.store)===null||f===void 0?void 0:f.getState();for(var y in p?.streams){var w=p.streams[y];w&&w.pendingTrack&&w.pendingTrack.kind==="audio"&&(w.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(o){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[o]}},{key:"absoluteUrl",value:function(o){if(o!==void 0){var f=document.createElement("a");return f.href=o,f.href}}},{key:"sayHello",value:function(){var o="hello, world.";return console.log(o),o}},{key:"_logCallQualityTestResults",value:function(o){if(this._callMachineInitialized){var f={action:xc,level:"info",code:1012,results:o};this.sendMessageToCallMachine(f)}else console.warn("_logCallQualityTestResults() must be called after daily initialization")}},{key:"_logUseAfterDestroy",value:function(){if(this.needsLoad())if($r&&!$r.needsLoad()){var o={action:xc,level:"error",code:this.strictMode?9995:9997};$r.sendMessageToCallMachine(o)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var f={action:xc,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(f,null,this._iframe,this._callFrameId)}}},{key:"_logDuplicateInstanceAttempt",value:function(){var o=$r._callMachineInitialized?$r:this._callMachineInitialized?this:void 0;o?(o.sendMessageToCallMachine({action:xc,level:"warn",code:this.strictMode?9990:9992}),this._delayDuplicateInstanceLog=!1):(this._delayDuplicateInstanceLog=!0,$r._delayDuplicateInstanceLog=!0)}},{key:"_maybeSendToSentry",value:function(o){var f,p,y,w,T,I;if(!((f=o.error)!==null&&f!==void 0&&f.type&&!["connection-error","end-of-life","no-room"].includes(o.error.type))){var L=(p=this.properties)!==null&&p!==void 0&&p.url?new URL(this.properties.url):void 0,W="production";L&&L.host.includes(".staging.daily")&&(W="staging");var Z,ae,Le,we,Re,fe=new g$({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:v$,integrations:[new F0.GlobalHandlers({onunhandledrejection:!1}),new F0.HttpContext],environment:W}),Te=new V_(fe,void 0,Y.version());if(this.session_id&&Te.setExtra("sessionId",this.session_id),this.properties){var Fe=Ne({},this.properties);Fe.userName=Fe.userName?"[Filtered]":void 0,Fe.userData=Fe.userData?"[Filtered]":void 0,Fe.token=Fe.token?"[Filtered]":void 0,Te.setExtra("properties",Fe)}if(L){var ct=L.searchParams.get("domain");if(!ct){var pt=L.host.match(/(.*?)\./);ct=pt&&pt[1]||""}ct&&Te.setTag("domain",ct)}o.error&&(Te.setTag("fatalErrorType",o.error.type),Te.setExtra("errorDetails",o.error.details),!((Z=o.error.details)===null||Z===void 0)&&Z.uri&&Te.setTag("serverAddress",o.error.details.uri),!((ae=o.error.details)===null||ae===void 0)&&ae.workerGroup&&Te.setTag("workerGroup",o.error.details.workerGroup),!((Le=o.error.details)===null||Le===void 0)&&Le.geoGroup&&Te.setTag("geoGroup",o.error.details.geoGroup),!((we=o.error.details)===null||we===void 0)&&we.on&&Te.setTag("connectionAttempt",o.error.details.on),(Re=o.error.details)!==null&&Re!==void 0&&Re.bundleUrl&&(Te.setTag("bundleUrl",o.error.details.bundleUrl),Te.setTag("bundleError",o.error.details.sourceError.type))),Te.setTags({callMode:this._callObjectMode?at()?"reactNative":(y=this.properties)!==null&&y!==void 0&&(w=y.dailyConfig)!==null&&w!==void 0&&(T=w.callMode)!==null&&T!==void 0&&T.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:Y.version()});var pe=((I=o.error)===null||I===void 0?void 0:I.msg)||o.errorMsg;Te.run((function(Ze){Ze.captureException(new Error(pe))}))}}},{key:"_callMachine",value:function(){var o,f,p;return(o=window._daily)===null||o===void 0||(f=o.instances)===null||f===void 0||(p=f[this._callFrameId])===null||p===void 0?void 0:p.callMachine}}],[{key:"supportedBrowser",value:function(){if(at())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var o=jR.getParser(Tr());return{supported:!!G0(),mobile:o.getPlatformType()==="mobile",name:o.getBrowserName(),version:o.getBrowserVersion(),supportsFullscreen:!!J0(),supportsScreenShare:!!eF(),supportsSfu:!!G0(),supportsVideoProcessing:lO(),supportsAudioProcessing:uO()}}},{key:"version",value:function(){return"0.66.0"}},{key:"createCallObject",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o.layout="none",new Y(null,o)}},{key:"wrap",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Je(),!o||!o.contentWindow||typeof o.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return f.layout||(f.customLayout?f.layout="custom-v1":f.layout="browser"),new Y(o,f)}},{key:"createFrame",value:function(o,f){var p,y;Je(),o&&f?(p=o,y=f):o&&o.append?(p=o,y={}):(p=document.body,y=o||{});var w=y.iframeStyle;w||(w=p===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var T=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?T.allow="microphone, camera":T.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",T.style.visibility="hidden",p.appendChild(T),T.style.visibility=null,Object.keys(w).forEach((function(I){return T.style[I]=w[I]})),y.layout||(y.customLayout?y.layout="custom-v1":y.layout="browser");try{return new Y(T,y)}catch(I){throw p.removeChild(T),I}}},{key:"createTransparentFrame",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Je();var f=document.createElement("iframe");return f.allow="microphone; camera; autoplay",f.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(f),o.layout||(o.layout="custom-v1"),Y.wrap(f,o)}},{key:"getCallInstance",value:function(){return $r}}]),Y})();function Qs(t,e){var n={};for(var r in t)if(t[r]instanceof MediaStreamTrack)n[r]=Nc;else if(r==="dailyConfig"){if(t[r].modifyLocalSdpHook){var i=window._daily.instances[e].customCallbacks||{};i.modifyLocalSdpHook=t[r].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=i,delete t[r].modifyLocalSdpHook}if(t[r].modifyRemoteSdpHook){var s=window._daily.instances[e].customCallbacks||{};s.modifyRemoteSdpHook=t[r].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=s,delete t[r].modifyRemoteSdpHook}n[r]=t[r]}else n[r]=t[r];return n}function Ot(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==Qa){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(n+=" ".concat(e)),console.error(n),new Error(n)}}function Ld(t,e){return[Qd,Qa].includes(t)||e}function hE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(Ld(t,e)){var i="".concat(n," not supported after joining a meeting.");throw r&&(i+=" ".concat(r)),console.error(i),new Error(i)}}function sm(t){var e=arguments.length>2?arguments[2]:void 0;if(!t){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," requires preAuth(), startCamera(), or join() to initialize call state.");throw e&&(n+=" ".concat(e)),console.error(n),new Error(n)}}function ja(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function Fr(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function jn(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function Je(){if(at())throw new Error("This daily-js method is not currently supported in React Native")}function Mc(){if(!at())throw new Error("This daily-js method is only supported in React Native")}function mO(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),Cn(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function gO(t,e){for(var n=e.allowAllParticipantsKey,r=function(_){var E=["local"];return n||E.push("*"),_&&!E.includes(_)},i=function(_){return!!(_.layer===void 0||Number.isInteger(_.layer)&&_.layer>=0||_.layer==="inherit")},s=function(_){return!!_&&!(_.video&&!i(_.video))&&!(_.screenVideo&&!i(_.screenVideo))},l=0,u=Object.entries(t);l<u.length;l++){var d=ss(u[l],2),m=d[0],v=d[1];if(!r(m)||!s(v))return!1}return!0}function vO(t){return _t(t)==="object"&&!(t.video&&(_t(t.video)!=="object"||!(function(i){var s=["type","config"];return!i||_t(i)!=="object"||!(function(l){return typeof l!="string"?!1:Object.values(Id).includes(l)?!0:(console.error("inputSettings video processor type invalid"),!1)})(i.type)||i.config&&(_t(i.config)!=="object"||!(function(l,u){var d=Object.keys(u);if(d.length===0)return!0;var m="invalid object in inputSettings -> video -> processor -> config";switch(l){case Id.BGBLUR:return d.length>1||d[0]!=="strength"?(console.error(m),!1):!(typeof u.strength!="number"||u.strength<=0||u.strength>1||isNaN(u.strength))||(console.error("".concat(m,"; expected: {0 < strength <= 1}, got: ").concat(u.strength)),!1);case Id.BGIMAGE:return!(u.source!==void 0&&!(function(v){if(v.source==="default")return v.type="default",!0;if(v.source instanceof ArrayBuffer)return!0;if(Xc(v.source))return v.type="url",!!(function(P){var C=new URL(P),S=C.pathname;if(C.protocol==="data:")try{var x=S.substring(S.indexOf(":")+1,S.indexOf(";")).split("/")[1];return nm.includes(x)}catch(j){return console.error("failed to deduce blob content type",j),!1}var O=S.split(".").at(-1).toLowerCase().trim();return nm.includes(O)})(v.source)||(console.error("invalid image type; supported types: [".concat(nm.join(", "),"]")),!1);return _=v.source,E=Number(_),isNaN(E)||!Number.isInteger(E)||E<=0||E>H0?(console.error("invalid image selection; must be an int, > 0, <= ".concat(H0)),!1):(v.type="daily-preselect",!0);var _,E})(u));default:return!0}})(i.type,i.config))?!1:(Object.keys(i).filter((function(l){return!s.includes(l)})).forEach((function(l){console.warn("invalid key inputSettings -> video -> processor : ".concat(l)),delete i[l]})),!0)})(t.video.processor)))&&!(t.audio&&(_t(t.audio)!=="object"||(n=t.audio.processor,r=["type"],!n||_t(n)!=="object"||(Object.keys(n).filter((function(i){return!r.includes(i)})).forEach((function(i){console.warn("invalid key inputSettings -> audio -> processor : ".concat(i)),delete n[i]})),e=n.type,typeof e!="string"||!Object.values(oO).includes(e)&&(console.error("inputSettings audio processor type invalid"),1)))));var e,n,r}function yO(t,e){var n,r=[];t.video&&!lO((n=e?.useLegacyVideoProcessor)!==null&&n!==void 0&&n)&&(delete t.video,r.push("video")),t.audio&&!uO()&&(delete t.audio,r.push("audio")),r.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(r.join(", ")))}function My(){var t=Object.values(Id).join(" | "),e=Object.values(oO).join(" | ");return"inputSettings must be of the form: { video?: { processor: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function _O(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(mP).concat(e?' | "'.concat(gP,'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function bO(){return"customIntegrations should be an object of type ".concat(JSON.stringify(xy),".")}function wO(t){if(t&&_t(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Xd),".")),!1;if(t)for(var e=0,n=Object.entries(t);e<n.length;e++)for(var r=ss(n[e],1)[0],i=0,s=Object.entries(t[r]);i<s.length;i++){var l=ss(s[i],2),u=l[0],d=l[1];if(u==="iconPath"&&!Xc(d)||u==="iconPathDarkMode"&&!Xc(d))return console.error("customTrayButton ".concat(u," should be a url.")),!1;var m=Xd.id[u];if(!m)return console.error("customTrayButton does not support key ".concat(u)),!1;if(_t(d)!==m)return console.error("customTrayButton ".concat(u," should be a ").concat(m,".")),!1}return!0}function kO(t){if(!t||t&&_t(t)!=="object"||Array.isArray(t))return console.error(bO()),!1;for(var e=function(_){return"".concat(_," should be ").concat(xy.id[_])},n=function(_,E){return console.error("customIntegration ".concat(_,": ").concat(E))},r=0,i=Object.entries(t);r<i.length;r++){var s=ss(i[r],1)[0];if(!("label"in t[s]))return n(s,"label is required"),!1;if(!("location"in t[s]))return n(s,"location is required"),!1;if(!("src"in t[s])&&!("srcdoc"in t[s]))return n(s,"src or srcdoc is required"),!1;for(var l=0,u=Object.entries(t[s]);l<u.length;l++){var d=ss(u[l],2),m=d[0],v=d[1];switch(m){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof v!="string")return n(s,e(m)),!1;break;case"iconURL":if(!Xc(v))return n(s,"".concat(m," should be a url")),!1;break;case"src":if("srcdoc"in t[s])return n(s,"cannot have both src and srcdoc"),!1;if(!Xc(v))return n(s,'src "'.concat(v,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[s])return n(s,"cannot have both src and srcdoc"),!1;if(typeof v!="string")return n(s,e(m)),!1;break;case"location":if(!["main","sidebar"].includes(v))return n(s,e(m)),!1;break;case"controlledBy":if(v!=="*"&&v!=="owners"&&(!Array.isArray(v)||v.some((function(_){return typeof _!="string"}))))return n(s,e(m)),!1;break;case"shared":if((!Array.isArray(v)||v.some((function(_){return typeof _!="string"})))&&v!=="owners"&&typeof v!="boolean")return n(s,e(m)),!1;break;default:if(!xy.id[m])return console.error("customIntegration does not support key ".concat(m)),!1}}}return!0}function SO(t,e){if(e===void 0)return!1;switch(_t(e)){case"string":return _t(t)===e;case"object":if(_t(t)!=="object")return!1;for(var n in t)if(!SO(t[n],e[n]))return!1;return!0;default:return!1}}function fE(t){if(_t(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(by).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(by));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function pE(t,e,n){return!(typeof t!="number"||t<e||t>n)}function om(t,e){return t&&!e&&delete t.data,t}const OF=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:pP,DAILY_ACCESS_LEVEL_LOBBY:O$,DAILY_ACCESS_LEVEL_NONE:j$,DAILY_ACCESS_UNKNOWN:xd,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:z$,DAILY_CAMERA_ERROR_CAM_IN_USE:W$,DAILY_CAMERA_ERROR_CONSTRAINTS:Y$,DAILY_CAMERA_ERROR_MIC_IN_USE:V$,DAILY_CAMERA_ERROR_NOT_FOUND:G$,DAILY_CAMERA_ERROR_PERMISSIONS:H$,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:J$,DAILY_CAMERA_ERROR_UNKNOWN:Q$,DAILY_EVENT_ACCESS_STATE_UPDATED:xP,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:GP,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:YP,DAILY_EVENT_APP_MSG:BP,DAILY_EVENT_CAMERA_ERROR:bP,DAILY_EVENT_CPU_LOAD_CHANGE:XP,DAILY_EVENT_ERROR:jd,DAILY_EVENT_EXIT_FULLSCREEN:za,DAILY_EVENT_FACE_COUNTS_UPDATED:ZP,DAILY_EVENT_FULLSCREEN:Va,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:yP,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:vP,DAILY_EVENT_INPUT_SETTINGS_UPDATED:sO,DAILY_EVENT_JOINED_MEETING:wP,DAILY_EVENT_JOINING_MEETING:vy,DAILY_EVENT_LANG_UPDATED:iO,DAILY_EVENT_LEFT_MEETING:kP,DAILY_EVENT_LIVE_STREAMING_ERROR:rO,DAILY_EVENT_LIVE_STREAMING_STARTED:eO,DAILY_EVENT_LIVE_STREAMING_STOPPED:nO,DAILY_EVENT_LIVE_STREAMING_UPDATED:tO,DAILY_EVENT_LOADED:Md,DAILY_EVENT_LOADING:my,DAILY_EVENT_LOAD_ATTEMPT_FAILED:gy,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:JP,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:zP,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:HP,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:K$,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:AP,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:MP,DAILY_EVENT_NETWORK_CONNECTION:KP,DAILY_EVENT_NETWORK_QUALITY_CHANGE:QP,DAILY_EVENT_NONFATAL_ERROR:Od,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:TP,DAILY_EVENT_PARTICIPANT_JOINED:SP,DAILY_EVENT_PARTICIPANT_LEFT:CP,DAILY_EVENT_PARTICIPANT_UPDATED:EP,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:aO,DAILY_EVENT_RECORDING_DATA:FP,DAILY_EVENT_RECORDING_ERROR:RP,DAILY_EVENT_RECORDING_STARTED:Ad,DAILY_EVENT_RECORDING_STATS:DP,DAILY_EVENT_RECORDING_STOPPED:Pd,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:$P,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:qP,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:VP,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:WP,DAILY_EVENT_STARTED_CAMERA:_P,DAILY_EVENT_THEME_UPDATED:py,DAILY_EVENT_TRACK_STARTED:yy,DAILY_EVENT_TRACK_STOPPED:_y,DAILY_EVENT_TRANSCRIPTION_ERROR:NP,DAILY_EVENT_TRANSCRIPTION_MSG:UP,DAILY_EVENT_TRANSCRIPTION_STARTED:IP,DAILY_EVENT_TRANSCRIPTION_STOPPED:LP,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:PP,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:jP,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:OP,DAILY_FATAL_ERROR_CONNECTION:q$,DAILY_FATAL_ERROR_EJECTED:I$,DAILY_FATAL_ERROR_EOL:B$,DAILY_FATAL_ERROR_EXP_ROOM:D$,DAILY_FATAL_ERROR_EXP_TOKEN:R$,DAILY_FATAL_ERROR_MEETING_FULL:F$,DAILY_FATAL_ERROR_NBF_ROOM:L$,DAILY_FATAL_ERROR_NBF_TOKEN:N$,DAILY_FATAL_ERROR_NOT_ALLOWED:U$,DAILY_FATAL_ERROR_NO_ROOM:$$,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:gP,DAILY_RECEIVE_SETTINGS_BASE_KEY:mP,DAILY_STATE_ERROR:ui,DAILY_STATE_JOINED:Qa,DAILY_STATE_JOINING:Qd,DAILY_STATE_LEFT:li,DAILY_STATE_NEW:fy,DAILY_TRACK_STATE_BLOCKED:C$,DAILY_TRACK_STATE_INTERRUPTED:A$,DAILY_TRACK_STATE_LOADING:M$,DAILY_TRACK_STATE_OFF:T$,DAILY_TRACK_STATE_PLAYABLE:P$,DAILY_TRACK_STATE_SENDABLE:x$,default:PF},Symbol.toStringTag,{value:"Module"})),jF=VN(OF);var Fu={exports:{}},mE;function EO(){if(mE)return Fu.exports;mE=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(R,U,G){return Function.prototype.apply.call(R,U,G)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:n=function(R){return Object.getOwnPropertyNames(R)};function r(D){console&&console.warn&&console.warn(D)}var i=Number.isNaN||function(R){return R!==R};function s(){s.init.call(this)}Fu.exports=s,Fu.exports.once=O,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(D){if(typeof D!="number"||D<0||i(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");l=D}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||i(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function d(D){return D._maxListeners===void 0?s.defaultMaxListeners:D._maxListeners}s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(R){for(var U=[],G=1;G<arguments.length;G++)U.push(arguments[G]);var X=R==="error",oe=this._events;if(oe!==void 0)X=X&&oe.error===void 0;else if(!X)return!1;if(X){var ce;if(U.length>0&&(ce=U[0]),ce instanceof Error)throw ce;var le=new Error("Unhandled error."+(ce?" ("+ce.message+")":""));throw le.context=ce,le}var Be=oe[R];if(Be===void 0)return!1;if(typeof Be=="function")e(Be,this,U);else for(var He=Be.length,st=C(Be,He),G=0;G<He;++G)e(st[G],this,U);return!0};function m(D,R,U,G){var X,oe,ce;if(u(U),oe=D._events,oe===void 0?(oe=D._events=Object.create(null),D._eventsCount=0):(oe.newListener!==void 0&&(D.emit("newListener",R,U.listener?U.listener:U),oe=D._events),ce=oe[R]),ce===void 0)ce=oe[R]=U,++D._eventsCount;else if(typeof ce=="function"?ce=oe[R]=G?[U,ce]:[ce,U]:G?ce.unshift(U):ce.push(U),X=d(D),X>0&&ce.length>X&&!ce.warned){ce.warned=!0;var le=new Error("Possible EventEmitter memory leak detected. "+ce.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");le.name="MaxListenersExceededWarning",le.emitter=D,le.type=R,le.count=ce.length,r(le)}return D}s.prototype.addListener=function(R,U){return m(this,R,U,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(R,U){return m(this,R,U,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(D,R,U){var G={fired:!1,wrapFn:void 0,target:D,type:R,listener:U},X=v.bind(G);return X.listener=U,G.wrapFn=X,X}s.prototype.once=function(R,U){return u(U),this.on(R,_(this,R,U)),this},s.prototype.prependOnceListener=function(R,U){return u(U),this.prependListener(R,_(this,R,U)),this},s.prototype.removeListener=function(R,U){var G,X,oe,ce,le;if(u(U),X=this._events,X===void 0)return this;if(G=X[R],G===void 0)return this;if(G===U||G.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete X[R],X.removeListener&&this.emit("removeListener",R,G.listener||U));else if(typeof G!="function"){for(oe=-1,ce=G.length-1;ce>=0;ce--)if(G[ce]===U||G[ce].listener===U){le=G[ce].listener,oe=ce;break}if(oe<0)return this;oe===0?G.shift():S(G,oe),G.length===1&&(X[R]=G[0]),X.removeListener!==void 0&&this.emit("removeListener",R,le||U)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(R){var U,G,X;if(G=this._events,G===void 0)return this;if(G.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):G[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete G[R]),this;if(arguments.length===0){var oe=Object.keys(G),ce;for(X=0;X<oe.length;++X)ce=oe[X],ce!=="removeListener"&&this.removeAllListeners(ce);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=G[R],typeof U=="function")this.removeListener(R,U);else if(U!==void 0)for(X=U.length-1;X>=0;X--)this.removeListener(R,U[X]);return this};function E(D,R,U){var G=D._events;if(G===void 0)return[];var X=G[R];return X===void 0?[]:typeof X=="function"?U?[X.listener||X]:[X]:U?x(X):C(X,X.length)}s.prototype.listeners=function(R){return E(this,R,!0)},s.prototype.rawListeners=function(R){return E(this,R,!1)},s.listenerCount=function(D,R){return typeof D.listenerCount=="function"?D.listenerCount(R):P.call(D,R)},s.prototype.listenerCount=P;function P(D){var R=this._events;if(R!==void 0){var U=R[D];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function C(D,R){for(var U=new Array(R),G=0;G<R;++G)U[G]=D[G];return U}function S(D,R){for(;R+1<D.length;R++)D[R]=D[R+1];D.pop()}function x(D){for(var R=new Array(D.length),U=0;U<R.length;++U)R[U]=D[U].listener||D[U];return R}function O(D,R){return new Promise(function(U,G){function X(ce){D.removeListener(R,oe),G(ce)}function oe(){typeof D.removeListener=="function"&&D.removeListener("error",X),U([].slice.call(arguments))}$(D,R,oe,{once:!0}),R!=="error"&&j(D,X,{once:!0})})}function j(D,R,U){typeof D.on=="function"&&$(D,"error",R,U)}function $(D,R,U,G){if(typeof D.on=="function")G.once?D.once(R,U):D.on(R,U);else if(typeof D.addEventListener=="function")D.addEventListener(R,function X(oe){G.once&&D.removeEventListener(R,X),U(oe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof D)}return Fu.exports}var Ac={},si={},gE;function IF(){if(gE)return si;gE=1,Object.defineProperty(si,"__esModule",{value:!0}),si.Api=si.HttpClient=si.ContentType=void 0;var t;(function(r){r.Json="application/json",r.FormData="multipart/form-data",r.UrlEncoded="application/x-www-form-urlencoded",r.Text="text/plain"})(t||(si.ContentType=t={}));class e{baseUrl="https://api.vapi.ai";securityData=null;securityWorker;abortControllers=new Map;customFetch=(...i)=>fetch(...i);baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};constructor(i={}){Object.assign(this,i)}setSecurityData=i=>{this.securityData=i};encodeQueryParam(i,s){return`${encodeURIComponent(i)}=${encodeURIComponent(typeof s=="number"?s:`${s}`)}`}addQueryParam(i,s){return this.encodeQueryParam(s,i[s])}addArrayQueryParam(i,s){return i[s].map(u=>this.encodeQueryParam(s,u)).join("&")}toQueryString(i){const s=i||{};return Object.keys(s).filter(u=>typeof s[u]<"u").map(u=>Array.isArray(s[u])?this.addArrayQueryParam(s,u):this.addQueryParam(s,u)).join("&")}addQueryParams(i){const s=this.toQueryString(i);return s?`?${s}`:""}contentFormatters={[t.Json]:i=>i!==null&&(typeof i=="object"||typeof i=="string")?JSON.stringify(i):i,[t.Text]:i=>i!==null&&typeof i!="string"?JSON.stringify(i):i,[t.FormData]:i=>Object.keys(i||{}).reduce((s,l)=>{const u=i[l];return s.append(l,u instanceof Blob?u:typeof u=="object"&&u!==null?JSON.stringify(u):`${u}`),s},new FormData),[t.UrlEncoded]:i=>this.toQueryString(i)};mergeRequestParams(i,s){return{...this.baseApiParams,...i,...s||{},headers:{...this.baseApiParams.headers||{},...i.headers||{},...s&&s.headers||{}}}}createAbortSignal=i=>{if(this.abortControllers.has(i)){const l=this.abortControllers.get(i);return l?l.signal:void 0}const s=new AbortController;return this.abortControllers.set(i,s),s.signal};abortRequest=i=>{const s=this.abortControllers.get(i);s&&(s.abort(),this.abortControllers.delete(i))};request=async({body:i,secure:s,path:l,type:u,query:d,format:m,baseUrl:v,cancelToken:_,...E})=>{const P=(typeof s=="boolean"?s:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},C=this.mergeRequestParams(E,P),S=d&&this.toQueryString(d),x=this.contentFormatters[u||t.Json],O=m||C.format;return this.customFetch(`${v||this.baseUrl||""}${l}${S?`?${S}`:""}`,{...C,headers:{...C.headers||{},...u&&u!==t.FormData?{"Content-Type":u}:{}},signal:(_?this.createAbortSignal(_):C.signal)||null,body:typeof i>"u"||i===null?null:x(i)}).then(async j=>{const $=j;$.data=null,$.error=null;const D=O?await j[O]().then(R=>($.ok?$.data=R:$.error=R,$)).catch(R=>($.error=R,$)):$;if(_&&this.abortControllers.delete(_),!j.ok)throw D;return D})}}si.HttpClient=e;class n extends e{assistant={assistantControllerCreate:(i,s={})=>this.request({path:"/assistant",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...s}),assistantControllerFindAll:(i,s={})=>this.request({path:"/assistant",method:"GET",query:i,secure:!0,format:"json",...s}),assistantControllerFindOne:(i,s={})=>this.request({path:`/assistant/${i}`,method:"GET",secure:!0,format:"json",...s}),assistantControllerUpdate:(i,s,l={})=>this.request({path:`/assistant/${i}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...l}),assistantControllerReplace:(i,s,l={})=>this.request({path:`/assistant/${i}`,method:"PUT",body:s,secure:!0,type:t.Json,format:"json",...l}),assistantControllerRemove:(i,s={})=>this.request({path:`/assistant/${i}`,method:"DELETE",secure:!0,format:"json",...s})};call={callControllerFindAll:(i,s={})=>this.request({path:"/call",method:"GET",query:i,secure:!0,format:"json",...s}),callControllerFindOne:(i,s={})=>this.request({path:`/call/${i}`,method:"GET",secure:!0,format:"json",...s}),callControllerDeleteCallData:(i,s={})=>this.request({path:`/call/${i}`,method:"DELETE",secure:!0,format:"json",...s}),callControllerUpdate:(i,s,l={})=>this.request({path:`/call/${i}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...l}),callControllerCreatePhoneCall:(i,s={})=>this.request({path:"/call/phone",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...s}),callControllerCreateWebCall:(i,s={})=>this.request({path:"/call/web",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...s})};credential={credentialControllerCreate:(i,s={})=>this.request({path:"/credential",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...s}),credentialControllerFindAll:(i,s={})=>this.request({path:"/credential",method:"GET",query:i,secure:!0,format:"json",...s}),credentialControllerFindOne:(i,s={})=>this.request({path:`/credential/${i}`,method:"GET",secure:!0,format:"json",...s}),credentialControllerUpdate:(i,s,l={})=>this.request({path:`/credential/${i}`,method:"PUT",body:s,secure:!0,type:t.Json,format:"json",...l}),credentialControllerRemove:(i,s={})=>this.request({path:`/credential/${i}`,method:"DELETE",secure:!0,format:"json",...s})};phoneNumber={phoneNumberControllerBuy:(i,s={})=>this.request({path:"/phone-number/buy",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...s}),phoneNumberControllerImportTwilio:(i,s={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...s}),phoneNumberControllerImportVonage:(i,s={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...s}),phoneNumberControllerFindAll:(i,s={})=>this.request({path:"/phone-number",method:"GET",query:i,secure:!0,format:"json",...s}),phoneNumberControllerFindOne:(i,s={})=>this.request({path:`/phone-number/${i}`,method:"GET",secure:!0,format:"json",...s}),phoneNumberControllerUpdate:(i,s,l={})=>this.request({path:`/phone-number/${i}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...l}),phoneNumberControllerRemove:(i,s={})=>this.request({path:`/phone-number/${i}`,method:"DELETE",secure:!0,format:"json",...s})};metrics={metricsControllerFindAll:(i,s={})=>this.request({path:"/metrics",method:"GET",query:i,secure:!0,format:"json",...s})};log={loggingControllerGetLogs:(i,s={})=>this.request({path:"/log",method:"GET",query:i,secure:!0,format:"json",...s})};tool={toolControllerCreate:(i,s={})=>this.request({path:"/tool",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...s}),toolControllerFindAll:(i,s={})=>this.request({path:"/tool",method:"GET",query:i,secure:!0,format:"json",...s}),toolControllerFindOne:(i,s={})=>this.request({path:`/tool/${i}`,method:"GET",secure:!0,format:"json",...s}),toolControllerUpdate:(i,s,l={})=>this.request({path:`/tool/${i}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...l}),toolControllerRemove:(i,s={})=>this.request({path:`/tool/${i}`,method:"DELETE",secure:!0,format:"json",...s})};file={fileControllerCreate:(i,s={})=>this.request({path:"/file/upload",method:"POST",body:i,secure:!0,type:t.FormData,format:"json",...s}),fileControllerFindAll:(i={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...i}),fileControllerFindOne:(i,s={})=>this.request({path:`/file/${i}`,method:"GET",secure:!0,format:"json",...s}),fileControllerRemove:(i,s={})=>this.request({path:`/file/${i}`,method:"DELETE",secure:!0,format:"json",...s})}}return si.Api=n,si}var vE;function LF(){if(vE)return Ac;vE=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.client=void 0;const t=IF(),e=new t.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async n=>{if(n)return{headers:{Authorization:`Bearer ${n}`}}}});return Ac.client=e,Ac}var yE;function NF(){if(yE)return Ys;yE=1;var t=Ys&&Ys.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(Ys,"__esModule",{value:!0});const e=t(jF),n=t(EO()),r=LF();function i(v){document.querySelector(`audio[data-participant-id="${v}"]`)?.remove()}async function s(v,_){v.muted=!1,v.autoplay=!0,_!=null&&(v.srcObject=new MediaStream([_]),await v.play())}async function l(v,_){const E=document.createElement("audio");return E.dataset.participantId=_,document.body.appendChild(E),await s(E,v),E}function u(v,_,E){v.participant.local||_.updateParticipant(v.participant.session_id,{setSubscribedTracks:{audio:!0,video:E}})}class d extends n.default{on(_,E){return super.on(_,E),this}once(_,E){return super.once(_,E),this}emit(_,...E){return super.emit(_,...E)}removeListener(_,E){return super.removeListener(_,E),this}removeAllListeners(_){return super.removeAllListeners(_),this}}class m extends d{started=!1;call=null;speakingTimeout=null;constructor(_,E){super(),r.client.baseUrl=E??"https://api.vapi.ai",r.client.setSecurityData(_)}cleanup(){this.started=!1,this.call?.destroy(),this.call=null,this.speakingTimeout=null}async start(_,E,P){if(!_&&!P)throw new Error("Assistant or Squad must be provided.");if(this.started)return null;this.started=!0;try{const C=(await r.client.call.callControllerCreateWebCall({assistant:typeof _=="string"?void 0:_,assistantId:typeof _=="string"?_:void 0,assistantOverrides:E,squad:typeof P=="string"?void 0:P,squadId:typeof P=="string"?P:void 0})).data;this.call&&this.cleanup();const S=C?.artifactPlan?.videoRecordingEnabled??!1;if(this.call=e.default.createCallObject({audioSource:!0,videoSource:S}),this.call.iframe()?.style.setProperty("display","none"),this.call.on("left-meeting",()=>{this.emit("call-end"),S&&this.call?.stopRecording(),this.cleanup()}),this.call.on("participant-left",x=>{x&&i(x.participant.session_id)}),this.call.on("error",x=>{this.emit("error",x),S&&this.call?.stopRecording()}),this.call.on("camera-error",x=>{this.emit("error",x)}),this.call.on("track-started",async x=>{!x||!x.participant||x.participant?.local||x.track.kind==="audio"&&(await l(x.track,x.participant.session_id),x?.participant?.user_name==="Vapi Speaker"&&this.call?.sendAppMessage("playable"))}),this.call.on("participant-joined",x=>{!x||!this.call||u(x,this.call,S)}),await this.call.join({url:C.webCallUrl,subscribeToTracksAutomatically:!1}),S){const x=new Date().getTime();this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}}),this.call.on("recording-started",()=>{this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:(new Date().getTime()-x)/1e3})})}return this.call.startRemoteParticipantsAudioLevelObserver(100),this.call.on("remote-participants-audio-level",x=>{x&&this.handleRemoteParticipantsAudioLevel(x)}),this.call.on("app-message",x=>this.onAppMessage(x)),this.call.on("nonfatal-error",x=>{x?.type==="audio-processor-error"&&this.call?.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{this.call?.setLocalAudio(!0)})}),this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}}),C}catch(C){return console.error(C),this.emit("error",C),this.cleanup(),null}}onAppMessage(_){if(_)try{if(_.data==="listening")return this.emit("call-start");try{const E=JSON.parse(_.data);this.emit("message",E)}catch(E){console.log("Error parsing message data: ",E)}}catch(E){console.error(E)}}handleRemoteParticipantsAudioLevel(_){const E=Object.values(_.participantsAudioLevel).reduce((C,S)=>C+S,0);this.emit("volume-level",Math.min(1,E/.15)),E>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}stop(){this.started=!1,this.call?.destroy(),this.call=null}send(_){this.call?.sendAppMessage(JSON.stringify(_))}setMuted(_){try{if(!this.call)throw new Error("Call object is not available.");this.call.setLocalAudio(!_)}catch(E){throw E}}isMuted(){try{return this.call?this.call.localAudio()===!1:!1}catch(_){throw _}}say(_,E){this.send({type:"say",message:_,endCallAfterSpoken:E})}setInputDevicesAsync(_){this.call?.setInputDevicesAsync(_)}setOutputDeviceAsync(_){this.call?.setOutputDeviceAsync(_)}}return Ys.default=m,Ys}NF();var DF=EO();const RF=bh(DF);var Qt=[];for(var cm=0;cm<256;++cm)Qt.push((cm+256).toString(16).slice(1));function $F(t,e=0){return(Qt[t[e+0]]+Qt[t[e+1]]+Qt[t[e+2]]+Qt[t[e+3]]+"-"+Qt[t[e+4]]+Qt[t[e+5]]+"-"+Qt[t[e+6]]+Qt[t[e+7]]+"-"+Qt[t[e+8]]+Qt[t[e+9]]+"-"+Qt[t[e+10]]+Qt[t[e+11]]+Qt[t[e+12]]+Qt[t[e+13]]+Qt[t[e+14]]+Qt[t[e+15]]).toLowerCase()}var Bu,FF=new Uint8Array(16);function BF(){if(!Bu&&(Bu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bu(FF)}var UF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const _E={randomUUID:UF};function qF(t,e,n){if(_E.randomUUID&&!e&&!t)return _E.randomUUID();t=t||{};var r=t.random||(t.rng||BF)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return $F(r)}const WF={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},CO={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},At={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},hn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Zi={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Q{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=Q.getVersionPrecision(e),s=Q.getVersionPrecision(n);let l=Math.max(i,s),u=0;const d=Q.map([e,n],m=>{const v=l-Q.getVersionPrecision(m),_=m+new Array(v+1).join(".0");return Q.map(_.split("."),E=>new Array(20-E.length).join("0")+E).reverse()});for(r&&(u=l-Math.min(i,s)),l-=1;l>=u;){if(d[0][l]>d[1][l])return 1;if(d[0][l]===d[1][l]){if(l===u)return 0;l-=1}else if(d[0][l]<d[1][l])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const s=e[r];if(n(s,r))return s}}static assign(e,...n){const r=e;let i,s;if(Object.assign)return Object.assign(e,...n);for(i=0,s=n.length;i<s;i+=1){const l=n[i];typeof l=="object"&&l!==null&&Object.keys(l).forEach(d=>{r[d]=l[d]})}return e}static getBrowserAlias(e){return WF[e]}static getBrowserTypeByAlias(e){return CO[e]||""}}const rt=/version\/(\d+(\.?_?\d+)+)/i,VF=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=Q.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=Q.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/PaleMoon/i],describe(t){const e={name:"Pale Moon"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=Q.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=Q.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=Q.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=Q.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=Q.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=Q.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=Q.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=Q.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=Q.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=Q.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=Q.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=Q.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=Q.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=Q.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=Q.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=Q.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=Q.getFirstMatch(rt,t)||Q.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=Q.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=Q.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=Q.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=Q.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=Q.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=Q.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=Q.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=Q.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=Q.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=Q.getFirstMatch(rt,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?n:e;return{name:Q.getFirstMatch(i,t),version:Q.getSecondMatch(i,t)}}}],zF=[{test:[/Roku\/DVP/],describe(t){const e=Q.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:hn.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Q.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:hn.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Q.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=Q.getWindowsVersionName(e);return{name:hn.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:hn.iOS},n=Q.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=Q.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=Q.getMacOSVersionName(e),r={name:hn.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Q.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:hn.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=Q.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=Q.getAndroidVersionName(e),r={name:hn.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Q.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:hn.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Q.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Q.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Q.getFirstMatch(/\bbb(\d+)/i,t);return{name:hn.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Q.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:hn.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Q.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:hn.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:hn.Linux}}},{test:[/CrOS/],describe(){return{name:hn.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Q.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:hn.PlayStation4,version:e}}}],HF=[{test:[/googlebot/i],describe(){return{type:At.bot,vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=Q.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:At.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:At.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:At.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:At.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:At.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:At.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:At.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=Q.getFirstMatch(/(ipod|iphone)/i,t);return{type:At.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:At.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe(t){const e=Q.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,t),n={type:At.mobile,vendor:"Nokia"};return e&&(n.model=e),n}},{test:[/[^-]mobi/i],describe(){return{type:At.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:At.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:At.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:At.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:At.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:At.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:At.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:At.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:At.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:At.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:At.tv}}}],JF=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Zi.Blink};const n=Q.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Zi.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:Zi.Trident},n=Q.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Zi.Presto},n=Q.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:Zi.Gecko},n=Q.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Zi.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Zi.WebKit},n=Q.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class bE{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Q.find(VF,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Q.find(zF,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=Q.find(HF,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Q.find(JF,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Q.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let s=0;if(Object.keys(e).forEach(u=>{const d=e[u];typeof d=="string"?(i[u]=d,s+=1):typeof d=="object"&&(n[u]=d,r+=1)}),r>0){const u=Object.keys(n),d=Q.find(u,v=>this.isOS(v));if(d){const v=this.satisfies(n[d]);if(v!==void 0)return v}const m=Q.find(u,v=>this.isPlatform(v));if(m){const v=this.satisfies(n[m]);if(v!==void 0)return v}}if(s>0){const u=Object.keys(i),d=Q.find(u,m=>this.isBrowser(m,!0));if(d!==void 0)return this.compareVersion(i[d])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const s=Q.getBrowserTypeByAlias(i);return n&&s&&(i=s.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(Q.compareVersions(s,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class GF{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new bE(e,n)}static parse(e){return new bE(e).getResult()}static get BROWSER_MAP(){return CO}static get ENGINE_MAP(){return Zi}static get OS_MAP(){return hn}static get PLATFORMS_MAP(){return At}}function Yr(t,e){return Object.keys(e).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})}),t}function YF(t){return t&&t.__esModule?t.default:t}function kt(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var No={},TO={};kt(TO,"PipecatClient",()=>Ti);var bo={};bo=JSON.parse('{"name":"@pipecat-ai/client-js","version":"1.4.0","license":"BSD-2-Clause","main":"dist/index.js","module":"dist/index.module.js","types":"dist/index.d.ts","source":"index.ts","repository":{"type":"git","url":"git+https://github.com/pipecat-ai/pipecat-client-web.git"},"files":["dist","package.json","README.md"],"scripts":{"build":"jest --silent --passWithNoTests && parcel build --no-cache","dev":"parcel watch","lint":"eslint . --report-unused-disable-directives --max-warnings 0","test":"jest"},"jest":{"preset":"ts-jest","testEnvironment":"jsdom"},"devDependencies":{"@jest/globals":"^29.7.0","@types/clone-deep":"^4.0.4","@types/jest":"^29.5.12","@types/uuid":"^10.0.0","eslint":"^9.11.1","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.1","jest":"^29.7.0","jest-environment-jsdom":"^30.0.2","ts-jest":"^29.2.5"},"dependencies":{"@types/events":"^3.0.3","bowser":"^2.11.0","clone-deep":"^4.0.1","events":"^3.3.0","typed-emitter":"^2.1.0","uuid":"^10.0.0"}}');var Ah={},xO={};kt(xO,"TransportStateEnum",()=>Ay);var Ay;(function(t){t.DISCONNECTED="disconnected",t.INITIALIZING="initializing",t.INITIALIZED="initialized",t.AUTHENTICATING="authenticating",t.AUTHENTICATED="authenticated",t.CONNECTING="connecting",t.CONNECTED="connected",t.READY="ready",t.DISCONNECTING="disconnecting",t.ERROR="error"})(Ay||(Ay={}));var Qr={};kt(Qr,"RTVIError",()=>Tn);kt(Qr,"ConnectionTimeoutError",()=>QF);kt(Qr,"StartBotError",()=>MO);kt(Qr,"TransportStartError",()=>Zd);kt(Qr,"InvalidTransportParamsError",()=>KF);kt(Qr,"BotNotReadyError",()=>AO);kt(Qr,"BotAlreadyStartedError",()=>PO);kt(Qr,"UnsupportedFeatureError",()=>OO);kt(Qr,"DeviceError",()=>Xt);class Tn extends Error{constructor(e,n){super(e),this.status=n}}class QF extends Tn{constructor(e){super(e??"Bot did not enter ready state within the specified timeout period.")}}class MO extends Tn{constructor(e,n){super(e??"Failed to connect / invalid auth bundle from base url",n??500),this.error="invalid-request-error"}}class Zd extends Tn{constructor(e){super(e??"Unable to connect to transport")}}class KF extends Tn{constructor(e){super(e??"Invalid transport connection parameters")}}class AO extends Tn{constructor(e){super(e??"Attempt to call action on transport when not in 'ready' state.")}}class PO extends Tn{constructor(e){super(e??"Pipecat client has already been started. Please call disconnect() before starting again.")}}class OO extends Tn{constructor(e,n,r){let i=`${e} not supported${r?`: ${r}`:""}`;n&&(i=`${n} does not support ${e}${r?`: ${r}`:""}`),super(i),this.feature=e}}class Xt extends Tn{constructor(e,n,r,i){super(r??`Device error for ${e.join(", ")}: ${n}`),this.devices=e,this.type=n,this.details=i}}var jO={};kt(jO,"RTVIEvent",()=>Oe);var Oe;(function(t){t.Connected="connected",t.Disconnected="disconnected",t.TransportStateChanged="transportStateChanged",t.BotStarted="botStarted",t.BotConnected="botConnected",t.BotReady="botReady",t.BotDisconnected="botDisconnected",t.Error="error",t.ServerMessage="serverMessage",t.ServerResponse="serverResponse",t.MessageError="messageError",t.Metrics="metrics",t.BotStartedSpeaking="botStartedSpeaking",t.BotStoppedSpeaking="botStoppedSpeaking",t.UserStartedSpeaking="userStartedSpeaking",t.UserStoppedSpeaking="userStoppedSpeaking",t.UserTranscript="userTranscript",t.BotTranscript="botTranscript",t.BotLlmText="botLlmText",t.BotLlmStarted="botLlmStarted",t.BotLlmStopped="botLlmStopped",t.LLMFunctionCall="llmFunctionCall",t.BotLlmSearchResponse="botLlmSearchResponse",t.BotTtsText="botTtsText",t.BotTtsStarted="botTtsStarted",t.BotTtsStopped="botTtsStopped",t.ParticipantConnected="participantConnected",t.ParticipantLeft="participantLeft",t.TrackStarted="trackStarted",t.TrackStopped="trackStopped",t.ScreenTrackStarted="screenTrackStarted",t.ScreenTrackStopped="screenTrackStopped",t.ScreenShareError="screenShareError",t.LocalAudioLevel="localAudioLevel",t.RemoteAudioLevel="remoteAudioLevel",t.AvailableCamsUpdated="availableCamsUpdated",t.AvailableMicsUpdated="availableMicsUpdated",t.AvailableSpeakersUpdated="availableSpeakersUpdated",t.CamUpdated="camUpdated",t.MicUpdated="micUpdated",t.SpeakerUpdated="speakerUpdated",t.DeviceError="deviceError"})(Oe||(Oe={}));var Do={};kt(Do,"RTVI_PROTOCOL_VERSION",()=>IO);kt(Do,"RTVI_MESSAGE_LABEL",()=>LO);kt(Do,"RTVIMessageType",()=>Ue);kt(Do,"setAboutClient",()=>NO);kt(Do,"RTVIMessage",()=>rn);const IO="1.0.0",LO="rtvi-ai";var Ue;(function(t){t.CLIENT_READY="client-ready",t.DISCONNECT_BOT="disconnect-bot",t.CLIENT_MESSAGE="client-message",t.SEND_TEXT="send-text",t.APPEND_TO_CONTEXT="append-to-context",t.BOT_READY="bot-ready",t.ERROR="error",t.METRICS="metrics",t.SERVER_MESSAGE="server-message",t.SERVER_RESPONSE="server-response",t.ERROR_RESPONSE="error-response",t.APPEND_TO_CONTEXT_RESULT="append-to-context-result",t.USER_TRANSCRIPTION="user-transcription",t.BOT_TRANSCRIPTION="bot-transcription",t.USER_STARTED_SPEAKING="user-started-speaking",t.USER_STOPPED_SPEAKING="user-stopped-speaking",t.BOT_STARTED_SPEAKING="bot-started-speaking",t.BOT_STOPPED_SPEAKING="bot-stopped-speaking",t.USER_LLM_TEXT="user-llm-text",t.BOT_LLM_TEXT="bot-llm-text",t.BOT_LLM_STARTED="bot-llm-started",t.BOT_LLM_STOPPED="bot-llm-stopped",t.LLM_FUNCTION_CALL="llm-function-call",t.LLM_FUNCTION_CALL_RESULT="llm-function-call-result",t.BOT_LLM_SEARCH_RESPONSE="bot-llm-search-response",t.BOT_TTS_TEXT="bot-tts-text",t.BOT_TTS_STARTED="bot-tts-started",t.BOT_TTS_STOPPED="bot-tts-stopped"})(Ue||(Ue={}));let Dc;function NO(t){Dc?Dc={...Dc,...t}:Dc=t}class rn{constructor(e,n,r){this.label=LO,this.type=e,this.data=n,this.id=r||qF().slice(0,8)}static clientReady(){return new rn(Ue.CLIENT_READY,{version:IO,about:Dc||{library:bo.name,library_version:bo.version}})}static disconnectBot(){return new rn(Ue.DISCONNECT_BOT,{})}static error(e,n=!1){return new rn(Ue.ERROR,{message:e,fatal:n})}}Yr(Ah,xO);Yr(Ah,Qr);Yr(Ah,jO);Yr(Ah,Do);function ll(t,e,n){const r=n.value;return n.value=function(...i){if(this.state==="ready")return r.apply(this,i);throw new AO(`Attempt to call ${e.toString()} when transport not in ready state. Await connect() first.`)},n}function Q_(t,e,n){const r=n.value,i=["authenticating","connecting","connected","ready"];return n.value=function(...s){if(i.includes(this.state))throw new PO(`Attempt to call ${e.toString()} when client already started. Please call disconnect() before starting again.`);return r.apply(this,s)},n}var DO={};kt(DO,"MessageDispatcher",()=>RO);var K_={};kt(K_,"LogLevel",()=>oa);kt(K_,"logger",()=>he);var oa;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=1]="ERROR",t[t.WARN=2]="WARN",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG"})(oa||(oa={}));class so{constructor(){this.level=oa.DEBUG}static getInstance(){return so.instance||(so.instance=new so),so.instance}setLevel(e){this.level=e}debug(...e){this.level>=oa.DEBUG&&console.debug(...e)}info(...e){this.level>=oa.INFO&&console.info(...e)}warn(...e){this.level>=oa.WARN&&console.warn(...e)}error(...e){this.level>=oa.ERROR&&console.error(...e)}}const he=so.getInstance();class RO{constructor(e){this._queue=new Array,this._gcInterval=void 0,this._queue=[],this._sendMethod=e}disconnect(){this.clearQueue(),clearInterval(this._gcInterval),this._gcInterval=void 0}dispatch(e,n=Ue.CLIENT_MESSAGE,r=1e4){this._gcInterval||(this._gcInterval=setInterval(()=>{this._gc()},2e3));const i=new rn(n,e),s=new Promise((l,u)=>{this._queue.push({message:i,timestamp:Date.now(),timeout:r,resolve:l,reject:u})});he.debug("[MessageDispatcher] dispatch",i);try{this._sendMethod(i)}catch(l){return he.error("[MessageDispatcher] Error sending message",l),Promise.reject(l)}return this._gc(),s}clearQueue(){this._queue=[]}_resolveReject(e,n=!0){const r=this._queue.find(i=>i.message.id===e.id);return r&&(n?(he.debug("[MessageDispatcher] Resolve",e),r.resolve(e)):(he.debug("[MessageDispatcher] Reject",e),r.reject(e)),this._queue=this._queue.filter(i=>i.message.id!==e.id),he.debug("[MessageDispatcher] Queue",this._queue)),e}resolve(e){return this._resolveReject(e,!0)}reject(e){return this._resolveReject(e,!1)}_gc(){const e=[];this._queue=this._queue.filter(n=>{const r=Date.now()-n.timestamp<n.timeout;return r||e.push(n),r}),e.forEach(n=>{n.message.type===Ue.CLIENT_MESSAGE&&n.reject(new rn(Ue.ERROR_RESPONSE,{error:"Timed out waiting for response",msgType:n.message.data.t,data:n.message.data.d,fatal:!1}))}),he.debug("[MessageDispatcher] GC",this._queue)}}var X_={};kt(X_,"isAPIRequest",()=>Z_);kt(X_,"makeRequest",()=>eb);function Z_(t){if(typeof t=="object"&&t!==null&&Object.keys(t).includes("endpoint")){const e=t.endpoint;return typeof e=="string"||e instanceof URL||typeof Request<"u"&&e instanceof Request}return!1}async function eb(t,e){e||(e=new AbortController);let n;return new Promise((r,i)=>{(async()=>(t.timeout&&(n=setTimeout(async()=>{e.abort(),i(new Error("Timed out"))},t.timeout)),he.debug(`[Pipecat Client] Fetching from ${t.endpoint}`),fetch(t.endpoint,{method:"POST",mode:"cors",headers:new Headers({"Content-Type":"application/json",...Object.fromEntries((t.headers??new Headers).entries())}),body:JSON.stringify(t.requestData),signal:e?.signal}).then(s=>{he.debug(`[Pipecat Client] Received response from ${t.endpoint}`,s),s.ok||i(s),s.json().then(l=>r(l))}).catch(s=>{he.error(`[Pipecat Client] Error fetching: ${s}`),i(s)}).finally(()=>{n&&clearTimeout(n)})))()})}var tb={};kt(tb,"Transport",()=>nb);kt(tb,"TransportWrapper",()=>$O);class nb{constructor(){this._state="disconnected"}connect(e){this._abortController=new AbortController;let n=e;try{n=this._validateConnectionParams(e)}catch(r){throw new Tn(`Invalid connection params: ${r.message}. Please check your connection params and try again.`)}return this._connect(n)}get startBotParams(){return this._startBotParams}set startBotParams(e){this._startBotParams=e}disconnect(){return this._abortController&&this._abortController.abort(),this._disconnect()}}class $O{constructor(e){this._transport=e,this._proxy=new Proxy(this._transport,{get:(n,r,i)=>{if(typeof n[r]=="function"){let s;switch(String(r)){case"initialize":s="Direct calls to initialize() are disabled and used internally by the PipecatClient.";break;case"initDevices":s="Direct calls to initDevices() are disabled. Please use the PipecatClient.initDevices() wrapper or let PipecatClient.connect() call it for you.";break;case"sendReadyMessage":s="Direct calls to sendReadyMessage() are disabled and used internally by the PipecatClient.";break;case"connect":s="Direct calls to connect() are disabled. Please use the PipecatClient.connect() wrapper.";break;case"disconnect":s="Direct calls to disconnect() are disabled. Please use the PipecatClient.disconnect() wrapper.";break}return s?()=>{throw new Error(s)}:(...l)=>n[r](...l)}return Reflect.get(n,r,i)}})}get proxy(){return this._proxy}}var FO={};kt(FO,"learnAboutClient",()=>BO);function BO(){let t={library:bo.name,library_version:bo.version,platform_details:{}},e=null;if(window?.navigator?.userAgent)try{e=GF.parse(window.navigator.userAgent)}catch{}return e?.browser?.name&&(t.platform_details.browser=e.browser.name),e?.browser?.name==="Safari"&&!e.browser.version?t.platform_details.browser_version="Web View":e?.browser?.version&&(t.platform_details.browser_version=e.browser.version),e?.platform?.type&&(t.platform_details.platform_type=e.platform.type),e?.engine?.name&&(t.platform_details.engine=e.engine.name),e?.os&&(t.platform=e.os.name,t.platform_version=e.os.version),t}var ga=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(s=(i<3?l(s):i>3?l(e,n,s):l(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class XF extends RF{}class Ti extends XF{constructor(e){super(),this._functionCallCallbacks={},NO(BO()),this._transport=e.transport,this._transportWrapper=new $O(this._transport);const n={...e.callbacks,onMessageError:r=>{e?.callbacks?.onMessageError?.(r),this.emit(Oe.MessageError,r)},onError:r=>{e?.callbacks?.onError?.(r);try{this.emit(Oe.Error,r)}catch{he.debug("Could not emit error",r)}r.data?.fatal&&(he.error("Fatal error reported. Disconnecting..."),this.disconnect())},onConnected:()=>{e?.callbacks?.onConnected?.(),this.emit(Oe.Connected)},onDisconnected:()=>{e?.callbacks?.onDisconnected?.(),this.emit(Oe.Disconnected)},onTransportStateChanged:r=>{e?.callbacks?.onTransportStateChanged?.(r),this.emit(Oe.TransportStateChanged,r)},onParticipantJoined:r=>{e?.callbacks?.onParticipantJoined?.(r),this.emit(Oe.ParticipantConnected,r)},onParticipantLeft:r=>{e?.callbacks?.onParticipantLeft?.(r),this.emit(Oe.ParticipantLeft,r)},onTrackStarted:(r,i)=>{e?.callbacks?.onTrackStarted?.(r,i),this.emit(Oe.TrackStarted,r,i)},onTrackStopped:(r,i)=>{e?.callbacks?.onTrackStopped?.(r,i),this.emit(Oe.TrackStopped,r,i)},onScreenTrackStarted:(r,i)=>{e?.callbacks?.onScreenTrackStarted?.(r,i),this.emit(Oe.ScreenTrackStarted,r,i)},onScreenTrackStopped:(r,i)=>{e?.callbacks?.onScreenTrackStopped?.(r,i),this.emit(Oe.ScreenTrackStopped,r,i)},onScreenShareError:r=>{e?.callbacks?.onScreenShareError?.(r),this.emit(Oe.ScreenShareError,r)},onAvailableCamsUpdated:r=>{e?.callbacks?.onAvailableCamsUpdated?.(r),this.emit(Oe.AvailableCamsUpdated,r)},onAvailableMicsUpdated:r=>{e?.callbacks?.onAvailableMicsUpdated?.(r),this.emit(Oe.AvailableMicsUpdated,r)},onAvailableSpeakersUpdated:r=>{e?.callbacks?.onAvailableSpeakersUpdated?.(r),this.emit(Oe.AvailableSpeakersUpdated,r)},onCamUpdated:r=>{e?.callbacks?.onCamUpdated?.(r),this.emit(Oe.CamUpdated,r)},onMicUpdated:r=>{e?.callbacks?.onMicUpdated?.(r),this.emit(Oe.MicUpdated,r)},onSpeakerUpdated:r=>{e?.callbacks?.onSpeakerUpdated?.(r),this.emit(Oe.SpeakerUpdated,r)},onDeviceError:r=>{e?.callbacks?.onDeviceError?.(r),this.emit(Oe.DeviceError,r)},onBotStarted:r=>{e?.callbacks?.onBotStarted?.(r),this.emit(Oe.BotStarted,r)},onBotConnected:r=>{e?.callbacks?.onBotConnected?.(r),this.emit(Oe.BotConnected,r)},onBotReady:r=>{e?.callbacks?.onBotReady?.(r),this.emit(Oe.BotReady,r)},onBotDisconnected:r=>{e?.callbacks?.onBotDisconnected?.(r),this.emit(Oe.BotDisconnected,r)},onBotStartedSpeaking:()=>{e?.callbacks?.onBotStartedSpeaking?.(),this.emit(Oe.BotStartedSpeaking)},onBotStoppedSpeaking:()=>{e?.callbacks?.onBotStoppedSpeaking?.(),this.emit(Oe.BotStoppedSpeaking)},onRemoteAudioLevel:(r,i)=>{e?.callbacks?.onRemoteAudioLevel?.(r,i),this.emit(Oe.RemoteAudioLevel,r,i)},onUserStartedSpeaking:()=>{e?.callbacks?.onUserStartedSpeaking?.(),this.emit(Oe.UserStartedSpeaking)},onUserStoppedSpeaking:()=>{e?.callbacks?.onUserStoppedSpeaking?.(),this.emit(Oe.UserStoppedSpeaking)},onLocalAudioLevel:r=>{e?.callbacks?.onLocalAudioLevel?.(r),this.emit(Oe.LocalAudioLevel,r)},onUserTranscript:r=>{e?.callbacks?.onUserTranscript?.(r),this.emit(Oe.UserTranscript,r)},onBotTranscript:r=>{e?.callbacks?.onBotTranscript?.(r),this.emit(Oe.BotTranscript,r)},onBotLlmText:r=>{e?.callbacks?.onBotLlmText?.(r),this.emit(Oe.BotLlmText,r)},onBotLlmStarted:()=>{e?.callbacks?.onBotLlmStarted?.(),this.emit(Oe.BotLlmStarted)},onBotLlmStopped:()=>{e?.callbacks?.onBotLlmStopped?.(),this.emit(Oe.BotLlmStopped)},onBotTtsText:r=>{e?.callbacks?.onBotTtsText?.(r),this.emit(Oe.BotTtsText,r)},onBotTtsStarted:()=>{e?.callbacks?.onBotTtsStarted?.(),this.emit(Oe.BotTtsStarted)},onBotTtsStopped:()=>{e?.callbacks?.onBotTtsStopped?.(),this.emit(Oe.BotTtsStopped)}};this._options={...e,callbacks:n,enableMic:e.enableMic??!0,enableCam:e.enableCam??!1,enableScreenShare:e.enableScreenShare??!1},this._initialize(),he.debug("[Pipecat Client] Initialized",this.version)}setLogLevel(e){he.setLevel(e)}async initDevices(){he.debug("[Pipecat Client] Initializing devices..."),await this._transport.initDevices()}async startBot(e){this._transport.state="authenticating",this._transport.startBotParams=e,this._abortController=new AbortController;let n;try{n=await eb(e,this._abortController)}catch(r){let i="An unknown error occurred while starting the bot.",s;if(r instanceof Response){const l=await r.json();i=l.info??l.detail??r.statusText,s=r.status}else r instanceof Error&&(i=r.message);throw this._options.callbacks?.onError?.(new rn(Ue.ERROR_RESPONSE,{message:i,fatal:!0})),new MO(i,s)}return this._transport.state="authenticated",this._options.callbacks?.onBotStarted?.(n),n}async connect(e){return e&&Z_(e)?(he.warn("Calling connect with an API endpoint is deprecated. Use startBotAndConnect() instead."),this.startBotAndConnect(e)):new Promise((n,r)=>{(async()=>{this._connectResolve=n,this._transport.state==="disconnected"&&await this._transport.initDevices();try{await this._transport.connect(e),await this._transport.sendReadyMessage()}catch(i){this.disconnect(),r(i);return}})()})}async startBotAndConnect(e){this._transport.state==="disconnected"&&await this._transport.initDevices();const n=await this.startBot(e);return this.connect(n)}async disconnect(){await this._transport.disconnect(),this._messageDispatcher.disconnect()}_initialize(){this._transport.initialize(this._options,this.handleMessage.bind(this)),this._messageDispatcher=new RO(this._transport.sendMessage.bind(this._transport))}get connected(){return["connected","ready"].includes(this._transport.state)}get transport(){return this._transportWrapper.proxy}get state(){return this._transport.state}get version(){return YF(bo).version}async getAllMics(){return await this._transport.getAllMics()}async getAllCams(){return await this._transport.getAllCams()}async getAllSpeakers(){return await this._transport.getAllSpeakers()}get selectedMic(){return this._transport.selectedMic}get selectedCam(){return this._transport.selectedCam}get selectedSpeaker(){return this._transport.selectedSpeaker}updateMic(e){this._transport.updateMic(e)}updateCam(e){this._transport.updateCam(e)}updateSpeaker(e){this._transport.updateSpeaker(e)}enableMic(e){this._transport.enableMic(e)}get isMicEnabled(){return this._transport.isMicEnabled}enableCam(e){this._transport.enableCam(e)}get isCamEnabled(){return this._transport.isCamEnabled}tracks(){return this._transport.tracks()}enableScreenShare(e){return this._transport.enableScreenShare(e)}get isSharingScreen(){return this._transport.isSharingScreen}sendClientMessage(e,n){this._transport.sendMessage(new rn(Ue.CLIENT_MESSAGE,{t:e,d:n}))}async sendClientRequest(e,n,r){const i={t:e,d:n};return(await this._messageDispatcher.dispatch(i,Ue.CLIENT_MESSAGE,r)).data.d}registerFunctionCallHandler(e,n){this._functionCallCallbacks[e]=n}unregisterFunctionCallHandler(e){delete this._functionCallCallbacks[e]}unregisterAllFunctionCallHandlers(){this._functionCallCallbacks={}}async appendToContext(e){return he.warn("appendToContext() is deprecated. Use sendText() instead."),await this._transport.sendMessage(new rn(Ue.APPEND_TO_CONTEXT,{role:e.role,content:e.content,run_immediately:e.run_immediately})),!0}async sendText(e,n={}){await this._transport.sendMessage(new rn(Ue.SEND_TEXT,{content:e,options:n}))}disconnectBot(){this._transport.sendMessage(new rn(Ue.DISCONNECT_BOT,{}))}handleMessage(e){switch(he.debug("[RTVI Message]",e),e.type){case Ue.BOT_READY:{const n=e.data,r=n.version?n.version.split(".").map(Number):[0,0,0];he.debug(`[Pipecat Client] Bot is ready. Version: ${n.version}`),r[0]<1&&he.warn("[Pipecat Client] Bot version is less than 1.0.0, which may not be compatible with this client."),this._connectResolve?.(e.data),this._options.callbacks?.onBotReady?.(e.data);break}case Ue.ERROR:this._options.callbacks?.onError?.(e);break;case Ue.SERVER_RESPONSE:this._messageDispatcher.resolve(e);break;case Ue.ERROR_RESPONSE:{const n=this._messageDispatcher.reject(e);this._options.callbacks?.onMessageError?.(n);break}case Ue.USER_STARTED_SPEAKING:this._options.callbacks?.onUserStartedSpeaking?.();break;case Ue.USER_STOPPED_SPEAKING:this._options.callbacks?.onUserStoppedSpeaking?.();break;case Ue.BOT_STARTED_SPEAKING:this._options.callbacks?.onBotStartedSpeaking?.();break;case Ue.BOT_STOPPED_SPEAKING:this._options.callbacks?.onBotStoppedSpeaking?.();break;case Ue.USER_TRANSCRIPTION:{const n=e.data;this._options.callbacks?.onUserTranscript?.(n);break}case Ue.BOT_TRANSCRIPTION:this._options.callbacks?.onBotTranscript?.(e.data);break;case Ue.BOT_LLM_TEXT:this._options.callbacks?.onBotLlmText?.(e.data);break;case Ue.BOT_LLM_STARTED:this._options.callbacks?.onBotLlmStarted?.();break;case Ue.BOT_LLM_STOPPED:this._options.callbacks?.onBotLlmStopped?.();break;case Ue.BOT_TTS_TEXT:this._options.callbacks?.onBotTtsText?.(e.data);break;case Ue.BOT_TTS_STARTED:this._options.callbacks?.onBotTtsStarted?.();break;case Ue.BOT_TTS_STOPPED:this._options.callbacks?.onBotTtsStopped?.();break;case Ue.METRICS:this._options.callbacks?.onMetrics?.(e.data),this.emit(Oe.Metrics,e.data);break;case Ue.SERVER_MESSAGE:this._options.callbacks?.onServerMessage?.(e.data),this.emit(Oe.ServerMessage,e.data);break;case Ue.LLM_FUNCTION_CALL:{const n=e.data,r=this._functionCallCallbacks[n.function_name];if(r){const i={functionName:n.function_name,arguments:n.args};r(i).then(s=>{s!=null&&this._transport.sendMessage(new rn(Ue.LLM_FUNCTION_CALL_RESULT,{function_name:n.function_name,tool_call_id:n.tool_call_id,arguments:n.args,result:s}))})}this._options.callbacks?.onLLMFunctionCall?.(n),this.emit(Oe.LLMFunctionCall,n);break}case Ue.BOT_LLM_SEARCH_RESPONSE:{const n=e.data;this._options.callbacks?.onBotLlmSearchResponse?.(n),this.emit(Oe.BotLlmSearchResponse,n);break}default:he.debug("[Pipecat Client] Unrecognized message type",e.type);break}}}ga([Q_],Ti.prototype,"startBot",null);ga([Q_],Ti.prototype,"connect",null);ga([Q_],Ti.prototype,"startBotAndConnect",null);ga([ll],Ti.prototype,"sendClientMessage",null);ga([ll],Ti.prototype,"sendClientRequest",null);ga([ll],Ti.prototype,"appendToContext",null);ga([ll],Ti.prototype,"sendText",null);ga([ll],Ti.prototype,"disconnectBot",null);Yr(No,TO);Yr(No,DO);Yr(No,K_);Yr(No,X_);Yr(No,tb);Yr(No,FO);function wE(t,e){if(t==null)return{};var n,r,i=(function(l,u){if(l==null)return{};var d={};for(var m in l)if({}.hasOwnProperty.call(l,m)){if(u.indexOf(m)!==-1)continue;d[m]=l[m]}return d})(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qe(t){return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(t)}function UO(t){var e=(function(n,r){if(Qe(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r);if(Qe(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)})(t,"string");return Qe(e)=="symbol"?e:e+""}function kE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UO(r.key),r)}}function Fn(t,e,n){return e&&kE(t.prototype,e),n&&kE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ph(t,e){if(e&&(Qe(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function xr(t){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xr(t)}function tl(t,e){return tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tl(t,e)}function Oh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tl(t,e)}function Hr(t,e,n){return(e=UO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SE(t,e,n,r,i,s,l){try{var u=t[s](l),d=u.value}catch(m){return void n(m)}u.done?e(d):Promise.resolve(d).then(r,i)}function Me(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function l(d){SE(s,r,i,l,u,"next",d)}function u(d){SE(s,r,i,l,u,"throw",d)}l(void 0)}))}}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function on(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,l,u,d,m=[],v=!0,_=!1;try{if(u=(i=i.call(n)).next,r===0){if(Object(i)!==i)return;v=!1}else for(;!(v=(s=u.call(i)).done)&&(m.push(s.value),m.length!==r);v=!0);}catch(E){_=!0,l=E}finally{try{if(!v&&i.return!=null&&(d=i.return(),Object(d)!==d))return}finally{if(_)throw l}}return m}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return EE(n,r);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?EE(n,r):void 0}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ZF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CE,Uu={exports:{}},Py=(function(){if(CE)return Uu.exports;CE=1;var t,e=typeof Reflect=="object"?Reflect:null,n=e&&typeof e.apply=="function"?e.apply:function(S,x,O){return Function.prototype.apply.call(S,x,O)};t=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var r=Number.isNaN||function(S){return S!=S};function i(){i.init.call(this)}Uu.exports=i,Uu.exports.once=function(S,x){return new Promise((function(O,j){function $(R){S.removeListener(x,D),j(R)}function D(){typeof S.removeListener=="function"&&S.removeListener("error",$),O([].slice.call(arguments))}C(S,x,D,{once:!0}),x!=="error"&&(function(R,U,G){typeof R.on=="function"&&C(R,"error",U,G)})(S,$,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function l(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}function u(S){return S._maxListeners===void 0?i.defaultMaxListeners:S._maxListeners}function d(S,x,O,j){var $,D,R,U;if(l(O),(D=S._events)===void 0?(D=S._events=Object.create(null),S._eventsCount=0):(D.newListener!==void 0&&(S.emit("newListener",x,O.listener?O.listener:O),D=S._events),R=D[x]),R===void 0)R=D[x]=O,++S._eventsCount;else if(typeof R=="function"?R=D[x]=j?[O,R]:[R,O]:j?R.unshift(O):R.push(O),($=u(S))>0&&R.length>$&&!R.warned){R.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=S,G.type=x,G.count=R.length,U=G,console&&console.warn&&console.warn(U)}return S}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(S,x,O){var j={fired:!1,wrapFn:void 0,target:S,type:x,listener:O},$=m.bind(j);return $.listener=O,j.wrapFn=$,$}function _(S,x,O){var j=S._events;if(j===void 0)return[];var $=j[x];return $===void 0?[]:typeof $=="function"?O?[$.listener||$]:[$]:O?(function(D){for(var R=new Array(D.length),U=0;U<R.length;++U)R[U]=D[U].listener||D[U];return R})($):P($,$.length)}function E(S){var x=this._events;if(x!==void 0){var O=x[S];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}function P(S,x){for(var O=new Array(x),j=0;j<x;++j)O[j]=S[j];return O}function C(S,x,O,j){if(typeof S.on=="function")j.once?S.once(x,O):S.on(x,O);else{if(typeof S.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S);S.addEventListener(x,(function $(D){j.once&&S.removeEventListener(x,$),O(D)}))}}return Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number"||S<0||r(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");s=S}}),i.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||r(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(S){for(var x=[],O=1;O<arguments.length;O++)x.push(arguments[O]);var j=S==="error",$=this._events;if($!==void 0)j=j&&$.error===void 0;else if(!j)return!1;if(j){var D;if(x.length>0&&(D=x[0]),D instanceof Error)throw D;var R=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw R.context=D,R}var U=$[S];if(U===void 0)return!1;if(typeof U=="function")n(U,this,x);else{var G=U.length,X=P(U,G);for(O=0;O<G;++O)n(X[O],this,x)}return!0},i.prototype.addListener=function(S,x){return d(this,S,x,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(S,x){return d(this,S,x,!0)},i.prototype.once=function(S,x){return l(x),this.on(S,v(this,S,x)),this},i.prototype.prependOnceListener=function(S,x){return l(x),this.prependListener(S,v(this,S,x)),this},i.prototype.removeListener=function(S,x){var O,j,$,D,R;if(l(x),(j=this._events)===void 0)return this;if((O=j[S])===void 0)return this;if(O===x||O.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete j[S],j.removeListener&&this.emit("removeListener",S,O.listener||x));else if(typeof O!="function"){for($=-1,D=O.length-1;D>=0;D--)if(O[D]===x||O[D].listener===x){R=O[D].listener,$=D;break}if($<0)return this;$===0?O.shift():(function(U,G){for(;G+1<U.length;G++)U[G]=U[G+1];U.pop()})(O,$),O.length===1&&(j[S]=O[0]),j.removeListener!==void 0&&this.emit("removeListener",S,R||x)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(S){var x,O,j;if((O=this._events)===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[S]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete O[S]),this;if(arguments.length===0){var $,D=Object.keys(O);for(j=0;j<D.length;++j)($=D[j])!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=O[S])=="function")this.removeListener(S,x);else if(x!==void 0)for(j=x.length-1;j>=0;j--)this.removeListener(S,x[j]);return this},i.prototype.listeners=function(S){return _(this,S,!0)},i.prototype.rawListeners=function(S){return _(this,S,!1)},i.listenerCount=function(S,x){return typeof S.listenerCount=="function"?S.listenerCount(x):E.call(S,x)},i.prototype.listenerCount=E,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]},Uu.exports})(),qu=ZF(Py),TE=Object.prototype.hasOwnProperty;function xE(t,e,n){for(n of t.keys())if(mn(n,e))return n}function mn(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&mn(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if((i=r)&&typeof i=="object"&&!(i=xE(e,i))||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if((i=r[0])&&typeof i=="object"&&!(i=xE(e,i))||!mn(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){for(n in r=0,t)if(TE.call(t,n)&&++r&&!TE.call(e,n)||!(n in e)||!mn(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!=t&&e!=e}const eB={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},qO={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Dt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},fn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ea={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};let ne=class ro{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map((r=>parseInt(r,10)||0));if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map((r=>parseInt(r,10)||0));if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=ro.getVersionPrecision(e),s=ro.getVersionPrecision(n);let l=Math.max(i,s),u=0;const d=ro.map([e,n],(m=>{const v=l-ro.getVersionPrecision(m),_=m+new Array(v+1).join(".0");return ro.map(_.split("."),(E=>new Array(20-E.length).join("0")+E)).reverse()}));for(r&&(u=l-Math.min(i,s)),l-=1;l>=u;){if(d[0][l]>d[1][l])return 1;if(d[0][l]===d[1][l]){if(l===u)return 0;l-=1}else if(d[0][l]<d[1][l])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const s=e[r];if(n(s,r))return s}}static assign(e,...n){const r=e;let i,s;if(Object.assign)return Object.assign(e,...n);for(i=0,s=n.length;i<s;i+=1){const l=n[i];typeof l=="object"&&l!==null&&Object.keys(l).forEach((u=>{r[u]=l[u]}))}return e}static getBrowserAlias(e){return eB[e]}static getBrowserTypeByAlias(e){return qO[e]||""}};const ut=/version\/(\d+(\.?_?\d+)+)/i,tB=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=ne.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=ne.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=ne.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=ne.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=ne.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=ne.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=ne.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=ne.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=ne.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=ne.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=ne.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=ne.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=ne.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=ne.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=ne.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=ne.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=ne.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=ne.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=ne.getFirstMatch(ut,t)||ne.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=ne.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=ne.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=ne.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=ne.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=ne.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=ne.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=ne.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=ne.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=ne.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=ne.getFirstMatch(ut,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ne.getFirstMatch(e,t),version:ne.getSecondMatch(e,t)}}}];var nB=[{test:[/Roku\/DVP/],describe(t){const e=ne.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:fn.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=ne.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:fn.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=ne.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=ne.getWindowsVersionName(e);return{name:fn.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:fn.iOS},n=ne.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=ne.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=ne.getMacOSVersionName(e),r={name:fn.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=ne.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:fn.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=ne.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=ne.getAndroidVersionName(e),r={name:fn.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=ne.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:fn.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=ne.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||ne.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||ne.getFirstMatch(/\bbb(\d+)/i,t);return{name:fn.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=ne.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:fn.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=ne.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:fn.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:fn.Linux})},{test:[/CrOS/],describe:()=>({name:fn.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=ne.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:fn.PlayStation4,version:e}}}],rB=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=ne.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Dt.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Dt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Dt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Dt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Dt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Dt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Dt.tablet})},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=ne.getFirstMatch(/(ipod|iphone)/i,t);return{type:Dt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Dt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Dt.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:Dt.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:Dt.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:Dt.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:Dt.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:Dt.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:Dt.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:Dt.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:Dt.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:Dt.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:Dt.tv})}],iB=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:ea.Blink};const e=ne.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:ea.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:ea.Trident},n=ne.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:ea.Presto},n=ne.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:ea.Gecko},n=ne.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:ea.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:ea.WebKit},n=ne.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];let ME=class{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ne.find(tB,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ne.find(nB,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=ne.find(rB,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ne.find(iB,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ne.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let s=0;if(Object.keys(e).forEach((l=>{const u=e[l];typeof u=="string"?(i[l]=u,s+=1):typeof u=="object"&&(n[l]=u,r+=1)})),r>0){const l=Object.keys(n),u=ne.find(l,(m=>this.isOS(m)));if(u){const m=this.satisfies(n[u]);if(m!==void 0)return m}const d=ne.find(l,(m=>this.isPlatform(m)));if(d){const m=this.satisfies(n[d]);if(m!==void 0)return m}}if(s>0){const l=Object.keys(i),u=ne.find(l,(d=>this.isBrowser(d,!0)));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const s=ne.getBrowserTypeByAlias(i);return n&&s&&(i=s.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(ne.compareVersions(s,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((n=>this.is(n)))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */let aB=class{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new ME(e,n)}static parse(e){return new ME(e).getResult()}static get BROWSER_MAP(){return qO}static get ENGINE_MAP(){return ea}static get OS_MAP(){return fn}static get PLATFORMS_MAP(){return Dt}};function jh(){return Date.now()+Math.random().toString()}function Pc(){throw new Error("Method must be implemented in subclass")}function WO(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function eh(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:WO("https://c.daily.co/call-machine/versioned/".concat("0.84.0","/static/call-machine-object-bundle.js"),t)}function th(t){try{new URL(t)}catch{return!1}return!0}const gt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Za="8.55.0",et=globalThis;function nh(t,e,n){const r=et,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Za]=i[Za]||{};return s[t]||(s[t]=e())}const _s=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Oy=["debug","info","warn","error","log","assert","trace"],rh={};function ul(t){if(!("console"in et))return t();const e=et.console,n={},r=Object.keys(rh);r.forEach((i=>{const s=rh[i];n[i]=e[i],e[i]=s}));try{return t()}finally{r.forEach((i=>{e[i]=n[i]}))}}const je=nh("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return _s?Oy.forEach((n=>{e[n]=(...r)=>{t&&ul((()=>{et.console[n](`Sentry Logger [${n}]:`,...r)}))}})):Oy.forEach((n=>{e[n]=()=>{}})),e})),Ka="?",AE=/\(error: (.*)\)/,PE=/captureMessage|captureException/;function Wu(t){return t[t.length-1]||{}}const OE="<anonymous>";function ha(t){try{return t&&typeof t=="function"&&t.name||OE}catch{return OE}}function jE(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach((r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)})),n}catch{return}}}const Nd={},IE={};function es(t,e){Nd[t]=Nd[t]||[],Nd[t].push(e)}function ts(t,e){if(!IE[t]){IE[t]=!0;try{e()}catch(n){_s&&je.error(`Error while instrumenting ${t}`,n)}}}function kr(t,e){const n=t&&Nd[t];if(n)for(const r of n)try{r(e)}catch(i){_s&&je.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ha(r)}
Error:`,i)}}let lm=null;function sB(){lm=et.onerror,et.onerror=function(t,e,n,r,i){return kr("error",{column:r,error:i,line:n,msg:t,url:e}),!!lm&&lm.apply(this,arguments)},et.onerror.__SENTRY_INSTRUMENTED__=!0}let um=null;function oB(){um=et.onunhandledrejection,et.onunhandledrejection=function(t){return kr("unhandledrejection",t),!um||um.apply(this,arguments)},et.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Ih(){return rb(et),et}function rb(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Za,e[Za]=e[Za]||{}}const VO=Object.prototype.toString;function ib(t){switch(VO.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ds(t,Error)}}function Ro(t,e){return VO.call(t)===`[object ${e}]`}function zO(t){return Ro(t,"ErrorEvent")}function LE(t){return Ro(t,"DOMError")}function vi(t){return Ro(t,"String")}function ab(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function jy(t){return t===null||ab(t)||typeof t!="object"&&typeof t!="function"}function wo(t){return Ro(t,"Object")}function Lh(t){return typeof Event<"u"&&ds(t,Event)}function Nh(t){return!!(t&&t.then&&typeof t.then=="function")}function ds(t,e){try{return t instanceof e}catch{return!1}}function HO(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}const sb=et;function JO(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let s=0,l=0;const u=" > ",d=u.length;let m;const v=Array.isArray(e)?e:e.keyAttrs,_=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&s++<r&&(m=cB(n,v),!(m==="html"||s>1&&l+i.length*d+m.length>=_));)i.push(m),l+=m.length,n=n.parentNode;return i.reverse().join(u)}catch{return"<unknown>"}}function cB(t,e){const n=t,r=[];if(!n||!n.tagName)return"";if(sb.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=e&&e.length?e.filter((l=>n.getAttribute(l))).map((l=>[l,n.getAttribute(l)])):null;if(i&&i.length)i.forEach((l=>{r.push(`[${l[0]}="${l[1]}"]`)}));else{n.id&&r.push(`#${n.id}`);const l=n.className;if(l&&vi(l)){const u=l.split(/\s+/);for(const d of u)r.push(`.${d}`)}}const s=["aria-label","type","name","title","alt"];for(const l of s){const u=n.getAttribute(l);u&&r.push(`[${l}="${u}"]`)}return r.join("")}function fo(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function NE(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const i=t[r];try{HO(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function lB(t,e,n=!1){return!!vi(t)&&(Ro(e,"RegExp")?e.test(t):!!vi(e)&&(n?t===e:t.includes(e)))}function Vu(t,e=[],n=!1){return e.some((r=>lB(t,r,n)))}function Nn(t,e,n){if(!(e in t))return;const r=t[e],i=n(r);typeof i=="function"&&GO(i,r);try{t[e]=i}catch{_s&&je.log(`Failed to replace method "${e}" in object`,t)}}function hs(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{_s&&je.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function GO(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,hs(t,"__sentry_original__",e)}catch{}}function ob(t){return t.__sentry_original__}function YO(t){if(ib(t))return{message:t.message,name:t.name,stack:t.stack,...RE(t)};if(Lh(t)){const e={type:t.type,target:DE(t.target),currentTarget:DE(t.currentTarget),...RE(t)};return typeof CustomEvent<"u"&&ds(t,CustomEvent)&&(e.detail=t.detail),e}return t}function DE(t){try{return e=t,typeof Element<"u"&&ds(e,Element)?JO(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function RE(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function Yn(t){return Iy(t,new Map)}function Iy(t,e){if((function(n){if(!wo(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}})(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const i of Object.getOwnPropertyNames(t))t[i]!==void 0&&(r[i]=Iy(t[i],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach((i=>{r.push(Iy(i,e))})),r}return t}function dl(){return Date.now()/1e3}const ki=(function(){const{performance:t}=et;if(!t||!t.now)return dl;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/1e3})();function Xn(){const t=et,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,(r=>(r^(15&n())>>r/4).toString(16)))}function QO(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function aa(t){const{message:e,event_id:n}=t;if(e)return e;const r=QO(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ly(t,e,n){const r=t.exception=t.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type="Error")}function ko(t,e){const n=QO(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const i={...r&&r.data,...e.data};n.mechanism.data=i}}function $E(t){if((function(e){try{return e.__sentry_captured__}catch{}})(t))return!0;try{hs(t,"__sentry_captured__",!0)}catch{}return!1}var hi;function fs(t){return new hl((e=>{e(t)}))}function ih(t){return new hl(((e,n)=>{n(t)}))}(()=>{const{performance:t}=et;!t||!t.now||(t.now(),t.timing&&t.timing.navigationStart)})(),(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(hi||(hi={}));let hl=class Ha{constructor(e){Ha.prototype.__init.call(this),Ha.prototype.__init2.call(this),Ha.prototype.__init3.call(this),Ha.prototype.__init4.call(this),this._state=hi.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Ha(((r,i)=>{this._handlers.push([!1,s=>{if(e)try{r(e(s))}catch(l){i(l)}else r(s)},s=>{if(n)try{r(n(s))}catch(l){i(l)}else i(s)}]),this._executeHandlers()}))}catch(e){return this.then((n=>n),e)}finally(e){return new Ha(((n,r)=>{let i,s;return this.then((l=>{s=!1,i=l,e&&e()}),(l=>{s=!0,i=l,e&&e()})).then((()=>{s?r(i):n(i)}))}))}__init(){this._resolve=e=>{this._setResult(hi.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(hi.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{this._state===hi.PENDING&&(Nh(n)?n.then(this._resolve,this._reject):(this._state=e,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===hi.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((n=>{n[0]||(this._state===hi.RESOLVED&&n[1](this._value),this._state===hi.REJECTED&&n[2](this._value),n[0]=!0)}))}}};function uB(t){const e=ki(),n={sid:Xn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(function(r){return Yn({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})})(n)};return t&&So(n,t),n}function So(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ki(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Xn()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function FE(){return Xn()}function Ny(){return Xn().substring(16)}function Dh(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const r={...t};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=Dh(r[i],e[i],n-1));return r}const Dy="_sentrySpan";function BE(t,e){e?hs(t,Dy,e):delete t[Dy]}function UE(t){return t[Dy]}let dB=class KO{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:FE(),spanId:Ny()}}clone(){const e=new KO;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,BE(e,UE(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&So(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[r,i]=n instanceof fa?[n.getScopeData(),n.getRequestSession()]:wo(n)?[e,e.requestSession]:[],{tags:s,extra:l,user:u,contexts:d,level:m,fingerprint:v=[],propagationContext:_}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...l},this._contexts={...this._contexts,...d},u&&Object.keys(u).length&&(this._user=u),m&&(this._level=m),v.length&&(this._fingerprint=v),_&&(this._propagationContext=_),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,BE(this,void 0),this._attachments=[],this.setPropagationContext({traceId:FE()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const i={timestamp:dl(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:UE(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Dh(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Ny(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:Xn();if(!this._client)return je.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureMessage(e,n,r){const i=r&&r.event_id?r.event_id:Xn();if(!this._client)return je.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i},this),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:Xn();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(je.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}};const fa=dB;let hB=class{constructor(e,n){let r,i;r=e||new fa,i=n||new fa,this._stack=[{scope:r}],this._isolationScope=i}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(i){throw this._popScope(),i}return Nh(r)?r.then((i=>(this._popScope(),i)),(i=>{throw this._popScope(),i})):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}};function Eo(){const t=rb(Ih());return t.stack=t.stack||new hB(nh("defaultCurrentScope",(()=>new fa)),nh("defaultIsolationScope",(()=>new fa)))}function fB(t){return Eo().withScope(t)}function pB(t,e){const n=Eo();return n.withScope((()=>(n.getStackTop().scope=t,e(t))))}function qE(t){return Eo().withScope((()=>t(Eo().getIsolationScope())))}function cb(t){const e=rb(t);return e.acs?e.acs:{withIsolationScope:qE,withScope:fB,withSetScope:pB,withSetIsolationScope:(n,r)=>qE(r),getCurrentScope:()=>Eo().getScope(),getIsolationScope:()=>Eo().getIsolationScope()}}function bs(){return cb(Ih()).getCurrentScope()}function fl(){return cb(Ih()).getIsolationScope()}function an(){return bs().getClient()}function mB(t){const e=t.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=e;return Yn({trace_id:n,span_id:r,parent_span_id:i})}function gB(t){const e=t._sentryMetrics;if(!e)return;const n={};for(const[,[r,i]]of e)(n[r]||(n[r]=[])).push(Yn(i));return n}const vB=/^sentry-/;function yB(t){const e=(function(r){if(!(!r||!vi(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce(((i,s)=>{const l=WE(s);return Object.entries(l).forEach((([u,d])=>{i[u]=d})),i}),{}):WE(r)})(t);if(!e)return;const n=Object.entries(e).reduce(((r,[i,s])=>(i.match(vB)&&(r[i.slice(7)]=s),r)),{});return Object.keys(n).length>0?n:void 0}function WE(t){return t.split(",").map((e=>e.split("=").map((n=>decodeURIComponent(n.trim()))))).reduce(((e,[n,r])=>(n&&r&&(e[n]=r),e)),{})}let VE=!1;function _B(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext();return Yn({parent_span_id:r?e:lb(t).parent_span_id,span_id:r?Ny():e,trace_id:n})}function zE(t){return typeof t=="number"?HE(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?HE(t.getTime()):ki()}function HE(t){return t>9999999999?t/1e3:t}function lb(t){if((function(e){return typeof e.getSpanJSON=="function"})(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if((function(r){const i=r;return!!(i.attributes&&i.startTime&&i.name&&i.endTime&&i.status)})(t)){const{attributes:r,startTime:i,name:s,endTime:l,parentSpanId:u,status:d}=t;return Yn({span_id:e,trace_id:n,data:r,description:s,parent_span_id:u,start_timestamp:zE(i),timestamp:zE(l)||void 0,status:bB(d),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:gB(t)})}return{span_id:e,trace_id:n}}catch{return{}}}function bB(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function XO(t){return t._sentryRootSpan||t}function wB(){VE||(ul((()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")})),VE=!0)}const ub="production";function ZO(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},i=Yn({environment:n.environment||ub,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",i),i}function kB(t){const e=an();if(!e)return{};const n=XO(t),r=n._frozenDsc;if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),l=s&&yB(s);if(l)return l;const u=ZO(t.spanContext().traceId,e),d=lb(n),m=d.data||{},v=m["sentry.sample_rate"];v!=null&&(u.sample_rate=`${v}`);const _=m["sentry.source"],E=d.description;return _!=="url"&&E&&(u.transaction=E),(function(P){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const C=an(),S=C&&C.getOptions();return!!S&&(S.enableTracing||"tracesSampleRate"in S||"tracesSampler"in S)})()&&(u.sampled=String((function(P){const{traceFlags:C}=P.spanContext();return C===1})(n))),e.emit("createDsc",u,n),u}const SB=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ah(t,e=!1){const{host:n,path:r,pass:i,port:s,projectId:l,protocol:u,publicKey:d}=t;return`${u}://${d}${e&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${l}`}function JE(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function EB(t){const e=typeof t=="string"?(function(n){const r=SB.exec(n);if(!r)return void ul((()=>{console.error(`Invalid Sentry Dsn: ${n}`)}));const[i,s,l="",u="",d="",m=""]=r.slice(1);let v="",_=m;const E=_.split("/");if(E.length>1&&(v=E.slice(0,-1).join("/"),_=E.pop()),_){const P=_.match(/^\d+/);P&&(_=P[0])}return JE({host:u,pass:l,path:v,projectId:_,port:d,protocol:i,publicKey:s})})(t):JE(t);if(e&&(function(n){if(!_s)return!0;const{port:r,projectId:i,protocol:s}=n;return!(["protocol","publicKey","host","projectId"].find((l=>!n[l]&&(je.error(`Invalid Sentry Dsn: ${l} missing`),!0)))||(i.match(/^\d+$/)?(function(l){return l==="http"||l==="https"})(s)?r&&isNaN(parseInt(r,10))&&(je.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(je.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(je.error(`Invalid Sentry Dsn: Invalid projectId ${i}`),1)))})(e))return e}function fi(t,e=100,n=1/0){try{return Ry("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function ej(t,e=3,n=102400){const r=fi(t,e);return i=r,(function(s){return~-encodeURI(s).split(/%..|./).length})(JSON.stringify(i))>n?ej(t,e-1,n):r;var i}function Ry(t,e,n=1/0,r=1/0,i=(function(){const s=typeof WeakSet=="function",l=s?new WeakSet:[];return[function(u){if(s)return!!l.has(u)||(l.add(u),!1);for(let d=0;d<l.length;d++)if(l[d]===u)return!0;return l.push(u),!1},function(u){if(s)l.delete(u);else for(let d=0;d<l.length;d++)if(l[d]===u){l.splice(d,1);break}}]})()){const[s,l]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const u=(function(P,C){try{if(P==="domain"&&C&&typeof C=="object"&&C._events)return"[Domain]";if(P==="domainEmitter")return"[DomainEmitter]";if(typeof globalThis<"u"&&C===globalThis)return"[Global]";if(typeof window<"u"&&C===window)return"[Window]";if(typeof document<"u"&&C===document)return"[Document]";if(HO(C))return"[VueViewModel]";if(wo(S=C)&&"nativeEvent"in S&&"preventDefault"in S&&"stopPropagation"in S)return"[SyntheticEvent]";if(typeof C=="number"&&!Number.isFinite(C))return`[${C}]`;if(typeof C=="function")return`[Function: ${ha(C)}]`;if(typeof C=="symbol")return`[${String(C)}]`;if(typeof C=="bigint")return`[BigInt: ${String(C)}]`;const x=(function(O){const j=Object.getPrototypeOf(O);return j?j.constructor.name:"null prototype"})(C);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var S})(t,e);if(!u.startsWith("[object "))return u;if(e.__sentry_skip_normalization__)return e;const d=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(d===0)return u.replace("object ","");if(s(e))return"[Circular ~]";const m=e;if(m&&typeof m.toJSON=="function")try{return Ry("",m.toJSON(),d-1,r,i)}catch{}const v=Array.isArray(e)?[]:{};let _=0;const E=YO(e);for(const P in E){if(!Object.prototype.hasOwnProperty.call(E,P))continue;if(_>=r){v[P]="[MaxProperties ~]";break}const C=E[P];v[P]=Ry(P,C,d-1,r,i),_++}return l(e),v}function nl(t,e=[]){return[t,e]}function CB(t,e){const[n,r]=t;return[n,[...r,e]]}function GE(t,e){const n=t[1];for(const r of n)if(e(r,r[0].type))return!0;return!1}function $y(t){return et.__SENTRY__&&et.__SENTRY__.encodePolyfill?et.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function TB(t){const[e,n]=t;let r=JSON.stringify(e);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[$y(r),s]:r.push(typeof s=="string"?$y(s):s)}for(const s of n){const[l,u]=s;if(i(`
${JSON.stringify(l)}
`),typeof u=="string"||u instanceof Uint8Array)i(u);else{let d;try{d=JSON.stringify(u)}catch{d=JSON.stringify(fi(u))}i(d)}}return typeof r=="string"?r:(function(s){const l=s.reduce(((m,v)=>m+v.length),0),u=new Uint8Array(l);let d=0;for(const m of s)u.set(m,d),d+=m.length;return u})(r)}function xB(t){const e=typeof t.data=="string"?$y(t.data):t.data;return[Yn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const MB={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function YE(t){return MB[t]}function tj(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function AB(t,e,n,r){const i=tj(n),s=t.type&&t.type!=="replay_event"?t.type:"event";(function(u,d){d&&(u.sdk=u.sdk||{},u.sdk.name=u.sdk.name||d.name,u.sdk.version=u.sdk.version||d.version,u.sdk.integrations=[...u.sdk.integrations||[],...d.integrations||[]],u.sdk.packages=[...u.sdk.packages||[],...d.packages||[]])})(t,n&&n.sdk);const l=(function(u,d,m,v){const _=u.sdkProcessingMetadata&&u.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:u.event_id,sent_at:new Date().toISOString(),...d&&{sdk:d},...!!m&&v&&{dsn:ah(v)},..._&&{trace:Yn({..._})}}})(t,i,r,e);return delete t.sdkProcessingMetadata,nl(l,[[{type:s},t]])}function Fy(t,e,n,r=0){return new hl(((i,s)=>{const l=t[r];if(e===null||typeof l!="function")i(e);else{const u=l({...e},n);gt&&l.id&&u===null&&je.log(`Event processor "${l.id}" dropped event`),Nh(u)?u.then((d=>Fy(t,d,n,r+1).then(i))).then(null,s):Fy(t,u,n,r+1).then(i).then(null,s)}}))}let zu,QE,dm;function PB(t,e){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=e;(function(l,u){const{extra:d,tags:m,user:v,contexts:_,level:E,transactionName:P}=u,C=Yn(d);C&&Object.keys(C).length&&(l.extra={...C,...l.extra});const S=Yn(m);S&&Object.keys(S).length&&(l.tags={...S,...l.tags});const x=Yn(v);x&&Object.keys(x).length&&(l.user={...x,...l.user});const O=Yn(_);O&&Object.keys(O).length&&(l.contexts={...O,...l.contexts}),E&&(l.level=E),P&&l.type!=="transaction"&&(l.transaction=P)})(t,e),r&&(function(l,u){l.contexts={trace:_B(u),...l.contexts},l.sdkProcessingMetadata={dynamicSamplingContext:kB(u),...l.sdkProcessingMetadata};const d=XO(u),m=lb(d).description;m&&!l.transaction&&l.type==="transaction"&&(l.transaction=m)})(t,r),(function(l,u){l.fingerprint=l.fingerprint?Array.isArray(l.fingerprint)?l.fingerprint:[l.fingerprint]:[],u&&(l.fingerprint=l.fingerprint.concat(u)),l.fingerprint&&!l.fingerprint.length&&delete l.fingerprint})(t,n),(function(l,u){const d=[...l.breadcrumbs||[],...u];l.breadcrumbs=d.length?d:void 0})(t,i),(function(l,u){l.sdkProcessingMetadata={...l.sdkProcessingMetadata,...u}})(t,s)}function KE(t,e){const{extra:n,tags:r,user:i,contexts:s,level:l,sdkProcessingMetadata:u,breadcrumbs:d,fingerprint:m,eventProcessors:v,attachments:_,propagationContext:E,transactionName:P,span:C}=e;Hu(t,"extra",n),Hu(t,"tags",r),Hu(t,"user",i),Hu(t,"contexts",s),t.sdkProcessingMetadata=Dh(t.sdkProcessingMetadata,u,2),l&&(t.level=l),P&&(t.transactionName=P),C&&(t.span=C),d.length&&(t.breadcrumbs=[...t.breadcrumbs,...d]),m.length&&(t.fingerprint=[...t.fingerprint,...m]),v.length&&(t.eventProcessors=[...t.eventProcessors,...v]),_.length&&(t.attachments=[...t.attachments,..._]),t.propagationContext={...t.propagationContext,...E}}function Hu(t,e,n){t[e]=Dh(t[e],n,1)}function OB(t,e,n,r,i,s){const{normalizeDepth:l=3,normalizeMaxBreadth:u=1e3}=t,d={...e,event_id:e.event_id||n.event_id||Xn(),timestamp:e.timestamp||dl()},m=n.integrations||t.integrations.map((C=>C.name));(function(C,S){const{environment:x,release:O,dist:j,maxValueLength:$=250}=S;C.environment=C.environment||x||ub,!C.release&&O&&(C.release=O),!C.dist&&j&&(C.dist=j),C.message&&(C.message=fo(C.message,$));const D=C.exception&&C.exception.values&&C.exception.values[0];D&&D.value&&(D.value=fo(D.value,$));const R=C.request;R&&R.url&&(R.url=fo(R.url,$))})(d,t),(function(C,S){S.length>0&&(C.sdk=C.sdk||{},C.sdk.integrations=[...C.sdk.integrations||[],...S])})(d,m),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&(function(C,S){const x=(function(O){const j=et._sentryDebugIds;if(!j)return{};const $=Object.keys(j);return dm&&$.length===QE||(QE=$.length,dm=$.reduce(((D,R)=>{zu||(zu={});const U=zu[R];if(U)D[U[0]]=U[1];else{const G=O(R);for(let X=G.length-1;X>=0;X--){const oe=G[X],ce=oe&&oe.filename,le=j[R];if(ce&&le){D[ce]=le,zu[R]=[ce,le];break}}}return D}),{})),dm})(S);try{C.exception.values.forEach((O=>{O.stacktrace.frames.forEach((j=>{x&&j.filename&&(j.debug_id=x[j.filename])}))}))}catch{}})(d,t.stackParser);const v=(function(C,S){if(!S)return C;const x=C?C.clone():new fa;return x.update(S),x})(r,n.captureContext);n.mechanism&&ko(d,n.mechanism);const _=i?i.getEventProcessors():[],E=nh("globalScope",(()=>new fa)).getScopeData();s&&KE(E,s.getScopeData()),v&&KE(E,v.getScopeData());const P=[...n.attachments||[],...E.attachments];return P.length&&(n.attachments=P),PB(d,E),Fy([..._,...E.eventProcessors],d,n).then((C=>(C&&(function(S){const x={};try{S.exception.values.forEach((j=>{j.stacktrace.frames.forEach(($=>{$.debug_id&&($.abs_path?x[$.abs_path]=$.debug_id:$.filename&&(x[$.filename]=$.debug_id),delete $.debug_id)}))}))}catch{}if(Object.keys(x).length===0)return;S.debug_meta=S.debug_meta||{},S.debug_meta.images=S.debug_meta.images||[];const O=S.debug_meta.images;Object.entries(x).forEach((([j,$])=>{O.push({type:"sourcemap",code_file:j,debug_id:$})}))})(C),typeof l=="number"&&l>0?(function(S,x,O){if(!S)return null;const j={...S,...S.breadcrumbs&&{breadcrumbs:S.breadcrumbs.map(($=>({...$,...$.data&&{data:fi($.data,x,O)}})))},...S.user&&{user:fi(S.user,x,O)},...S.contexts&&{contexts:fi(S.contexts,x,O)},...S.extra&&{extra:fi(S.extra,x,O)}};return S.contexts&&S.contexts.trace&&j.contexts&&(j.contexts.trace=S.contexts.trace,S.contexts.trace.data&&(j.contexts.trace.data=fi(S.contexts.trace.data,x,O))),S.spans&&(j.spans=S.spans.map(($=>({...$,...$.data&&{data:fi($.data,x,O)}})))),S.contexts&&S.contexts.flags&&j.contexts&&(j.contexts.flags=fi(S.contexts.flags,3,O)),j})(C,l,u):C)))}function XE(t,e){return bs().captureEvent(t,e)}function ZE(t){const e=an(),n=fl(),r=bs(),{release:i,environment:s=ub}=e&&e.getOptions()||{},{userAgent:l}=et.navigator||{},u=uB({release:i,environment:s,user:r.getUser()||n.getUser(),...l&&{userAgent:l},...t}),d=n.getSession();return d&&d.status==="ok"&&So(d,{status:"exited"}),nj(),n.setSession(u),r.setSession(u),u}function nj(){const t=fl(),e=bs(),n=e.getSession()||t.getSession();n&&(function(r,i){let s={};r.status==="ok"&&(s={status:"exited"}),So(r,s)})(n),rj(),t.setSession(),e.setSession()}function rj(){const t=fl(),e=bs(),n=an(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}function eC(t=!1){t?nj():rj()}function jB(t,e,n){return e||`${(function(r){return`${(function(i){const s=i.protocol?`${i.protocol}:`:"",l=i.port?`:${i.port}`:"";return`${s}//${i.host}${l}${i.path?`/${i.path}`:""}/api/`})(r)}${r.projectId}/envelope/`})(t)}?${(function(r,i){const s={sentry_version:"7"};return r.publicKey&&(s.sentry_key=r.publicKey),i&&(s.sentry_client=`${i.name}/${i.version}`),new URLSearchParams(s).toString()})(t,n)}`}const tC=[];function nC(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function rC(t,e,n){if(n[e.name])gt&&je.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,tC.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),tC.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",((i,s)=>r(i,s,t)))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),i=Object.assign(((s,l)=>r(s,l,t)),{id:e.name});t.addEventProcessor(i)}gt&&je.log(`Integration installed: ${e.name}`)}}let yr=class extends Error{constructor(e,n="warn"){super(e),this.message=e,this.logLevel=n}};const iC="Not capturing exception because it's already been captured.";let IB=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=EB(e.dsn):gt&&je.warn("No DSN provided, client will not send events."),this._dsn){const r=jB(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find((r=>r in e&&e[r]==null));n&&ul((()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)}))}captureException(e,n,r){const i=Xn();if($E(e))return gt&&je.log(iC),i;const s={event_id:i,...n};return this._process(this.eventFromException(e,s).then((l=>this._captureEvent(l,s,r)))),s.event_id}captureMessage(e,n,r,i){const s={event_id:Xn(),...r},l=ab(e)?e:String(e),u=jy(e)?this.eventFromMessage(l,n,s):this.eventFromException(e,s);return this._process(u.then((d=>this._captureEvent(d,s,i)))),s.event_id}captureEvent(e,n,r){const i=Xn();if(n&&n.originalException&&$E(n.originalException))return gt&&je.log(iC),i;const s={event_id:i,...n},l=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,l||r)),s.event_id}captureSession(e){typeof e.release!="string"?gt&&je.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),So(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then((r=>n.flush(e).then((i=>r&&i))))):fs(!0)}close(e){return this.flush(e).then((n=>(this.getOptions().enabled=!1,this.emit("close"),n)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];rC(this,e,this._integrations),n||nC(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=AB(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=CB(r,xB(s));const i=this.sendEnvelope(r);i&&i.then((s=>this.emit("afterSendEvent",e,s)),null)}sendSession(e){const n=(function(r,i,s,l){const u=tj(s);return nl({sent_at:new Date().toISOString(),...u&&{sdk:u},...!!l&&i&&{dsn:ah(i)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])})(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${e}:${n}`;gt&&je.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(e,n){const r=this._hooks[e]=this._hooks[e]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach((i=>i(...n)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(n=>(gt&&je.error("Error while sending envelope:",n),n))):(gt&&je.error("Transport disabled"),fs({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(function(n,r){const i={};return r.forEach((s=>{s&&rC(n,s,i)})),i})(this,e),nC(this,e)}_updateSessionFromEvent(e,n){let r=n.level==="fatal",i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const u of s){const d=u.mechanism;if(d&&d.handled===!1){r=!0;break}}}const l=e.status==="ok";(l&&e.errors===0||l&&r)&&(So(e,{...r&&{status:"crashed"},errors:e.errors||Number(i||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new hl((n=>{let r=0;const i=setInterval((()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r=bs(),i=fl()){const s=this.getOptions(),l=Object.keys(this._integrations);return!n.integrations&&l.length>0&&(n.integrations=l),this.emit("preprocessEvent",e,n),e.type||i.setLastEventId(e.event_id||n.event_id),OB(s,e,n,r,this,i).then((u=>{if(u===null)return u;u.contexts={trace:mB(r),...u.contexts};const d=(function(m,v){const _=v.getPropagationContext();return _.dsc||ZO(_.traceId,m)})(this,r);return u.sdkProcessingMetadata={dynamicSamplingContext:d,...u.sdkProcessingMetadata},u}))}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then((i=>i.event_id),(i=>{gt&&(i instanceof yr&&i.logLevel==="log"?je.log(i.message):je.warn(i))}))}_processEvent(e,n,r){const i=this.getOptions(),{sampleRate:s}=i,l=sC(e),u=aC(e),d=e.type||"error",m=`before send for type \`${d}\``,v=s===void 0?void 0:(function(P){if(typeof P=="boolean")return Number(P);const C=typeof P=="string"?parseFloat(P):P;if(!(typeof C!="number"||isNaN(C)||C<0||C>1))return C;gt&&je.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(P)} of type ${JSON.stringify(typeof P)}.`)})(s);if(u&&typeof v=="number"&&Math.random()>v)return this.recordDroppedEvent("sample_rate","error",e),ih(new yr(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const _=d==="replay_event"?"replay":d,E=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,E).then((P=>{if(P===null)throw this.recordDroppedEvent("event_processor",_,e),new yr("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return P;const C=(function(S,x,O,j){const{beforeSend:$,beforeSendTransaction:D,beforeSendSpan:R}=x;if(aC(O)&&$)return $(O,j);if(sC(O)){if(O.spans&&R){const U=[];for(const G of O.spans){const X=R(G);X?U.push(X):(wB(),S.recordDroppedEvent("before_send","span"))}O.spans=U}if(D){if(O.spans){const U=O.spans.length;O.sdkProcessingMetadata={...O.sdkProcessingMetadata,spanCountBeforeProcessing:U}}return D(O,j)}}return O})(this,i,P,n);return(function(S,x){const O=`${x} must return \`null\` or a valid event.`;if(Nh(S))return S.then((j=>{if(!wo(j)&&j!==null)throw new yr(O);return j}),(j=>{throw new yr(`${x} rejected with ${j}`)}));if(!wo(S)&&S!==null)throw new yr(O);return S})(C,m)})).then((P=>{if(P===null){if(this.recordDroppedEvent("before_send",_,e),l){const x=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new yr(`${m} returned \`null\`, will not send event.`,"log")}const C=r&&r.getSession();if(!l&&C&&this._updateSessionFromEvent(C,P),l){const x=(P.sdkProcessingMetadata&&P.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(P.spans?P.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const S=P.transaction_info;if(l&&S&&P.transaction!==e.transaction){const x="custom";P.transaction_info={...S,source:x}}return this.sendEvent(P,n),P})).then(null,(P=>{throw P instanceof yr?P:(this.captureException(P,{data:{__sentry__:!0},originalException:P}),new yr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${P}`))}))}_process(e){this._numProcessing++,e.then((n=>(this._numProcessing--,n)),(n=>(this._numProcessing--,n)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}}))}_flushOutcomes(){gt&&je.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void(gt&&je.log("No outcomes to send"));if(!this._dsn)return void(gt&&je.log("No dsn provided, will not send outcomes"));gt&&je.log("Sending outcomes:",e);const n=(r=e,nl((i=this._options.tunnel&&ah(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:s||dl(),discarded_events:r}]]));var r,i,s;this.sendEnvelope(n)}};function aC(t){return t.type===void 0}function sC(t){return t.type==="transaction"}function LB(t){const e=[];function n(r){return e.splice(e.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(t===void 0||e.length<t))return ih(new yr("Not adding Promise because buffer limit was reached."));const i=r();return e.indexOf(i)===-1&&e.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(r){return new hl(((i,s)=>{let l=e.length;if(!l)return i(!0);const u=setTimeout((()=>{r&&r>0&&i(!1)}),r);e.forEach((d=>{fs(d).then((()=>{--l||(clearTimeout(u),i(!0))}),s)}))}))}}}function NB(t,{statusCode:e,headers:n},r=Date.now()){const i={...t},s=n&&n["x-sentry-rate-limits"],l=n&&n["retry-after"];if(s)for(const u of s.trim().split(",")){const[d,m,,,v]=u.split(":",5),_=parseInt(d,10),E=1e3*(isNaN(_)?60:_);if(m)for(const P of m.split(";"))P==="metric_bucket"&&v&&!v.split(";").includes("custom")||(i[P]=r+E);else i.all=r+E}else l?i.all=r+(function(u,d=Date.now()){const m=parseInt(`${u}`,10);if(!isNaN(m))return 1e3*m;const v=Date.parse(`${u}`);return isNaN(v)?6e4:v-d})(l,r):e===429&&(i.all=r+6e4);return i}function DB(t,e,n=LB(t.bufferSize||64)){let r={};return{send:function(i){const s=[];if(GE(i,((d,m)=>{const v=YE(m);if((function(_,E,P=Date.now()){return(function(C,S){return C[S]||C.all||0})(_,E)>P})(r,v)){const _=oC(d,m);t.recordDroppedEvent("ratelimit_backoff",v,_)}else s.push(d)})),s.length===0)return fs({});const l=nl(i[0],s),u=d=>{GE(l,((m,v)=>{const _=oC(m,v);t.recordDroppedEvent(d,YE(v),_)}))};return n.add((()=>e({body:TB(l)}).then((d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&gt&&je.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=NB(r,d),d)),(d=>{throw u("network_error"),d})))).then((d=>d),(d=>{if(d instanceof yr)return gt&&je.error("Skipped sending event because buffer is full."),u("queue_overflow"),fs({});throw d}))},flush:i=>n.drain(i)}}function oC(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const RB=100;function Ia(t,e){const n=an(),r=fl();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=RB}=n.getOptions();if(s<=0)return;const l={timestamp:dl(),...t},u=i?ul((()=>i(l,e))):l;u!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",u,e),r.addBreadcrumb(u,s))}let cC;const lC=new WeakMap,$B=()=>({name:"FunctionToString",setupOnce(){cC=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=ob(this),n=lC.has(an())&&e!==void 0?e:this;return cC.apply(n,t)}}catch{}},setup(t){lC.set(t,!0)}}),FB=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],BB=(t={})=>({name:"InboundFilters",processEvent(e,n,r){const i=r.getOptions(),s=(function(l={},u={}){return{allowUrls:[...l.allowUrls||[],...u.allowUrls||[]],denyUrls:[...l.denyUrls||[],...u.denyUrls||[]],ignoreErrors:[...l.ignoreErrors||[],...u.ignoreErrors||[],...l.disableErrorDefaults?[]:FB],ignoreTransactions:[...l.ignoreTransactions||[],...u.ignoreTransactions||[]],ignoreInternal:l.ignoreInternal===void 0||l.ignoreInternal}})(t,i);return(function(l,u){return u.ignoreInternal&&(function(d){try{return d.exception.values[0].type==="SentryError"}catch{}return!1})(l)?(gt&&je.warn(`Event dropped due to being internal Sentry Error.
Event: ${aa(l)}`),!0):(function(d,m){return d.type||!m||!m.length?!1:(function(v){const _=[];v.message&&_.push(v.message);let E;try{E=v.exception.values[v.exception.values.length-1]}catch{}return E&&E.value&&(_.push(E.value),E.type&&_.push(`${E.type}: ${E.value}`)),_})(d).some((v=>Vu(v,m)))})(l,u.ignoreErrors)?(gt&&je.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${aa(l)}`),!0):(function(d){return d.type||!d.exception||!d.exception.values||d.exception.values.length===0?!1:!d.message&&!d.exception.values.some((m=>m.stacktrace||m.type&&m.type!=="Error"||m.value))})(l)?(gt&&je.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${aa(l)}`),!0):(function(d,m){if(d.type!=="transaction"||!m||!m.length)return!1;const v=d.transaction;return!!v&&Vu(v,m)})(l,u.ignoreTransactions)?(gt&&je.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${aa(l)}`),!0):(function(d,m){if(!m||!m.length)return!1;const v=Ju(d);return!!v&&Vu(v,m)})(l,u.denyUrls)?(gt&&je.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${aa(l)}.
Url: ${Ju(l)}`),!0):(function(d,m){if(!m||!m.length)return!0;const v=Ju(d);return!v||Vu(v,m)})(l,u.allowUrls)?!1:(gt&&je.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${aa(l)}.
Url: ${Ju(l)}`),!0)})(e,s)?null:e}});function Ju(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?(function(n=[]){for(let r=n.length-1;r>=0;r--){const i=n[r];if(i&&i.filename!=="<anonymous>"&&i.filename!=="[native code]")return i.filename||null}return null})(e):null}catch{return gt&&je.error(`Cannot extract url for event ${aa(t)}`),null}}function UB(t,e,n=250,r,i,s,l){if(!(s.exception&&s.exception.values&&l&&ds(l.originalException,Error)))return;const u=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var d,m;u&&(s.exception.values=(d=By(t,e,i,l.originalException,r,s.exception.values,u,0),m=n,d.map((v=>(v.value&&(v.value=fo(v.value,m)),v)))))}function By(t,e,n,r,i,s,l,u){if(s.length>=n+1)return s;let d=[...s];if(ds(r[i],Error)){uC(l,u);const m=t(e,r[i]),v=d.length;dC(m,i,v,u),d=By(t,e,n,r[i],i,[m,...d],m,v)}return Array.isArray(r.errors)&&r.errors.forEach(((m,v)=>{if(ds(m,Error)){uC(l,u);const _=t(e,m),E=d.length;dC(_,`errors[${v}]`,E,u),d=By(t,e,n,m,i,[_,...d],_,E)}})),d}function uC(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function dC(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function hm(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function qB(){"console"in et&&Oy.forEach((function(t){t in et.console&&Nn(et.console,t,(function(e){return rh[t]=e,function(...n){kr("console",{args:n,level:t});const r=rh[t];r&&r.apply(et.console,n)}}))}))}function WB(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const VB=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if((function(n,r){return r?!!((function(i,s){const l=i.message,u=s.message;return!(!l&&!u||l&&!u||!l&&u||l!==u||!fC(i,s)||!hC(i,s))})(n,r)||(function(i,s){const l=pC(s),u=pC(i);return!(!l||!u||l.type!==u.type||l.value!==u.value||!fC(i,s)||!hC(i,s))})(n,r)):!1})(e,t))return gt&&je.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function hC(t,e){let n=jE(t),r=jE(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const s=r[i],l=n[i];if(s.filename!==l.filename||s.lineno!==l.lineno||s.colno!==l.colno||s.function!==l.function)return!1}return!0}function fC(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function pC(t){return t.exception&&t.exception.values&&t.exception.values[0]}function mC(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const fm=et;function Uy(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function zB(){if(typeof EdgeRuntime=="string")return!0;if(!(function(){if(!("fetch"in fm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}})())return!1;if(Uy(fm.fetch))return!0;let t=!1;const e=fm.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Uy(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){_s&&je.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function HB(t,e){const n="fetch";es(n,t),ts(n,(()=>(function(r,i=!1){i&&!zB()||Nn(et,"fetch",(function(s){return function(...l){const u=new Error,{method:d,url:m}=(function(_){if(_.length===0)return{method:"GET",url:""};if(_.length===2){const[P,C]=_;return{url:gC(P),method:qy(C,"method")?String(C.method).toUpperCase():"GET"}}const E=_[0];return{url:gC(E),method:qy(E,"method")?String(E.method).toUpperCase():"GET"}})(l),v={args:l,fetchData:{method:d,url:m},startTimestamp:1e3*ki(),virtualError:u};return r||kr("fetch",{...v}),s.apply(et,l).then((async _=>(r?r(_):kr("fetch",{...v,endTimestamp:1e3*ki(),response:_}),_)),(_=>{throw kr("fetch",{...v,endTimestamp:1e3*ki(),error:_}),ib(_)&&_.stack===void 0&&(_.stack=u.stack,hs(_,"framesToPop",1)),_}))}}))})(void 0,e)))}function qy(t,e){return!!t&&typeof t=="object"&&!!t[e]}function gC(t){return typeof t=="string"?t:t?qy(t,"url")?t.url:t.toString?t.toString():"":""}const Gu=et,Vt=et;let Wy=0;function vC(){return Wy>0}function Co(t,e={}){if(!(function(r){return typeof r=="function"})(t))return t;try{const r=t.__sentry_wrapped__;if(r)return typeof r=="function"?r:t;if(ob(t))return t}catch{return t}const n=function(...r){try{const i=r.map((s=>Co(s,e)));return t.apply(this,i)}catch(i){throw Wy++,setTimeout((()=>{Wy--})),(function(...s){const l=cb(Ih());if(s.length===2){const[u,d]=s;return u?l.withSetScope(u,d):l.withScope(d)}l.withScope(s[0])})((s=>{var l;s.addEventProcessor((u=>(e.mechanism&&(Ly(u,void 0),ko(u,e.mechanism)),u.extra={...u.extra,arguments:r},u))),l=i,bs().captureException(l,void 0)})),i}};try{for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}catch{}GO(n,t),hs(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch{}return n}const Rh=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function db(t,e){const n=hb(t,e),r={type:YB(e),value:QB(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function JB(t,e,n,r){const i=an(),s=i&&i.getOptions().normalizeDepth,l=(function(m){for(const v in m)if(Object.prototype.hasOwnProperty.call(m,v)){const _=m[v];if(_ instanceof Error)return _}})(e),u={__serialized__:ej(e,s)};if(l)return{exception:{values:[db(t,l)]},extra:u};const d={exception:{values:[{type:Lh(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:KB(e,{isUnhandledRejection:r})}]},extra:u};if(n){const m=hb(t,n);m.length&&(d.exception.values[0].stacktrace={frames:m})}return d}function pm(t,e){return{exception:{values:[db(t,e)]}}}function hb(t,e){const n=e.stacktrace||e.stack||"",r=(function(s){return s&&GB.test(s.message)?1:0})(e),i=(function(s){return typeof s.framesToPop=="number"?s.framesToPop:0})(e);try{return t(n,r,i)}catch{}return[]}const GB=/Minified React error #\d+;/i;function ij(t){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&t instanceof WebAssembly.Exception}function YB(t){const e=t&&t.name;return!e&&ij(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function QB(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:ij(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function Vy(t,e,n,r,i){let s;if(zO(e)&&e.error)return pm(t,e.error);if(LE(e)||Ro(e,"DOMException")){const l=e;if("stack"in e)s=pm(t,e);else{const u=l.name||(LE(l)?"DOMError":"DOMException"),d=l.message?`${u}: ${l.message}`:u;s=zy(t,d,n,r),Ly(s,d)}return"code"in l&&(s.tags={...s.tags,"DOMException.code":`${l.code}`}),s}return ib(e)?pm(t,e):wo(e)||Lh(e)?(s=JB(t,e,n,i),ko(s,{synthetic:!0}),s):(s=zy(t,e,n,r),Ly(s,`${e}`),ko(s,{synthetic:!0}),s)}function zy(t,e,n,r){const i={};if(r&&n){const s=hb(t,n);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]}),ko(i,{synthetic:!0})}if(ab(e)){const{__sentry_template_string__:s,__sentry_template_values__:l}=e;return i.logentry={message:s,params:l},i}return i.message=e,i}function KB(t,{isUnhandledRejection:e}){const n=(function(i,s=40){const l=Object.keys(YO(i));l.sort();const u=l[0];if(!u)return"[object has no keys]";if(u.length>=s)return fo(u,s);for(let d=l.length;d>0;d--){const m=l.slice(0,d).join(", ");if(!(m.length>s))return d===l.length?m:fo(m,s)}return""})(t),r=e?"promise rejection":"exception";return zO(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:Lh(t)?`Event \`${(function(i){try{const s=Object.getPrototypeOf(i);return s?s.constructor.name:void 0}catch{}})(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}let XB=class extends IB{constructor(e){const n={parentSpanIsAlwaysRootSpan:!0,...e};(function(r,i,s=[i],l="npm"){const u=r._metadata||{};u.sdk||(u.sdk={name:`sentry.javascript.${i}`,packages:s.map((d=>({name:`${l}:@sentry/${d}`,version:Za}))),version:Za}),r._metadata=u})(n,"browser",["browser"],Vt.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&Vt.document&&Vt.document.addEventListener("visibilitychange",(()=>{Vt.document.visibilityState==="hidden"&&this._flushOutcomes()}))}eventFromException(e,n){return(function(r,i,s,l){const u=Vy(r,i,s&&s.syntheticException||void 0,l);return ko(u),u.level="error",s&&s.event_id&&(u.event_id=s.event_id),fs(u)})(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return(function(i,s,l="info",u,d){const m=zy(i,s,u&&u.syntheticException||void 0,d);return m.level=l,u&&u.event_id&&(m.event_id=u.event_id),fs(m)})(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Rh&&je.warn("SDK not enabled, will not capture user feedback."));const n=(function(r,{metadata:i,tunnel:s,dsn:l}){const u={event_id:r.event_id,sent_at:new Date().toISOString(),...i&&i.sdk&&{sdk:{name:i.sdk.name,version:i.sdk.version}},...!!s&&!!l&&{dsn:ah(l)}};return nl(u,[(function(m){return[{type:"user_report"},m]})(r)])})(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}};const ZB=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,vn=et;let yC,mm,gm,Yu;function eU(){if(!vn.document)return;const t=kr.bind(null,"dom"),e=_C(t,!0);vn.document.addEventListener("click",e,!1),vn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((n=>{const r=vn[n],i=r&&r.prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(Nn(i,"addEventListener",(function(s){return function(l,u,d){if(l==="click"||l=="keypress")try{const m=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},v=m[l]=m[l]||{refCount:0};if(!v.handler){const _=_C(t);v.handler=_,s.call(this,l,_,d)}v.refCount++}catch{}return s.call(this,l,u,d)}})),Nn(i,"removeEventListener",(function(s){return function(l,u,d){if(l==="click"||l=="keypress")try{const m=this.__sentry_instrumentation_handlers__||{},v=m[l];v&&(v.refCount--,v.refCount<=0&&(s.call(this,l,v.handler,d),v.handler=void 0,delete m[l]),Object.keys(m).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,l,u,d)}})))}))}function _C(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=(function(s){try{return s.target}catch{return null}})(n);if((function(s,l){return s==="keypress"&&(!l||!l.tagName||l.tagName!=="INPUT"&&l.tagName!=="TEXTAREA"&&!l.isContentEditable)})(n.type,r))return;hs(n,"_sentryCaptured",!0),r&&!r._sentryId&&hs(r,"_sentryId",Xn());const i=n.type==="keypress"?"input":n.type;(function(s){if(s.type!==mm)return!1;try{if(!s.target||s.target._sentryId!==gm)return!1}catch{}return!0})(n)||(t({event:n,name:i,global:e}),mm=n.type,gm=r?r._sentryId:void 0),clearTimeout(yC),yC=vn.setTimeout((()=>{gm=void 0,mm=void 0}),1e3)}}function aj(t){const e="history";es(e,t),ts(e,tU)}function tU(){if(!(function(){const n=Gu.chrome,r=n&&n.app&&n.app.runtime,i="history"in Gu&&!!Gu.history.pushState&&!!Gu.history.replaceState;return!r&&i})())return;const t=vn.onpopstate;function e(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Yu,l=String(i);Yu=l,kr("history",{from:s,to:l})}return n.apply(this,r)}}vn.onpopstate=function(...n){const r=vn.location.href,i=Yu;if(Yu=r,kr("history",{from:i,to:r}),t)try{return t.apply(this,n)}catch{}},Nn(vn.history,"pushState",e),Nn(vn.history,"replaceState",e)}const Dd={};function bC(t){Dd[t]=void 0}const Rc="__sentry_xhr_v3__";function nU(){if(!vn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const i=new Error,s=1e3*ki(),l=vi(r[0])?r[0].toUpperCase():void 0,u=(function(m){if(vi(m))return m;try{return m.toString()}catch{}})(r[1]);if(!l||!u)return e.apply(n,r);n[Rc]={method:l,url:u,request_headers:{}},l==="POST"&&u.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const d=()=>{const m=n[Rc];if(m&&n.readyState===4){try{m.status_code=n.status}catch{}kr("xhr",{endTimestamp:1e3*ki(),startTimestamp:s,xhr:n,virtualError:i})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(m,v,_)=>(d(),m.apply(v,_))}):n.addEventListener("readystatechange",d),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(m,v,_){const[E,P]=_,C=v[Rc];return C&&vi(E)&&vi(P)&&(C.request_headers[E.toLowerCase()]=P),m.apply(v,_)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const i=n[Rc];return i?(r[0]!==void 0&&(i.body=r[0]),kr("xhr",{startTimestamp:1e3*ki(),xhr:n}),e.apply(n,r)):e.apply(n,r)}})}function rU(t,e=(function(n){const r=Dd[n];if(r)return r;let i=vn[n];if(Uy(i))return Dd[n]=i.bind(vn);const s=vn.document;if(s&&typeof s.createElement=="function")try{const l=s.createElement("iframe");l.hidden=!0,s.head.appendChild(l);const u=l.contentWindow;u&&u[n]&&(i=u[n]),s.head.removeChild(l)}catch(l){ZB&&je.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,l)}return i&&(Dd[n]=i.bind(vn))})("fetch")){let n=0,r=0;return DB(t,(function(i){const s=i.body.length;n+=s,r++;const l={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return bC("fetch"),ih("No fetch implementation available");try{return e(t.url,l).then((u=>(n-=s,r--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}})))}catch(u){return bC("fetch"),n-=s,r--,ih(u)}}))}function vm(t,e,n,r){const i={filename:t,function:e==="<anonymous>"?Ka:e,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const iU=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,aU=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,sU=/\((\S*)(?::(\d+))(?::(\d+))\)/,oU=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,cU=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,lU=(function(...t){const e=t.sort(((n,r)=>n[0]-r[0])).map((n=>n[1]));return(n,r=0,i=0)=>{const s=[],l=n.split(`
`);for(let u=r;u<l.length;u++){const d=l[u];if(d.length>1024)continue;const m=AE.test(d)?d.replace(AE,"$1"):d;if(!m.match(/\S*Error: /)){for(const v of e){const _=v(m);if(_){s.push(_);break}}if(s.length>=50+i)break}}return(function(u){if(!u.length)return[];const d=Array.from(u);return/sentryWrapped/.test(Wu(d).function||"")&&d.pop(),d.reverse(),PE.test(Wu(d).function||"")&&(d.pop(),PE.test(Wu(d).function||"")&&d.pop()),d.slice(0,50).map((m=>({...m,filename:m.filename||Wu(d).filename,function:m.function||Ka})))})(s.slice(i))}})([30,t=>{const e=iU.exec(t);if(e){const[,r,i,s]=e;return vm(r,Ka,+i,+s)}const n=aU.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=sU.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[r,i]=wC(n[1]||Ka,n[2]);return vm(i,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,t=>{const e=oU.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=cU.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let n=e[3],r=e[1]||Ka;return[r,n]=wC(r,n),vm(n,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),wC=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Ka,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},kC=1024,uU=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(n){var r;e.console&&(function(i){const s="console";es(s,i),ts(s,qB)})((function(i){return function(s){if(an()!==i)return;const l={category:"console",data:{arguments:s.args,logger:"console"},level:WB(s.level),message:NE(s.args," ")};if(s.level==="assert"){if(s.args[0]!==!1)return;l.message=`Assertion failed: ${NE(s.args.slice(1)," ")||"console.assert"}`,l.data.arguments=s.args.slice(1)}Ia(l,{input:s.args,level:s.level})}})(n)),e.dom&&(r=(function(i,s){return function(l){if(an()!==i)return;let u,d,m=typeof s=="object"?s.serializeAttribute:void 0,v=typeof s=="object"&&typeof s.maxStringLength=="number"?s.maxStringLength:void 0;v&&v>kC&&(Rh&&je.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${v} was configured. Sentry will use 1024 instead.`),v=kC),typeof m=="string"&&(m=[m]);try{const E=l.event,P=(function(C){return!!C&&!!C.target})(E)?E.target:E;u=JO(P,{keyAttrs:m,maxStringLength:v}),d=(function(C){if(!sb.HTMLElement)return null;let S=C;for(let x=0;x<5;x++){if(!S)return null;if(S instanceof HTMLElement){if(S.dataset.sentryComponent)return S.dataset.sentryComponent;if(S.dataset.sentryElement)return S.dataset.sentryElement}S=S.parentNode}return null})(P)}catch{u="<unknown>"}if(u.length===0)return;const _={category:`ui.${l.name}`,message:u};d&&(_.data={"ui.component_name":d}),Ia(_,{event:l.event,name:l.name,global:l.global})}})(n,e.dom),es("dom",r),ts("dom",eU)),e.xhr&&(function(i){es("xhr",i),ts("xhr",nU)})((function(i){return function(s){if(an()!==i)return;const{startTimestamp:l,endTimestamp:u}=s,d=s.xhr[Rc];if(!l||!u||!d)return;const{method:m,url:v,status_code:_,body:E}=d,P={method:m,url:v,status_code:_},C={xhr:s.xhr,input:E,startTimestamp:l,endTimestamp:u};Ia({category:"xhr",data:P,type:"http",level:mC(_)},C)}})(n)),e.fetch&&HB((function(i){return function(s){if(an()!==i)return;const{startTimestamp:l,endTimestamp:u}=s;if(u&&(!s.fetchData.url.match(/sentry_key/)||s.fetchData.method!=="POST"))if(s.error)Ia({category:"fetch",data:s.fetchData,level:"error",type:"http"},{data:s.error,input:s.args,startTimestamp:l,endTimestamp:u});else{const d=s.response,m={...s.fetchData,status_code:d&&d.status},v={input:s.args,response:d,startTimestamp:l,endTimestamp:u};Ia({category:"fetch",data:m,type:"http",level:mC(m.status_code)},v)}}})(n)),e.history&&aj((function(i){return function(s){if(an()!==i)return;let l=s.from,u=s.to;const d=hm(Vt.location.href);let m=l?hm(l):void 0;const v=hm(u);m&&m.path||(m=d),d.protocol===v.protocol&&d.host===v.host&&(u=v.relative),d.protocol===m.protocol&&d.host===m.host&&(l=m.relative),Ia({category:"navigation",data:{from:l,to:u}})}})(n)),e.sentry&&n.on("beforeSendEvent",(function(i){return function(s){an()===i&&Ia({category:"sentry."+(s.type==="transaction"?"transaction":"event"),event_id:s.event_id,level:s.level,message:aa(s)},{event:s})}})(n))}}},dU=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],hU=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&Nn(Vt,"setTimeout",SC),e.setInterval&&Nn(Vt,"setInterval",SC),e.requestAnimationFrame&&Nn(Vt,"requestAnimationFrame",fU),e.XMLHttpRequest&&"XMLHttpRequest"in Vt&&Nn(XMLHttpRequest.prototype,"send",pU);const n=e.eventTarget;n&&(Array.isArray(n)?n:dU).forEach(mU)}}};function SC(t){return function(...e){const n=e[0];return e[0]=Co(n,{mechanism:{data:{function:ha(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function fU(t){return function(e){return t.apply(this,[Co(e,{mechanism:{data:{function:"requestAnimationFrame",handler:ha(t)},handled:!1,type:"instrument"}})])}}function pU(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((r=>{r in n&&typeof n[r]=="function"&&Nn(n,r,(function(i){const s={mechanism:{data:{function:r,handler:ha(i)},handled:!1,type:"instrument"}},l=ob(i);return l&&(s.mechanism.data.handler=ha(l)),Co(i,s)}))})),t.apply(this,e)}}function mU(t){const e=Vt[t],n=e&&e.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Nn(n,"addEventListener",(function(r){return function(i,s,l){try{typeof s.handleEvent=="function"&&(s.handleEvent=Co(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ha(s),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Co(s,{mechanism:{data:{function:"addEventListener",handler:ha(s),target:t},handled:!1,type:"instrument"}}),l])}})),Nn(n,"removeEventListener",(function(r){return function(i,s,l){try{const u=s.__sentry_wrapped__;u&&r.call(this,i,u,l)}catch{}return r.call(this,i,s,l)}})))}const gU=()=>({name:"BrowserSession",setupOnce(){Vt.document!==void 0?(ZE({ignoreDuration:!0}),eC(),aj((({from:t,to:e})=>{t!==void 0&&t!==e&&(ZE({ignoreDuration:!0}),eC())}))):Rh&&je.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),vU=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&((function(r){(function(i){const s="error";es(s,i),ts(s,sB)})((i=>{const{stackParser:s,attachStacktrace:l}=CC();if(an()!==r||vC())return;const{msg:u,url:d,line:m,column:v,error:_}=i,E=(function(P,C,S,x){const O=P.exception=P.exception||{},j=O.values=O.values||[],$=j[0]=j[0]||{},D=$.stacktrace=$.stacktrace||{},R=D.frames=D.frames||[],U=x,G=S,X=vi(C)&&C.length>0?C:(function(){try{return sb.document.location.href}catch{return""}})();return R.length===0&&R.push({colno:U,filename:X,function:Ka,in_app:!0,lineno:G}),P})(Vy(s,_||u,void 0,l,!1),d,m,v);E.level="error",XE(E,{originalException:_,mechanism:{handled:!1,type:"onerror"}})}))})(n),EC("onerror")),e.onunhandledrejection&&((function(r){(function(i){const s="unhandledrejection";es(s,i),ts(s,oB)})((i=>{const{stackParser:s,attachStacktrace:l}=CC();if(an()!==r||vC())return;const u=(function(m){if(jy(m))return m;try{if("reason"in m)return m.reason;if("detail"in m&&"reason"in m.detail)return m.detail.reason}catch{}return m})(i),d=jy(u)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(u)}`}]}}:Vy(s,u,void 0,l,!0);d.level="error",XE(d,{originalException:u,mechanism:{handled:!1,type:"onunhandledrejection"}})}))})(n),EC("onunhandledrejection"))}}};function EC(t){Rh&&je.log(`Global Handler attached: ${t}`)}function CC(){const t=an();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const yU=()=>({name:"HttpContext",preprocessEvent(t){if(!Vt.navigator&&!Vt.location&&!Vt.document)return;const e=t.request&&t.request.url||Vt.location&&Vt.location.href,{referrer:n}=Vt.document||{},{userAgent:r}=Vt.navigator||{},i={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...t.request,...e&&{url:e},headers:i};t.request=s}}),_U=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,i,s){const l=s.getOptions();UB(db,l.stackParser,l.maxValueLength,n,e,r,i)}}};var TC="new",xC="loading",MC="loaded",Hy="joining-meeting",Ga="joined-meeting",La="left-meeting",Gi="error",bU="playable",ym="unknown",wU="full",kU="base",AC="no-room",SU="end-of-life",EU="connection-error",CU="iframe-ready-for-launch-config",TU="iframe-launch-config",xU="theme-updated",MU="loading",AU="load-attempt-failed",PC="loaded",PU="started-camera",OU="camera-error",jU="joining-meeting",IU="joined-meeting",LU="left-meeting",NU="participant-joined",DU="participant-updated",RU="participant-left",$U="participant-counts-updated",FU="access-state-updated",BU="meeting-session-summary-updated",UU="meeting-session-state-updated",qU="waiting-participant-added",WU="waiting-participant-updated",VU="waiting-participant-removed",zU="track-started",HU="track-stopped",JU="transcription-started",GU="transcription-stopped",YU="transcription-error",OC="recording-started",jC="recording-stopped",QU="recording-stats",KU="recording-error",XU="recording-upload-completed",ZU="recording-data",eq="app-message",tq="transcription-message",nq="remote-media-player-started",rq="remote-media-player-updated",iq="remote-media-player-stopped",aq="local-screen-share-started",sq="local-screen-share-stopped",oq="local-screen-share-canceled",cq="active-speaker-change",lq="active-speaker-mode-change",uq="network-quality-change",dq="network-connection",hq="cpu-load-change",fq="face-counts-updated",Qu="fullscreen",Ku="exited-fullscreen",pq="live-streaming-started",mq="live-streaming-updated",gq="live-streaming-stopped",vq="live-streaming-error",yq="lang-updated",_q="receive-settings-updated",IC="input-settings-updated",LC="nonfatal-error",NC="error",_m=4096,DC=102400,bm="iframe-call-message",RC="local-screen-start",$C="daily-method-update-live-streaming-endpoints",Xu="transmit-log",yi="daily-custom-track",Rd={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},sj={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Jy={PLAY:"play",PAUSE:"pause"},wm=["jpg","png","jpeg"],bq="add-endpoints",wq="remove-endpoints",FC="sip-call-transfer";function er(){return!ze()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function ze(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function oj(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function kq(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&((function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0})(ps(),sh())||ze())}function BC(){if(ze()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var Gy="none",Sq="software",Eq="hardware",Cq=(function(){try{var t,e=document.createElement("canvas"),n=!1;(t=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,t=e.getContext("webgl2"));var r=t!=null;return e.remove(),r?n?Sq:Eq:Gy}catch{return Gy}})();function cj(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!ze()&&Cq!==Gy&&(t?(function(){return UC()?!1:["Chrome","Firefox"].includes(ps())})():(function(){if(UC())return!1;var e=ps();if(e==="Safari"){var n=pb();if(n.major<15||n.major===15&&n.minor<4)return!1}return e==="Chrome"?fb().major>=77:e==="Firefox"?mb().major>=97:["Chrome","Firefox","Safari"].includes(e)})())}function lj(){if(ze()||uj()||typeof AudioWorkletNode>"u")return!1;switch(ps()){case"Chrome":case"Firefox":return!0;case"Safari":var t=sh();return t.major>17||t.major===17&&t.minor>=4}return!1}function km(){return oj()&&typeof MediaStreamTrack<"u"&&!(function(){var t,e=ps();if(!er())return!0;switch(e){case"Chrome":return(t=fb()).major&&t.major>0&&t.major<75;case"Firefox":return(t=mb()).major<91;case"Safari":return(t=pb()).major<13||t.major===13&&t.minor<1;default:return!0}})()}function uj(){return er().match(/Linux; Android/)}function UC(){var t,e=er(),n=e.match(/Mac/)&&(!ze()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(t=t.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(e.match(/Mobi/)||e.match(/Android/)||n)||!!er().match(/DailyAnd\//)||void 0}function ps(){if(typeof window<"u"){var t=er();return dj()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||hj()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function sh(){switch(ps()){case"Chrome":return fb();case"Safari":return pb();case"Firefox":return mb();case"Edge":return(function(){var t=0,e=0;if(typeof window<"u"){var n=er().match(/Edge\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}})()}}function fb(){var t=0,e=0,n=0,r=0,i=!1;if(typeof window<"u"){var s=er(),l=s.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(l)try{t=parseInt(l[1]),e=parseInt(l[2]),n=parseInt(l[3]),r=parseInt(l[4]),i=s.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:n,patch:r,opera:i}}function dj(){return!!er().match(/iPad|iPhone|iPod/i)&&oj()}function hj(){return er().indexOf("AppleWebKit/605.1.15")>-1}function pb(){var t=0,e=0,n=0;if(typeof window<"u"){var r=er().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2]),n=parseInt(r[4])}catch{}else(dj()||hj())&&(t=14,e=0,n=3)}return{major:t,minor:e,point:n}}function mb(){var t=0,e=0;if(typeof window<"u"){var n=er().match(/Firefox\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}var fj=(function(){return Fn((function t(){$n(this,t)}),[{key:"addListenerForMessagesFromCallMachine",value:function(t,e,n){Pc()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,e,n){Pc()}},{key:"sendMessageToCallMachine",value:function(t,e,n,r){Pc()}},{key:"sendMessageToDailyJs",value:function(t,e){Pc()}},{key:"removeListener",value:function(t){Pc()}}])})();function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach((function(r){Hr(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function pj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(pj=function(){return!!t})()}var Tq=(function(){function t(){var e,n,r,i;return $n(this,t),n=this,r=xr(r=t),(e=Ph(n,pj()?Reflect.construct(r,[],xr(n).constructor):r.apply(n,i)))._wrappedListeners={},e._messageCallbacks={},e}return Oh(t,fj),Fn(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,r){var i=this,s=function(l){if(l.data&&l.data.what==="iframe-call-message"&&(!l.data.callClientId||l.data.callClientId===n)&&(!l.data.from||l.data.from!=="module")){var u=Sm({},l.data);if(delete u.from,u.callbackStamp&&i._messageCallbacks[u.callbackStamp]){var d=u.callbackStamp;i._messageCallbacks[d].call(r,u),delete i._messageCallbacks[d]}delete u.what,delete u.callbackStamp,e.call(r,u)}};this._wrappedListeners[e]=s,window.addEventListener("message",s)}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,r){var i=function(s){var l;if(!(!s.data||s.data.what!==bm||!s.data.action||s.data.from&&s.data.from!=="module"||s.data.callClientId&&n&&s.data.callClientId!==n||s!=null&&(l=s.data)!==null&&l!==void 0&&l.callFrameId)){var u=s.data;e.call(r,u)}};this._wrappedListeners[e]=i,window.addEventListener("message",i)}},{key:"sendMessageToCallMachine",value:function(e,n,r,i){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var s=Sm({},e);if(s.what=bm,s.from="module",s.callClientId=r,n){var l=jh();this._messageCallbacks[l]=n,s.callbackStamp=l}var u=i?i.contentWindow:window,d=this._callMachineTargetOrigin(i);d&&u.postMessage(s,d)}},{key:"sendMessageToDailyJs",value:function(e,n){e.what=bm,e.callClientId=n,e.from="embedded",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"forwardPackagedMessageToCallMachine",value:function(e,n,r){var i=Sm({},e);i.callClientId=r;var s=n?n.contentWindow:window,l=this._callMachineTargetOrigin(n);l&&s.postMessage(i,l)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e,n){var r=function(i){if(i.data&&i.data.what==="iframe-call-message"&&(!i.data.callClientId||i.data.callClientId===n)&&(!i.data.from||i.data.from!=="module")){var s=i.data;e(s)}};return this._wrappedListeners[e]=r,window.addEventListener("message",r),e}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"_callMachineTargetOrigin",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])})();function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function mj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(mj=function(){return!!t})()}var xq=(function(){function t(){var e,n,r,i;return $n(this,t),n=this,r=xr(r=t),e=Ph(n,mj()?Reflect.construct(r,[],xr(n).constructor):r.apply(n,i)),globalThis.callMachineToDailyJsEmitter=globalThis.callMachineToDailyJsEmitter||new Py.EventEmitter,globalThis.dailyJsToCallMachineEmitter=globalThis.dailyJsToCallMachineEmitter||new Py.EventEmitter,e._wrappedListeners={},e._messageCallbacks={},e}return Oh(t,fj),Fn(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,r){this._addListener(e,globalThis.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,r){this._addListener(e,globalThis.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(e,n,r){this._sendMessage(e,globalThis.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(e,n){this._sendMessage(e,globalThis.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(globalThis.callMachineToDailyJsEmitter.removeListener("message",n),globalThis.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[e])}},{key:"_addListener",value:function(e,n,r,i,s){var l=this,u=function(d){if(d.callClientId===r){if(d.callbackStamp&&l._messageCallbacks[d.callbackStamp]){var m=d.callbackStamp;l._messageCallbacks[m].call(i,d),delete l._messageCallbacks[m]}e.call(i,d)}};this._wrappedListeners[e]=u,n.addListener("message",u)}},{key:"_sendMessage",value:function(e,n,r,i,s){var l=(function(d){for(var m=1;m<arguments.length;m++){var v=arguments[m]!=null?arguments[m]:{};m%2?WC(Object(v),!0).forEach((function(_){Hr(d,_,v[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):WC(Object(v)).forEach((function(_){Object.defineProperty(d,_,Object.getOwnPropertyDescriptor(v,_))}))}return d})({},e);if(l.callClientId=r,i){var u=jh();this._messageCallbacks[u]=i,l.callbackStamp=u}n.emit("message",l)}}])})(),Yy="replace",Qy="shallow-merge",VC=[Yy,Qy],Mq=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.data,r=e.mergeStrategy,i=r===void 0?Yy:r;$n(this,t),t._validateMergeStrategy(i),t._validateData(n,i),this.mergeStrategy=i,this.data=n}return Fn(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,n){return Object.keys(e).length===0&&n===Qy}},{key:"_validateMergeStrategy",value:function(e){if(!VC.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(VC,"]"))}},{key:"_validateData",value:function(e,n){if(!(function(u){if(u==null||Qe(u)!=="object")return!1;var d=Object.getPrototypeOf(u);return d==null||d===Object.prototype})(e))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(e),n===Yy){var i=JSON.parse(r);mn(i,e)||console.warn("The meeting session data provided will be modified when serialized.",i,e)}else if(n===Qy){for(var s in e)if(Object.hasOwnProperty.call(e,s)&&e[s]!==void 0){var l=JSON.parse(JSON.stringify(e[s]));mn(e[s],l)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",l,e[s])}}}catch(u){throw Error("Meeting session data must be serializable to JSON: ".concat(u))}if(r.length>DC)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(DC,"."))}}])})();function gj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(gj=function(){return!!t})()}function Ky(t){var e=typeof Map=="function"?new Map:void 0;return Ky=function(n){if(n===null||!(function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}})(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return(function(i,s,l){if(gj())return Reflect.construct.apply(null,arguments);var u=[null];u.push.apply(u,s);var d=new(i.bind.apply(i,u));return l&&tl(d,l.prototype),d})(n,arguments,xr(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),tl(r,n)},Ky(t)}function vj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(vj=function(){return!!t})()}function zC(t){var e,n=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}}var Aq=(function(){return Fn((function t(e){$n(this,t),this._currentLoad=null,this._callClientId=e}),[{key:"load",value:function(){var t,e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new Pq(n,(function(){r(!1)}),(function(s,l){l||zC(e._callClientId),i(s,l)})),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),zC(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])})(),Pq=(function(){return Fn((function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;$n(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=n,this._failureCallback=r}),[{key:"start",value:function(){var t=this;if(!this._currentAttempt){var e=function(n){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(n,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout((function(){t._currentAttempt.cancelled||(t._currentAttempt=new HC(t._dailyConfig,t._successCallback,e),t._currentAttempt.start())}),3e3))};this._currentAttempt=new HC(this._dailyConfig,this._successCallback,e),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])})(),Em=(function(){function t(){return $n(this,t),e=this,r=arguments,n=xr(n=t),Ph(e,vj()?Reflect.construct(n,r||[],xr(e).constructor):n.apply(e,r));var e,n,r}return Oh(t,Ky(Error)),Fn(t)})(),oh=2e4,HC=(function(){return Fn((function e(n,r,i){$n(this,e),this._loadAttemptImpl=ze()||!n.avoidEval?new Oq(n,r,i):new jq(n,r,i)}),[{key:"start",value:(t=Me((function*(){return this._loadAttemptImpl.start()})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var t})(),Oq=(function(){return Fn((function i(s,l,u){$n(this,i),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=s,this._successCallback=l,this._failureCallback=u}),[{key:"start",value:(r=Me((function*(){var i=eh(this._dailyConfig);!(yield this._tryLoadFromIOSCache(i))&&this._loadFromNetwork(i)})),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=Me((function*(i){if(!this._iosCache)return!1;try{var s=yield this._iosCache.get(i);return!!this.cancelled||!!s&&(s.code?(Function('"use strict";'+s.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=s.refetchHeaders,!1))}catch{return!1}})),function(i){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(e=Me((function*(i){var s=this;this._networkTimeout=setTimeout((function(){s._networkTimedOut=!0,s._failureCallback({msg:"Timed out (>".concat(oh," ms) when loading call object bundle ").concat(i),type:"timeout"})}),oh);try{var l=this._refetchHeaders?{headers:this._refetchHeaders}:{},u=yield fetch(i,l);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Em;var d=yield this._getBundleCodeFromResponse(i,u);if(this.cancelled)throw new Em;Function('"use strict";'+d)(),this._iosCache&&this._iosCache.set(i,d,u.headers),this.succeeded=!0,this._successCallback()}catch(m){if(clearTimeout(this._networkTimeout),m instanceof Em||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(i,": ").concat(m),type:m.message})}})),function(i){return e.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=Me((function*(i,s){if(s.ok)return yield s.text();if(this._iosCache&&s.status===304)return(yield this._iosCache.renew(i,s.headers)).code;throw new Error("Received ".concat(s.status," response"))})),function(i,s){return t.apply(this,arguments)})}]);var t,e,n,r})(),jq=(function(){return Fn((function t(e,n,r){$n(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=n,this._failureCallback=r,this._attemptId=jh(),this._networkTimeout=null,this._scriptElement=null}),[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=eh(this._dailyConfig);(typeof document>"u"?"undefined":Qe(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var e=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout((function(){e._stopLoading(),e._failureCallback({msg:"Timed out (>".concat(oh," ms) when loading call object bundle ").concat(t),type:"timeout"})}),oh);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){e._stopLoading(),e.succeeded=!0,e._successCallback()},r.onerror=function(i){e._stopLoading(),e._failureCallback({msg:"Failed to load call object bundle ".concat(i.target.src),type:i.message})},r.src=t,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])})(),Zu=function(t,e,n){return Lq(t.local,e,n)===!0},Iq=function(t,e,n){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},oo=function(t,e,n,r){var i=Nq(t,e,n,r);return i&&i.pendingTrack},Lq=function(t,e,n){if(!t)return!1;var r=function(s){switch(s){case"avatar":return!0;case"staged":return s;default:return!!s}},i=t.public.subscribedTracks;return i&&i[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&i[e].custom?[!0,"staged"].includes(i[e].custom)?r(i[e].custom):r(i[e].custom[n]):r(i[e][n]):!i||r(i.ALL)},Nq=function(t,e,n,r){var i=Object.values(t.streams||{}).filter((function(s){return s.participantId===e&&s.type===n&&s.pendingTrack&&s.pendingTrack.kind===r})).sort((function(s,l){return new Date(l.starttime)-new Date(s.starttime)}));return i&&i[0]},Dq=function(t,e){var n=t.local.public.customTracks;if(n&&n[e])return n[e].track};function JC(t,e){for(var n=e.getState(),r=0,i=["cam","screen"];r<i.length;r++)for(var s=i[r],l=0,u=["video","audio"];l<u.length;l++){var d=u[l],m=s==="cam"?d:"screen".concat(d.charAt(0).toUpperCase()+d.slice(1)),v=t.tracks[m];if(v){var _=t.local?Iq(n,s,d):oo(n,t.session_id,s,d);v.state==="playable"&&(v.track=_),v.persistentTrack=_}}}function GC(t,e){try{var n=e.getState();for(var r in t.tracks)if(!Rq(r)){var i=t.tracks[r].kind;if(i){var s=t.tracks[r];if(s){var l=t.local?Dq(n,r):oo(n,t.session_id,r,i);s.state==="playable"&&(t.tracks[r].track=l),s.persistentTrack=l}}else console.error("unknown type for custom track")}}catch(u){console.error(u)}}function Rq(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function YC(t,e,n){var r=n.getState();if(t.local){if(t.audio)try{t.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var i=!0;try{var s=r.participants[t.session_id];s&&s.public&&s.public.rtcType&&s.public.rtcType.impl==="peer-to-peer"&&s.private&&!["connected","completed"].includes(s.private.peeringState)&&(i=!1)}catch(v){console.error(v)}if(!i)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(r.streams,t.audio&&Zu(r,t.session_id,"cam-audio")){var l=oo(r,t.session_id,"cam","audio");l&&(e&&e.audioTrack&&e.audioTrack.id===l.id?t.audioTrack=l:l.muted||(t.audioTrack=l)),t.audioTrack||(t.audio=!1)}if(t.video&&Zu(r,t.session_id,"cam-video")){var u=oo(r,t.session_id,"cam","video");u&&(e&&e.videoTrack&&e.videoTrack.id===u.id?t.videoTrack=u:u.muted||(t.videoTrack=u)),t.videoTrack||(t.video=!1)}if(t.screen&&Zu(r,t.session_id,"screen-audio")){var d=oo(r,t.session_id,"screen","audio");d&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===d.id?t.screenAudioTrack=d:d.muted||(t.screenAudioTrack=d))}if(t.screen&&Zu(r,t.session_id,"screen-video")){var m=oo(r,t.session_id,"screen","video");m&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===m.id?t.screenVideoTrack=m:m.muted||(t.screenVideoTrack=m))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(v){console.error("unexpected error matching up tracks",v)}}}function $q(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(function(d,m){if(d){if(typeof d=="string")return QC(d,m);var v={}.toString.call(d).slice(8,-1);return v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set"?Array.from(d):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?QC(d,m):void 0}})(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,l=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){u=!0,s=d},f:function(){try{l||n.return==null||n.return()}finally{if(u)throw s}}}}function QC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var qr=new Map,po=null;function Fq(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(function(d,m){if(d){if(typeof d=="string")return KC(d,m);var v={}.toString.call(d).slice(8,-1);return v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set"?Array.from(d):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?KC(d,m):void 0}})(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,l=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){u=!0,s=d},f:function(){try{l||n.return==null||n.return()}finally{if(u)throw s}}}}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Wr=new Map,Hc=null;function Bq(t){yj()?(function(e){qr.has(e)||(qr.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(n){qr.has(e)&&(qr.get(e).lastDevicesString=JSON.stringify(n),po||(po=(function(){var r=Me((function*(){var i,s=yield navigator.mediaDevices.enumerateDevices(),l=$q(qr.keys());try{for(l.s();!(i=l.n()).done;){var u=i.value,d=JSON.stringify(s);d!==qr.get(u).lastDevicesString&&(qr.get(u).lastDevicesString=d,u(s))}}catch(m){l.e(m)}finally{l.f()}}));return function(){return r.apply(this,arguments)}})(),navigator.mediaDevices.addEventListener("devicechange",po)))})).catch((function(){})))})(t):(function(e){Wr.has(e)||(Wr.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(n){Wr.has(e)&&(Wr.get(e).lastDevicesString=JSON.stringify(n),Hc||(Hc=setInterval(Me((function*(){var r,i=yield navigator.mediaDevices.enumerateDevices(),s=Fq(Wr.keys());try{for(s.s();!(r=s.n()).done;){var l=r.value,u=JSON.stringify(i);u!==Wr.get(l).lastDevicesString&&(Wr.get(l).lastDevicesString=u,l(i))}}catch(d){s.e(d)}finally{s.f()}})),3e3)))})))})(t)}function Uq(t){yj()?(function(e){qr.has(e)&&(qr.delete(e),qr.size===0&&po&&(navigator.mediaDevices.removeEventListener("devicechange",po),po=null))})(t):(function(e){Wr.has(e)&&(Wr.delete(e),Wr.size===0&&Hc&&(clearInterval(Hc),Hc=null))})(t)}function yj(){var t;return ze()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var qq=new Set;function Wq(t,e){return t&&t.readyState==="live"&&!(function(n,r){return n.muted&&!qq.has(n.id)})(t)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach((function(r){Hr(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}var $c=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),Vq=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Jc=Object.values($c),ZC=["v","a","sv","sa","cv","ca"];Object.freeze(Jc.reduce((function(t,e,n){return t[e]=ZC[n],t}),{})),Object.freeze(ZC.reduce((function(t,e,n){return t[e]=Jc[n],t}),{}));var zq=[$c.VIDEO,$c.AUDIO,$c.SCREEN_VIDEO,$c.SCREEN_AUDIO],e1=Object.values(Vq),t1=["p","s","t"];Object.freeze(e1.reduce((function(t,e,n){return t[e]=t1[n],t}),{})),Object.freeze(t1.reduce((function(t,e,n){return t[e]=e1[n],t}),{}));var _j=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.base,r=e.byUserId,i=e.byParticipantId;$n(this,t),this.base=n,this.byUserId=r,this.byParticipantId=i}return Fn(t,[{key:"clone",value:function(){var e=new t;if(this.base instanceof Gt?e.base=this.base.clone():e.base=this.base,this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var r=this.byUserId[n];e.byUserId[n]=r instanceof Gt?r.clone():r}if(this.byParticipantId!==void 0)for(var i in e.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[i];e.byParticipantId[i]=s instanceof Gt?s.clone():s}return e}},{key:"toJSONObject",value:function(){var e={};if(typeof this.base=="boolean"?e.base=this.base:this.base instanceof Gt&&(e.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var r=this.byUserId[n];e.byUserId[n]=r instanceof Gt?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var i in e.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[i];e.byParticipantId[i]=s instanceof Gt?s.toJSONObject():s}return e}},{key:"toMinifiedJSONObject",value:function(){var e={};if(this.base!==void 0&&(typeof this.base=="boolean"?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in e.u={},this.byUserId){var r=this.byUserId[n];e.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var i in e.p={},this.byParticipantId){var s=this.byParticipantId[i];e.p[i]=typeof s=="boolean"?s:s.toMinifiedJSONObject()}return e}},{key:"normalize",value:function(){return this.base instanceof Gt&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map((function(e){var n=on(e,2),r=n[0],i=n[1];return[r,i instanceof Gt?i.normalize():i]})))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map((function(e){var n=on(e,2),r=n[0],i=n[1];return[r,i instanceof Gt?i.normalize():i]})))),this}}],[{key:"fromJSONObject",value:function(e){var n,r,i;if(e.base!==void 0&&(n=typeof e.base=="boolean"?e.base:Gt.fromJSONObject(e.base)),e.byUserId!==void 0)for(var s in r={},e.byUserId){var l=e.byUserId[s];r[s]=typeof l=="boolean"?l:Gt.fromJSONObject(l)}if(e.byParticipantId!==void 0)for(var u in i={},e.byParticipantId){var d=e.byParticipantId[u];i[u]=typeof d=="boolean"?d:Gt.fromJSONObject(d)}return new t({base:n,byUserId:r,byParticipantId:i})}},{key:"fromMinifiedJSONObject",value:function(e){var n,r,i;if(e.b!==void 0&&(n=typeof e.b=="boolean"?e.b:Gt.fromMinifiedJSONObject(e.b)),e.u!==void 0)for(var s in r={},e.u){var l=e.u[s];r[s]=typeof l=="boolean"?l:Gt.fromMinifiedJSONObject(l)}if(e.p!==void 0)for(var u in i={},e.p){var d=e.p[u];i[u]=typeof d=="boolean"?d:Gt.fromMinifiedJSONObject(d)}return new t({base:n,byUserId:r,byParticipantId:i})}},{key:"validateJSONObject",value:function(e){if(Qe(e)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,i=Object.keys(e);r<i.length;r++){var s=i[r];if(!n.includes(s))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(s==="base"){var l=on(Gt.validateJSONObject(e.base,!0),2),u=l[0],d=l[1];if(!u)return[!1,d]}else{if(Qe(e[s])!=="object")return[!1,"invalid (non-object) value for field '".concat(s,"' in canReceive")];for(var m=0,v=Object.values(e[s]);m<v.length;m++){var _=v[m],E=on(Gt.validateJSONObject(_),2),P=E[0],C=E[1];if(!P)return[!1,C]}}}return[!0]}}])})(),Gt=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.video,r=e.audio,i=e.screenVideo,s=e.screenAudio,l=e.customVideo,u=e.customAudio;$n(this,t),this.video=n,this.audio=r,this.screenVideo=i,this.screenAudio=s,this.customVideo=l,this.customAudio=u}return Fn(t,[{key:"clone",value:function(){var e=new t;return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=Yi({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=Yi({},this.customAudio)),e}},{key:"toJSONObject",value:function(){var e={};return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=Yi({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=Yi({},this.customAudio)),e}},{key:"toMinifiedJSONObject",value:function(){var e={};return this.video!==void 0&&(e.v=this.video),this.audio!==void 0&&(e.a=this.audio),this.screenVideo!==void 0&&(e.sv=this.screenVideo),this.screenAudio!==void 0&&(e.sa=this.screenAudio),this.customVideo!==void 0&&(e.cv=Yi({},this.customVideo)),this.customAudio!==void 0&&(e.ca=Yi({},this.customAudio)),e}},{key:"normalize",value:function(){function e(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(e){return new t({video:e,audio:e,screenVideo:e,screenAudio:e,customVideo:{"*":e},customAudio:{"*":e}})}},{key:"fromJSONObject",value:function(e){return new t({video:e.video,audio:e.audio,screenVideo:e.screenVideo,screenAudio:e.screenAudio,customVideo:e.customVideo!==void 0?Yi({},e.customVideo):void 0,customAudio:e.customAudio!==void 0?Yi({},e.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(e){return new t({video:e.v,audio:e.a,screenVideo:e.sv,screenAudio:e.sa,customVideo:e.cv,customAudio:e.ca})}},{key:"validateJSONObject",value:function(e,n){if(typeof e=="boolean")return[!0];if(Qe(e)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(e),i=0,s=r;i<s.length;i++){var l=s[i];if(!Jc.includes(l))return[!1,"invalid media type '".concat(l,"' in canReceive")];if(zq.includes(l)){if(typeof e[l]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(l,"' in canReceive")]}else{if(Qe(e[l])!=="object")return[!1,"invalid (non-object) value for media type '".concat(l,"' in canReceive")];for(var u=0,d=Object.values(e[l]);u<d.length;u++)if(typeof d[u]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(l,"' in canReceive")];if(n&&e[l]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(l,"'")]}}return n&&r.length!==Jc.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Jc.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])})(),Hq=["result"],Jq=["preserveIframe"];function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach((function(r){Hr(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function bj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(bj=function(){return!!t})()}function r1(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(function(d,m){if(d){if(typeof d=="string")return i1(d,m);var v={}.toString.call(d).slice(8,-1);return v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set"?Array.from(d):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?i1(d,m):void 0}})(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,l=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){u=!0,s=d},f:function(){try{l||n.return==null||n.return()}finally{if(u)throw s}}}}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Na={},a1="video",Gq="voice",s1=ze()?{data:{}}:{data:{},topology:"none"},o1={present:0,hidden:0},wj={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Cm=Object.keys(wj),c1=["state","volume","simulcastEncodings"],l1={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},ch={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},Xy={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Da={customIntegrations:{validate:Aj,help:xj()},customTrayButtons:{validate:Mj,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(ch))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return Pj(t,l1)},help:"reactNativeConfig should look like ".concat(JSON.stringify(l1),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return kj(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,n={customTrack:yi};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,n={customTrack:yi};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var i=0,s=Object.keys(r);i<s.length;i++){var l=s[i];if(!e.includes(l))return console.error('unsupported color "'.concat(l,'". Valid colors: ').concat(e.join(", "))),!1;if(!r[l].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(l,' theme color should be provided in valid hex color format. Received: "').concat(r[l],'"')),!1}return!0};return Qe(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?n(t.light.colors)&&n(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):n(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return Sj(t,{allowAllParticipantsKey:!1})},help:Tj({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!(function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(i){return console.error("Failed to validate send settings",i),!1}})(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var n;return!!Ej(t)&&(e._inputSettings||(e._inputSettings={}),Cj(t,(n=e.properties)===null||n===void 0?void 0:n.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:Zy()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},ed={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var n in t.cam)if(n!=="div"&&n!=="video")return!1}if(t.screen){for(var r in t.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(t)||!ze()&&t==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],i=function(s){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var u in s)if(u==="custom"){if(!n.includes(s[u])&&!i(s[u],!0))return!1}else{var d=!l&&!r.includes(u),m=!n.includes(s[u]);if(d||m)return!1}return!0};return i(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(ze()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=on(n[e],2),i=r[0],s=r[1];switch(i){case"hasPresence":if(typeof s!="boolean")return!1;break;case"canSend":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var l,u=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],d=r1(s);try{for(d.s();!(l=d.n()).done;){var m=l.value;if(!u.includes(m))return!1}}catch(O){d.e(O)}finally{d.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(t.canSend=new Set(s));break;case"canReceive":var v=on(_j.validateJSONObject(s),2),_=v[0],E=v[1];if(!_)return console.error(E),!1;break;case"canAdmin":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var P,C=["participants","streaming","transcription"],S=r1(s);try{for(S.s();!(P=S.n()).done;){var x=P.value;if(!C.includes(x))return!1}}catch(O){S.e(O)}finally{S.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(t.canAdmin=new Set(s));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=(function(){var t=Me((function*(e){return new Promise((function(n,r){var i=[];e.forEach((function(s){return Promise.resolve(s).then((function(l){n(l)})).catch((function(l){i.push(l),i.length===e.length&&r(i)}))}))}))}));return function(e){return t.apply(this,arguments)}})());var Yq=(function(){function t(o){var f,p,y,w,T,I,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($n(this,t),y=this,w=xr(w=t),Hr(p=Ph(y,bj()?Reflect.construct(w,[],xr(y).constructor):w.apply(y,T)),"startListeningForDeviceChanges",(function(){Bq(p.handleDeviceChange)})),Hr(p,"stopListeningForDeviceChanges",(function(){Uq(p.handleDeviceChange)})),Hr(p,"handleDeviceChange",(function(Z){Z=Z.map((function(ae){return JSON.parse(JSON.stringify(ae))})),p.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Z})})),Hr(p,"handleNativeAppStateChange",(function(){var Z=Me((function*(ae){if(ae==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield p.destroy());var Le=ae==="active";p.disableReactNativeAutoDeviceManagement("video")||(Le?p.camUnmutedBeforeLosingNativeActiveState&&p.setLocalVideo(!0):(p.camUnmutedBeforeLosingNativeActiveState=p.localVideo(),p.camUnmutedBeforeLosingNativeActiveState&&p.setLocalVideo(!1)))}));return function(ae){return Z.apply(this,arguments)}})()),Hr(p,"handleNativeAudioFocusChange",(function(Z){p.disableReactNativeAutoDeviceManagement("audio")||(p._hasNativeAudioFocus=Z,p.toggleParticipantAudioBasedOnNativeAudioFocus(),p._hasNativeAudioFocus?p.micUnmutedBeforeLosingNativeAudioFocus&&p.setLocalAudio(!0):(p.micUnmutedBeforeLosingNativeAudioFocus=p.localAudio(),p.setLocalAudio(!1)))})),Hr(p,"handleNativeSystemScreenCaptureStop",(function(){p.stopScreenShare()})),!km()&&!ze())throw new Error("WebRTC not supported or suppressed");if(p.strictMode=L.strictMode===void 0||L.strictMode,p.allowMultipleCallInstances=(f=L.allowMultipleCallInstances)!==null&&f!==void 0&&f,Object.keys(Na).length&&(p._logDuplicateInstanceAttempt(),!p.allowMultipleCallInstances)){if(p.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),p.callClientId=jh(),Na[(I=p).callClientId]=I,window._daily.instances[p.callClientId]={},p._sharedTracks={},window._daily.instances[p.callClientId].tracks=p._sharedTracks,L.dailyJsVersion=t.version(),p._iframe=o,p._callObjectMode=L.layout==="none"&&!p._iframe,p._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},L.showLocalVideo!==void 0?p._callObjectMode?console.error("showLocalVideo is not available in call object mode"):p._showLocalVideo=!!L.showLocalVideo:p._showLocalVideo=!0,L.showParticipantsBar!==void 0?p._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):p._showParticipantsBar=!!L.showParticipantsBar:p._showParticipantsBar=!0,L.customIntegrations!==void 0?p._callObjectMode?console.error("customIntegrations is not available in call object mode"):p._customIntegrations=L.customIntegrations:p._customIntegrations={},L.customTrayButtons!==void 0?p._callObjectMode?console.error("customTrayButtons is not available in call object mode"):p._customTrayButtons=L.customTrayButtons:p._customTrayButtons={},L.activeSpeakerMode!==void 0?p._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):p._activeSpeakerMode=!!L.activeSpeakerMode:p._activeSpeakerMode=!1,L.receiveSettings?p._callObjectMode?p._receiveSettings=L.receiveSettings:console.error("receiveSettings is only available in call object mode"):p._receiveSettings={},p.validateProperties(L),p.properties=ke({},L),p._inputSettings||(p._inputSettings={}),p._callObjectLoader=p._callObjectMode?new Aq(p.callClientId):null,p._callState=TC,p._isPreparingToJoin=!1,p._accessState={access:ym},p._meetingSessionSummary={},p._finalSummaryOfPrevSession={},p._meetingSessionState=Mm(s1,p._callObjectMode),p._nativeInCallAudioMode=a1,p._participants={},p._isScreenSharing=!1,p._participantCounts=o1,p._rmpPlayerState={},p._waitingParticipants={},p._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},p._activeSpeaker={},p._localAudioLevel=0,p._isLocalAudioLevelObserverRunning=!1,p._remoteParticipantsAudioLevel={},p._isRemoteParticipantsAudioLevelObserverRunning=!1,p._maxAppMessageSize=_m,p._messageChannel=ze()?new xq:new Tq,p._iframe&&(p._iframe.requestFullscreen?p._iframe.addEventListener("fullscreenchange",(function(){document.fullscreenElement===p._iframe?(p.emitDailyJSEvent({action:Qu}),p.sendMessageToCallMachine({action:Qu})):(p.emitDailyJSEvent({action:Ku}),p.sendMessageToCallMachine({action:Ku}))})):p._iframe.webkitRequestFullscreen&&p._iframe.addEventListener("webkitfullscreenchange",(function(){document.webkitFullscreenElement===p._iframe?(p.emitDailyJSEvent({action:Qu}),p.sendMessageToCallMachine({action:Qu})):(p.emitDailyJSEvent({action:Ku}),p.sendMessageToCallMachine({action:Ku}))}))),ze()){var W=p.nativeUtils();W.addAudioFocusChangeListener&&W.removeAudioFocusChangeListener&&W.addAppStateChangeListener&&W.removeAppStateChangeListener&&W.addSystemScreenCaptureStopListener&&W.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),p._hasNativeAudioFocus=!0,W.addAudioFocusChangeListener(p.handleNativeAudioFocusChange),W.addAppStateChangeListener(p.handleNativeAppStateChange),W.addSystemScreenCaptureStopListener(p.handleNativeSystemScreenCaptureStop)}return p._callObjectMode&&p.startListeningForDeviceChanges(),p._messageChannel.addListenerForMessagesFromCallMachine(p.handleMessageFromCallMachine,p.callClientId,p),p}return Oh(t,qu),Fn(t,[{key:"destroy",value:(Y=Me((function*(){var o;try{yield this.leave()}catch{}var f=this._iframe;if(f){var p=f.parentElement;p&&p.removeChild(f)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),ze()){var y=this.nativeUtils();y.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),y.removeAppStateChangeListener(this.handleNativeAppStateChange),y.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Na[this.callClientId],!((o=window)===null||o===void 0||(o=o._daily)===null||o===void 0)&&o.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)})),function(){return Y.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(o){var f=o.bodyClass,p=o.cssFile,y=o.cssText;return We(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(p),bodyClass:f,cssText:y}),this}},{key:"iframe",value:function(){return We(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return fr(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return fr(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(o,f){for(var p in f){if(!ed[p])throw new Error("unrecognized updateParticipant property ".concat(p));if(ed[p].validate&&!ed[p].validate(f[p],this,this._participants[o]))throw new Error(ed[p].help)}}},{key:"updateParticipant",value:function(o,f){return this._participants.local&&this._participants.local.session_id===o&&(o="local"),o&&f&&(this.validateParticipantProperties(o,f),this.sendMessageToCallMachine({action:"update-participant",id:o,properties:f})),this}},{key:"updateParticipants",value:function(o){var f=this._participants.local&&this._participants.local.session_id;for(var p in o)p===f&&(p="local"),p&&o[p]&&this.validateParticipantProperties(p,o[p]);return this.sendMessageToCallMachine({action:"update-participants",participants:o}),this}},{key:"updateWaitingParticipant",value:(q=Me((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(fr(this._callObjectMode,"updateWaitingParticipant()"),dt(this._callState,"updateWaitingParticipant()"),typeof f!="string"||Qe(p)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise((function(y,w){o.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:f,updates:p},(function(T){T.error&&w(T.error),T.id||w(new Error("unknown error in updateWaitingParticipant()")),y({id:T.id})}))}))})),function(){return q.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(de=Me((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(fr(this._callObjectMode,"updateWaitingParticipants()"),dt(this._callState,"updateWaitingParticipants()"),Qe(f)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise((function(p,y){o.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:f},(function(w){w.error&&y(w.error),w.ids||y(new Error("unknown error in updateWaitingParticipants()")),p({ids:w.ids})}))}))})),function(){return de.apply(this,arguments)})},{key:"requestAccess",value:(_e=Me((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=f.access,y=p===void 0?{level:wU}:p,w=f.name,T=w===void 0?"":w;return fr(this._callObjectMode,"requestAccess()"),dt(this._callState,"requestAccess()"),new Promise((function(I,L){o.sendMessageToCallMachine({action:"daily-method-request-access",access:y,name:T},(function(W){W.error&&L(W.error),W.access||L(new Error("unknown error in requestAccess()")),I({access:W.access,granted:W.granted})}))}))})),function(){return _e.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in f&&(ze()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),f={}):o&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),f={})),this.sendMessageToCallMachine({action:"local-audio",state:o,options:f}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(o){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:o}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(o){return this.sendMessageToCallMachine({action:"local-video",state:o}),this}},{key:"_setAllowLocalAudio",value:function(o){if(this._preloadCache.allowLocalAudio=o,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:o}),this}},{key:"_setAllowLocalVideo",value:function(o){if(this._preloadCache.allowLocalVideo=o,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:o}),this}},{key:"getReceiveSettings",value:(ue=Me((function*(o){var f=this,p=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,y=p!==void 0&&p;if(fr(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Qe(o)){case"string":return new Promise((function(w){f.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:o,showInheritedValues:y},(function(T){w(T.receiveSettings)}))}));case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}})),function(o){return ue.apply(this,arguments)})},{key:"updateReceiveSettings",value:(qe=Me((function*(o){var f=this;if(fr(this._callObjectMode,"updateReceiveSettings()"),!Sj(o,{allowAllParticipantsKey:!0}))throw new Error(Tj({allowAllParticipantsKey:!0}));return dt(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise((function(p){f.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:o},(function(y){p({receiveSettings:y.receiveSettings})}))}))})),function(o){return qe.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(o,f){if(o){var p={};if(o.audio){var y,w,T;o.audio.settings&&(!Object.keys(o.audio.settings).length&&f||(p.audio={settings:ke({},o.audio.settings)})),f&&(y=p.audio)!==null&&y!==void 0&&(y=y.settings)!==null&&y!==void 0&&y.customTrack&&(p.audio.settings={customTrack:this._sharedTracks.audioTrack});var I=((w=o.audio.processor)===null||w===void 0?void 0:w.type)==="none"&&((T=o.audio.processor)===null||T===void 0?void 0:T._isDefaultWhenNone);if(o.audio.processor&&!I){var L=ke({},o.audio.processor);delete L._isDefaultWhenNone,p.audio=ke(ke({},p.audio),{},{processor:L})}}if(o.video){var W,Z,ae;o.video.settings&&(!Object.keys(o.video.settings).length&&f||(p.video={settings:ke({},o.video.settings)})),f&&(W=p.video)!==null&&W!==void 0&&(W=W.settings)!==null&&W!==void 0&&W.customTrack&&(p.video.settings={customTrack:this._sharedTracks.videoTrack});var Le=((Z=o.video.processor)===null||Z===void 0?void 0:Z.type)==="none"&&((ae=o.video.processor)===null||ae===void 0?void 0:ae._isDefaultWhenNone);if(o.video.processor&&!Le){var we=ke({},o.video.processor);delete we._isDefaultWhenNone,p.video=ke(ke({},p.video),{},{processor:we})}}return p}}},{key:"getInputSettings",value:function(){var o=this;return We(),new Promise((function(f){f(o._getInputSettings())}))}},{key:"_getInputSettings",value:function(){var o,f,p,y,w,T,I={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(o=((p=this._inputSettings)===null||p===void 0?void 0:p.video)||I,f=((y=this._inputSettings)===null||y===void 0?void 0:y.audio)||I):(o=((w=this._preloadCache)===null||w===void 0||(w=w.inputSettings)===null||w===void 0?void 0:w.video)||I,f=((T=this._preloadCache)===null||T===void 0||(T=T.inputSettings)===null||T===void 0?void 0:T.audio)||I);var L={audio:f,video:o};return this._prepInputSettingsForSharing(L,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(o,f){var p=this._inputSettings||{},y={};if(o.video){var w,T,I;y.video={},o.video.settings?(y.video.settings={},f||o.video.settings.customTrack||(I=p.video)===null||I===void 0||!I.settings?y.video.settings=o.video.settings:y.video.settings=ke(ke({},p.video.settings),o.video.settings),Object.keys(y.video.settings).length||delete y.video.settings):(w=p.video)!==null&&w!==void 0&&w.settings&&(y.video.settings=p.video.settings),o.video.processor?y.video.processor=o.video.processor:(T=p.video)!==null&&T!==void 0&&T.processor&&(y.video.processor=p.video.processor)}else p.video&&(y.video=p.video);if(o.audio){var L,W,Z;y.audio={},o.audio.settings?(y.audio.settings={},f||o.audio.settings.customTrack||(Z=p.audio)===null||Z===void 0||!Z.settings?y.audio.settings=o.audio.settings:y.audio.settings=ke(ke({},p.audio.settings),o.audio.settings),Object.keys(y.audio.settings).length||delete y.audio.settings):(L=p.audio)!==null&&L!==void 0&&L.settings&&(y.audio.settings=p.audio.settings),o.audio.processor?y.audio.processor=o.audio.processor:(W=p.audio)!==null&&W!==void 0&&W.processor&&(y.audio.processor=p.audio.processor)}else p.audio&&(y.audio=p.audio);this._maybeUpdateInputSettings(y)}},{key:"_devicesFromInputSettings",value:function(o){var f,p,y=(o==null||(f=o.video)===null||f===void 0||(f=f.settings)===null||f===void 0?void 0:f.deviceId)||null,w=(o==null||(p=o.audio)===null||p===void 0||(p=p.settings)===null||p===void 0?void 0:p.deviceId)||null,T=this._preloadCache.outputDeviceId||null;return{camera:y?{deviceId:y}:{},mic:w?{deviceId:w}:{},speaker:T?{deviceId:T}:{}}}},{key:"updateInputSettings",value:(ot=Me((function*(o){var f=this;return We(),Ej(o)?o.video||o.audio?(Cj(o,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(o,!0),this._getInputSettings()):new Promise((function(p,y){f.sendMessageToCallMachine({action:"update-input-settings",inputSettings:o},(function(w){if(w.error)y(w.error);else{if(w.returnPreloadCache)return f._updatePreloadCacheInputSettings(o,!0),void p(f._getInputSettings());f._maybeUpdateInputSettings(w.inputSettings),p(f._prepInputSettingsForSharing(w.inputSettings,!0))}}))}))):this._getInputSettings():(console.error(Zy()),Promise.reject(Zy()))})),function(o){return ot.apply(this,arguments)})},{key:"setBandwidth",value:function(o){var f=o.kbs,p=o.trackConstraints;if(We(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:f,trackConstraints:p}),this}},{key:"getDailyLang",value:function(){var o=this;if(We(),this._callMachineInitialized)return new Promise((function(f){o.sendMessageToCallMachine({action:"get-daily-lang"},(function(p){delete p.action,delete p.callbackStamp,f(p)}))}))}},{key:"setDailyLang",value:function(o){return We(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:o}),this}},{key:"setProxyUrl",value:function(o){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:o}),this}},{key:"setIceConfig",value:function(o){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:o}),this}},{key:"meetingSessionSummary",value:function(){return[La,Gi].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(Tt=Me((function*(){var o=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),dt(this._callState,"getMeetingSession()"),new Promise((function(f){o.sendMessageToCallMachine({action:"get-meeting-session"},(function(p){delete p.action,delete p.callbackStamp,f(p)}))}))})),function(){return Tt.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return dt(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";fr(this._callObjectMode,"setMeetingSessionData()"),dt(this._callState,"setMeetingSessionData");try{(function(p,y){new Mq({data:p,mergeStrategy:y})})(o,f)}catch(p){throw console.error(p),p}try{this.sendMessageToCallMachine({action:"set-session-data",data:o,mergeStrategy:f})}catch(p){throw new Error("Error setting meeting session data: ".concat(p))}}},{key:"setUserName",value:function(o,f){var p=this;return this.properties.userName=o,new Promise((function(y){p.sendMessageToCallMachine({action:"set-user-name",name:o??"",thisMeetingOnly:ze()||!!f&&!!f.thisMeetingOnly},(function(w){delete w.action,delete w.callbackStamp,y(w)}))}))}},{key:"setUserData",value:(st=Me((function*(o){var f=this;try{kj(o)}catch(p){throw console.error(p),p}if(this.properties.userData=o,this._callMachineInitialized)return new Promise((function(p){try{f.sendMessageToCallMachine({action:"set-user-data",userData:o},(function(y){delete y.action,delete y.callbackStamp,p(y)}))}catch(y){throw new Error("Error setting user data: ".concat(y))}}))})),function(o){return st.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(o){if(o&&(o<100||typeof o!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(o){var f=this;if(typeof AudioWorkletNode>"u"&&!ze())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(o),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise((function(p,y){f.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:o},(function(w){f._isLocalAudioLevelObserverRunning=!w.error,w.error?y({error:w.error}):p()}))}));this._preloadCache.localAudioLevelObserver={enabled:!0,interval:o}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(o){var f=this;if(this.validateAudioLevelInterval(o),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise((function(p,y){f.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:o},(function(w){f._isRemoteParticipantsAudioLevelObserverRunning=!w.error,w.error?y({error:w.error}):p()}))}));this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:o}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(He=Me((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(fr(this._callObjectMode,"startCamera()"),Tm(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(f)}catch(p){return Promise.reject(p)}else{if(this._didPreAuth){if(f.url&&f.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(f.token&&f.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(f),this.properties=ke(ke({},this.properties),f)}return new Promise((function(p){o._preloadCache.inputSettings=o._prepInputSettingsForSharing(o._inputSettings,!1),o.sendMessageToCallMachine({action:"start-camera",properties:Ks(o.properties,o.callClientId),preloadCache:Ks(o._preloadCache,o.callClientId)},(function(y){p({camera:y.camera,mic:y.mic,speaker:y.speaker})}))}))})),function(){return He.apply(this,arguments)})},{key:"validateCustomTrack",value:function(o,f,p){if(p&&p.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(f&&f!=="music"&&f!=="speech"&&!(f instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(p&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(p))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(o instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return We(),dt(this._callState,"startCustomTrack()"),this.validateCustomTrack(f.track,f.mode,f.trackName),new Promise((function(p,y){o._sharedTracks.customTrack=f.track,f.track=yi,o.sendMessageToCallMachine({action:"start-custom-track",properties:f},(function(w){w.error?y({error:w.error}):p(w.mediaTag)}))}))}},{key:"stopCustomTrack",value:function(o){var f=this;return We(),dt(this._callState,"stopCustomTrack()"),new Promise((function(p){f.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:o},(function(y){p(y.mediaTag)}))}))}},{key:"setCamera",value:function(o){var f=this;return Oc(),td(this._callMachineInitialized,"setCamera()"),new Promise((function(p){f.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:o},(function(y){p({device:y.device})}))}))}},{key:"setAudioDevice",value:(Be=Me((function*(o){return Oc(),this.nativeUtils().setAudioDevice(o),{deviceId:yield this.nativeUtils().getAudioDevice()}})),function(o){return Be.apply(this,arguments)})},{key:"cycleCamera",value:function(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((function(p){o.sendMessageToCallMachine({action:"cycle-camera",properties:f},(function(y){p({device:y.device})}))}))}},{key:"cycleMic",value:function(){var o=this;return We(),new Promise((function(f){o.sendMessageToCallMachine({action:"cycle-mic"},(function(p){f({device:p.device})}))}))}},{key:"getCameraFacingMode",value:function(){var o=this;return Oc(),new Promise((function(f){o.sendMessageToCallMachine({action:"get-camera-facing-mode"},(function(p){f(p.facingMode)}))}))}},{key:"setInputDevicesAsync",value:(le=Me((function*(o){var f=this,p=o.audioDeviceId,y=o.videoDeviceId,w=o.audioSource,T=o.videoSource;if(We(),w!==void 0&&(p=w),T!==void 0&&(y=T),typeof p=="boolean"&&(this._setAllowLocalAudio(p),p=void 0),typeof y=="boolean"&&(this._setAllowLocalVideo(y),y=void 0),!p&&!y)return yield this.getInputDevices();var I={};return p&&(p instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=p,p=yi,I.audio={settings:{customTrack:p}}):(delete this._sharedTracks.audioTrack,I.audio={settings:{deviceId:p}})),y&&(y instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=y,y=yi,I.video={settings:{customTrack:y}}):(delete this._sharedTracks.videoTrack,I.video={settings:{deviceId:y}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(I,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise((function(L){f.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:p,videoDeviceId:y},(function(W){if(delete W.action,delete W.callbackStamp,W.returnPreloadCache)return f._updatePreloadCacheInputSettings(I,!1),void L(f._devicesFromInputSettings(f._inputSettings));L(W)}))}))})),function(o){return le.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(ce=Me((function*(o){var f=this,p=o.outputDeviceId;if(We(),!p||typeof p!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=p,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(y,w){f.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:p},(function(T){if(delete T.action,delete T.callbackStamp,T.error){var I=new Error(T.error.message);return I.type=T.error.type,void w(I)}T.returnPreloadCache?y(f._devicesFromInputSettings(f._inputSettings)):y(T)}))}))})),function(o){return ce.apply(this,arguments)})},{key:"getInputDevices",value:(oe=Me((function*(){var o=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(f){o.sendMessageToCallMachine({action:"get-input-devices"},(function(p){p.returnPreloadCache?f(o._devicesFromInputSettings(o._inputSettings)):f({camera:p.camera,mic:p.mic,speaker:p.speaker})}))}))})),function(){return oe.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Oc(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(o){if(Oc(),[a1,Gq].includes(o)){if(o!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=o,!this.disableReactNativeAutoDeviceManagement("audio")&&$d(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",o)}},{key:"preAuth",value:(X=Me((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(fr(this._callObjectMode,"preAuth()"),Tm(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(f)),!f.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(f),this.properties=ke(ke({},this.properties),f),new Promise((function(p,y){o._preloadCache.inputSettings=o._prepInputSettingsForSharing(o._inputSettings,!1),o.sendMessageToCallMachine({action:"daily-method-preauth",properties:Ks(o.properties,o.callClientId),preloadCache:Ks(o._preloadCache,o.callClientId)},(function(w){return w.error?y(w.error):w.access?(o._didPreAuth=!0,void p({access:w.access})):y(new Error("unknown error in preAuth()"))}))}))})),function(){return X.apply(this,arguments)})},{key:"load",value:(G=Me((function*(o){var f=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(o&&(this.validateProperties(o),this.properties=ke(ke({},this.properties),o)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(xC),this.emitDailyJSEvent({action:MU}),this._callObjectMode?new Promise((function(p,y){f._callObjectLoader.cancel();var w=Date.now();f._callObjectLoader.load(f.properties.dailyConfig,(function(T){f._bundleLoadTime=T?"no-op":Date.now()-w,f._updateCallState(MC),T&&f.emitDailyJSEvent({action:PC}),p()}),(function(T,I){if(f.emitDailyJSEvent({action:AU}),!I){f._updateCallState(Gi),f.resetMeetingDependentVars();var L={action:NC,errorMsg:T.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:T,bundleUrl:eh(f.properties.dailyConfig)}}};f._maybeSendToSentry(L),f.emitDailyJSEvent(L),y(T.msg)}}))})):(this._iframe.src=WO(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise((function(p,y){f._loadedCallback=function(w){f._callState!==Gi?(f._updateCallState(MC),(f.properties.cssFile||f.properties.cssText)&&f.loadCss(f.properties),p()):y(w)}})))}})),function(o){return G.apply(this,arguments)})},{key:"join",value:(U=Me((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var p=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(f)}catch(y){return this.updateIsPreparingToJoin(!1),Promise.reject(y)}}else{if(p=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(f.url&&f.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(f.token&&f.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(f.url&&!this._callObjectMode&&f.url&&f.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(f.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(f),this.properties=ke(ke({},this.properties),f)}return f.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!f.showLocalVideo),f.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!f.showParticipantsBar),this._callState===Ga||this._callState===Hy?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Hy,!1),this.emitDailyJSEvent({action:jU}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Ks(this.properties,this.callClientId),preloadCache:Ks(this._preloadCache,this.callClientId)}),new Promise((function(y,w){o._joinedCallback=function(T,I){if(o._callState!==Gi){if(o._updateCallState(Ga),T)for(var L in T){if(o._callObjectMode){var W=o._callMachine().store;JC(T[L],W),GC(T[L],W),YC(T[L],o._participants[L],W)}o._participants[L]=ke({},T[L]),o.toggleParticipantAudioBasedOnNativeAudioFocus()}p&&o.loadCss(o.properties),y(T)}else w(I)}})))})),function(){return U.apply(this,arguments)})},{key:"leave",value:(R=Me((function*(){var o=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise((function(f){o._callState===La||o._callState===Gi?f():o._callObjectLoader&&!o._callObjectLoader.loaded?(o._callObjectLoader.cancel(),o._updateCallState(La),o.resetMeetingDependentVars(),o.emitDailyJSEvent({action:La}),f()):(o._resolveLeave=f,o.sendMessageToCallMachine({action:"leave-meeting"}))}))})),function(){return R.apply(this,arguments)})},{key:"startScreenShare",value:(D=Me((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(td(this._callMachineInitialized,"startScreenShare()"),f.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",f.screenVideoSendSettings),f.mediaStream&&(this._sharedTracks.screenMediaStream=f.mediaStream,f.mediaStream=yi),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var p=this.nativeUtils();if(yield p.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:LC,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});p.setSystemScreenCaptureStartCallback((function(){p.setSystemScreenCaptureStartCallback(null),o.sendMessageToCallMachine({action:RC,captureOptions:f})})),p.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:RC,captureOptions:f})})),function(){return D.apply(this,arguments)})},{key:"stopScreenShare",value:function(){td(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=o.type;if(f&&f!=="cloud"&&f!=="raw-tracks"&&f!=="local")throw new Error("invalid type: ".concat(f,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(ke({action:"local-recording-start"},o))}},{key:"updateRecording",value:function(o){var f=o.layout,p=f===void 0?{preset:"default"}:f,y=o.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:p,instanceId:y})}},{key:"stopRecording",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ke({action:"local-recording-stop"},o))}},{key:"startLiveStreaming",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ke({action:"daily-method-start-live-streaming"},o))}},{key:"updateLiveStreaming",value:function(o){var f=o.layout,p=f===void 0?{preset:"default"}:f,y=o.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:p,instanceId:y})}},{key:"addLiveStreamingEndpoints",value:function(o){var f=o.endpoints,p=o.instanceId;this.sendMessageToCallMachine({action:$C,endpointsOp:bq,endpoints:f,instanceId:p})}},{key:"removeLiveStreamingEndpoints",value:function(o){var f=o.endpoints,p=o.instanceId;this.sendMessageToCallMachine({action:$C,endpointsOp:wq,endpoints:f,instanceId:p})}},{key:"stopLiveStreaming",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ke({action:"daily-method-stop-live-streaming"},o))}},{key:"validateDailyConfig",value:function(o){o.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(o.camSimulcastEncodings)),o.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),uj()&&o.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o){if(!(o instanceof Array||Array.isArray(o)))throw new Error("encodings must be an Array");if(!p1(o.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var y=0;y<o.length;y++){var w=o[y];for(var T in this._validateEncodingLayerHasValidProperties(w),w)if(Cm.includes(T)){if(typeof w[T]!="number")throw new Error("".concat(T," must be a number"));if(f){var I=f[T],L=I.min,W=I.max;if(!p1(w[T],L,W))throw new Error("".concat(T," value not in range. valid range: ").concat(L," to ").concat(W))}}else if(!["active","scalabilityMode"].includes(T))throw new Error("Invalid key ".concat(T,", valid keys are:")+Object.values(Cm));if(p&&!w.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:($=Me((function*(o){var f=this,p=o.url,y=o.settings,w=y===void 0?{state:Jy.PLAY}:y;try{(function(T){if(typeof T!="string")throw new Error('url parameter must be "string" type')})(p),f1(w),(function(T){for(var I in T)if(!c1.includes(I))throw new Error("Invalid key ".concat(I,", valid keys are: ").concat(c1));T.simulcastEncodings&&this.validateSimulcastEncodings(T.simulcastEncodings,wj,!0)})(w)}catch(T){throw console.error("invalid argument Error: ".concat(T)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),T}return new Promise((function(T,I){f.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:p,settings:w},(function(L){L.error?I({error:L.error,errorMsg:L.errorMsg}):T({session_id:L.session_id,remoteMediaPlayerState:{state:L.state,settings:L.settings}})}))}))})),function(o){return $.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(j=Me((function*(o){var f=this;if(typeof o!="string")throw new Error(" remotePlayerID must be of type string");return new Promise((function(p,y){f.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:o},(function(w){w.error?y({error:w.error,errorMsg:w.errorMsg}):p()}))}))})),function(o){return j.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(O=Me((function*(o){var f=this,p=o.session_id,y=o.settings;try{f1(y)}catch(w){throw console.error("invalid argument Error: ".concat(w)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),w}return new Promise((function(w,T){f.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:p,settings:y},(function(I){I.error?T({error:I.error,errorMsg:I.errorMsg}):w({session_id:I.session_id,remoteMediaPlayerState:{state:I.state,settings:I.settings}})}))}))})),function(o){return O.apply(this,arguments)})},{key:"startTranscription",value:function(o){dt(this._callState,"startTranscription()"),this.sendMessageToCallMachine(ke({action:"daily-method-start-transcription"},o))}},{key:"updateTranscription",value:function(o){if(dt(this._callState,"updateTranscription()"),!o)throw new Error("updateTranscription Error: options is mandatory");if(Qe(o)!=="object")throw new Error("updateTranscription Error: options must be object type");if(o.participants&&!Array.isArray(o.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(ke({action:"daily-method-update-transcription"},o))}},{key:"stopTranscription",value:function(o){if(dt(this._callState,"stopTranscription()"),o&&Qe(o)!=="object")throw new Error("stopTranscription Error: options must be object type");if(o&&!o.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(ke({action:"daily-method-stop-transcription"},o))}},{key:"startDialOut",value:(x=Me((function*(o){var f=this;dt(this._callState,"startDialOut()");var p=function(I){if(I){if(!Array.isArray(I))throw new Error("Error starting dial out: audio codec must be an array");if(I.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");I.forEach((function(L){if(typeof L!="string")throw new Error("Error starting dial out: audio codec must be a string");if(L!=="OPUS"&&L!=="PCMU"&&L!=="PCMA"&&L!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")}))}};if(!o.sipUri&&!o.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(o.sipUri&&o.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(o.sipUri){if(typeof o.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!o.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(o.video&&typeof o.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(I){if(I&&(p(I.audio),I.video)){if(!Array.isArray(I.video))throw new Error("Error starting dial out: video codec must be an array");if(I.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");I.video.forEach((function(L){if(typeof L!="string")throw new Error("Error starting dial out: video codec must be a string");if(L!=="H264"&&L!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")}))}})(o.codecs)}if(o.phoneNumber){if(typeof o.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(o.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");o.codecs&&p(o.codecs.audio)}if(o.callerId){if(typeof o.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(o.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(o.displayName){if(typeof o.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(o.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(o.userId){if(typeof o.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(o.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(u1(o),o.permissions&&o.permissions.canReceive){var y=on(_j.validateJSONObject(o.permissions.canReceive),2),w=y[0],T=y[1];if(!w)throw new Error(T)}return new Promise((function(I,L){f.sendMessageToCallMachine(ke({action:"dialout-start"},o),(function(W){W.error?L(W.error):I(W)}))}))})),function(o){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(o){var f=this;return dt(this._callState,"stopDialOut()"),new Promise((function(p,y){f.sendMessageToCallMachine(ke({action:"dialout-stop"},o),(function(w){w.error?y(w.error):p(w)}))}))}},{key:"sipCallTransfer",value:(S=Me((function*(o){var f=this;if(dt(this._callState,"sipCallTransfer()"),!o)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return o.useSipRefer=!1,h1(o,"sipCallTransfer"),u1(o),new Promise((function(p,y){f.sendMessageToCallMachine(ke({action:FC},o),(function(w){w.error?y(w.error):p(w)}))}))})),function(o){return S.apply(this,arguments)})},{key:"sipRefer",value:(C=Me((function*(o){var f=this;if(dt(this._callState,"sipRefer()"),!o)throw new Error("sessionId and toEndPoint are mandatory parameter");return o.useSipRefer=!0,h1(o,"sipRefer"),new Promise((function(p,y){f.sendMessageToCallMachine(ke({action:FC},o),(function(w){w.error?y(w.error):p(w)}))}))})),function(o){return C.apply(this,arguments)})},{key:"sendDTMF",value:(P=Me((function*(o){var f=this;return dt(this._callState,"sendDTMF()"),(function(p){var y=p.sessionId,w=p.tones;if(!y||!w)throw new Error("sessionId and tones are mandatory parameter");if(typeof y!="string"||typeof w!="string")throw new Error("sessionId and tones should be of string type");if(w.length>20)throw new Error("tones string must be upto 20 characters");var T=/[^0-9A-D*#]/g,I=w.match(T);if(I&&I[0])throw new Error("".concat(I[0]," is not valid DTMF tone"))})(o),new Promise((function(p,y){f.sendMessageToCallMachine(ke({action:"send-dtmf"},o),(function(w){w.error?y(w.error):p(w)}))}))})),function(o){return P.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var o=this;return this._callState!==Ga?Promise.resolve(ke({stats:{latest:{}}},this._network)):new Promise((function(f){o.sendMessageToCallMachine({action:"get-calc-stats"},(function(p){f(ke(ke({},o._network),{},{stats:p.stats}))}))}))}},{key:"testWebsocketConnectivity",value:(E=Me((function*(){var o=this;if(xm(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(f){return Promise.reject(f)}return new Promise((function(f,p){o.sendMessageToCallMachine({action:"test-websocket-connectivity"},(function(y){y.error?p(y.error):f(y.results)}))}))})),function(){return E.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(o){return o?o instanceof MediaStreamTrack?!!Wq(o)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(_=Me((function*(){var o=this;We(),fr(this._callObjectMode,"testCallQuality()"),td(this._callMachineInitialized,"testCallQuality()",null,!0),Tm(this._callState,this._isPreparingToJoin,"testCallQuality()");var f=this._testCallAlreadyInProgress,p=function(w){f||(o._testCallInProgress=w)};if(p(!0),this.needsLoad())try{var y=this._callState;yield this.load(),this._callState=y}catch(w){return p(!1),Promise.reject(w)}return new Promise((function(w){o.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:o.properties.dailyJsVersion},(function(T){var I=T.results,L=I.result,W=wE(I,Hq);if(L==="failed"){var Z,ae=ke({},W);(Z=W.error)!==null&&Z!==void 0&&Z.details?(W.error.details=JSON.parse(W.error.details),ae.error=ke(ke({},ae.error),{},{details:ke({},ae.error.details)}),ae.error.details.duringTest="testCallQuality"):(ae.error=ae.error?ke({},ae.error):{},ae.error.details={duringTest:"testCallQuality"}),o._maybeSendToSentry(ae)}p(!1),w(ke({result:L},W))}))}))})),function(){return _.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(v=Me((function*(o){var f;ze()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),f=yield this.testPeerToPeerCallQuality(o)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),f=yield this.testCallQuality());var p={result:f.result,secondsElapsed:f.secondsElapsed};return f.data&&(p.data={maxRTT:f.data.maxRoundTripTime,packetLoss:f.data.avgRecvPacketLoss}),p})),function(o){return v.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(m=Me((function*(o){var f=this;if(xm(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(w){return Promise.reject(w)}var p=o.videoTrack,y=o.duration;if(!this._validateVideoTrackForNetworkTests(p))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=p,new Promise((function(w,T){f.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:y},(function(I){I.error?T(I.error):w(I.results)}))}))})),function(o){return m.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){ze()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(d=Me((function*(o){var f=this;if(xm(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(p){return Promise.reject(p)}if(!this._validateVideoTrackForNetworkTests(o))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=o,new Promise((function(p,y){f.sendMessageToCallMachine({action:"test-network-connectivity"},(function(w){w.error?y(w.error):p(w.results)}))}))})),function(o){return d.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var o=this;return new Promise((function(f){o._callState===Ga?o.sendMessageToCallMachine({action:"get-cpu-load-stats"},(function(p){f(p.cpuStats)})):f({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})}))}},{key:"_validateEncodingLayerHasValidProperties",value:function(o){var f;if(!(((f=Object.keys(o))===null||f===void 0?void 0:f.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Cm))}},{key:"_validateVideoSendSettings",value:function(o,f){var p=o==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],y="Video send settings should be either an object or one of the supported presets: ".concat(p.join());if(typeof f=="string"){if(!p.includes(f))throw new Error(y)}else{if(Qe(f)!=="object")throw new Error(y);if(!f.maxQuality&&!f.encodings&&f.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(f.maxQuality&&["low","medium","high"].indexOf(f.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(f.encodings){var w=!1;switch(Object.keys(f.encodings).length){case 1:w=!f.encodings.low;break;case 2:w=!f.encodings.low||!f.encodings.medium;break;case 3:w=!f.encodings.low||!f.encodings.medium||!f.encodings.high;break;default:w=!0}if(w)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");f.encodings.low&&this._validateEncodingLayerHasValidProperties(f.encodings.low),f.encodings.medium&&this._validateEncodingLayerHasValidProperties(f.encodings.medium),f.encodings.high&&this._validateEncodingLayerHasValidProperties(f.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(o){var f=this;if(!o||Object.keys(o).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(o).forEach((function(p){var y=on(p,2),w=y[0],T=y[1];f._validateVideoSendSettings(w,T)}))}},{key:"updateSendSettings",value:function(o){var f=this;return this.validateUpdateSendSettings(o),this.needsLoad()?(this._preloadCache.sendSettings=o,{sendSettings:this._preloadCache.sendSettings}):new Promise((function(p,y){f.sendMessageToCallMachine({action:"update-send-settings",sendSettings:o},(function(w){w.error?y(w.error):p(w.sendSettings)}))}))}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return We(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(o){return We(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:o}),this}},{key:"activeSpeakerMode",value:function(){return We(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(o){return dt(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=o,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:o}),this}},{key:"enumerateDevices",value:(u=Me((function*(){var o=this;if(this._callObjectMode){var f=yield navigator.mediaDevices.enumerateDevices();return ps()==="Firefox"&&sh().major>115&&sh().major<123&&(f=f.filter((function(p){return p.kind!=="audiooutput"}))),{devices:f.map((function(p){var y=JSON.parse(JSON.stringify(p));if(!ze()&&p.kind==="videoinput"&&p.getCapabilities){var w,T=p.getCapabilities();y.facing=(T==null||(w=T.facingMode)===null||w===void 0?void 0:w.length)>=1?T.facingMode[0]:void 0}return y}))}}return new Promise((function(p){o.sendMessageToCallMachine({action:"enumerate-devices"},(function(y){p({devices:y.devices})}))}))})),function(){return u.apply(this,arguments)})},{key:"sendAppMessage",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(dt(this._callState,"sendAppMessage()"),JSON.stringify(o).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:o,to:f}),this}},{key:"addFakeParticipant",value:function(o){return We(),dt(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(ke({action:"add-fake-participant"},o)),this}},{key:"setShowNamesMode",value:function(o){return In(this._callObjectMode,"setShowNamesMode()"),We(),o&&o!=="always"&&o!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:o}),this)}},{key:"setShowLocalVideo",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return In(this._callObjectMode,"setShowLocalVideo()"),We(),dt(this._callState,"setShowLocalVideo()"),typeof o!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:o}),this._showLocalVideo=o,this)}},{key:"showLocalVideo",value:function(){return In(this._callObjectMode,"showLocalVideo()"),We(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return In(this._callObjectMode,"setShowParticipantsBar()"),We(),dt(this._callState,"setShowParticipantsBar()"),typeof o!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:o}),this._showParticipantsBar=o,this)}},{key:"showParticipantsBar",value:function(){return In(this._callObjectMode,"showParticipantsBar()"),We(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return We(),In(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(o){return We(),In(this._callObjectMode,"setCustomIntegrations()"),dt(this._callState,"setCustomIntegrations()"),Aj(o)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:o}),this._customIntegrations=o,this):this}},{key:"startCustomIntegrations",value:function(o){var f=this;if(We(),In(this._callObjectMode,"startCustomIntegrations()"),dt(this._callState,"startCustomIntegrations()"),Array.isArray(o)&&o.some((function(w){return typeof w!="string"}))||!Array.isArray(o)&&typeof o!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var p=typeof o=="string"?[o]:o,y=p.filter((function(w){return!(w in f._customIntegrations)}));return y.length?(console.error(`Can't find custom integration(s): "`.concat(y.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:p}),this)}},{key:"stopCustomIntegrations",value:function(o){var f=this;if(We(),In(this._callObjectMode,"stopCustomIntegrations()"),dt(this._callState,"stopCustomIntegrations()"),Array.isArray(o)&&o.some((function(w){return typeof w!="string"}))||!Array.isArray(o)&&typeof o!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var p=typeof o=="string"?[o]:o,y=p.filter((function(w){return!(w in f._customIntegrations)}));return y.length?(console.error(`Can't find custom integration(s): "`.concat(y.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:p}),this)}},{key:"customTrayButtons",value:function(){return In(this._callObjectMode,"customTrayButtons()"),We(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(o){return In(this._callObjectMode,"updateCustomTrayButtons()"),We(),dt(this._callState,"updateCustomTrayButtons()"),Mj(o)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:o}),this._customTrayButtons=o,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(ch))),this)}},{key:"theme",value:function(){return In(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(o){var f=this;return In(this._callObjectMode,"setTheme()"),new Promise((function(p,y){try{f.validateProperties({theme:o}),f.properties.theme=ke({},o),f.sendMessageToCallMachine({action:"set-theme",theme:f.properties.theme});try{f.emitDailyJSEvent({action:xU,theme:f.properties.theme})}catch(w){console.log("could not emit 'theme-updated'",w)}p(f.properties.theme)}catch(w){y(w)}}))}},{key:"requestFullscreen",value:(l=Me((function*(){if(We(),this._iframe&&!document.fullscreenElement&&BC())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(o){console.log("could not make video call fullscreen",o)}})),function(){return l.apply(this,arguments)})},{key:"exitFullscreen",value:function(){We(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(s=Me((function*(){var o=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise((function(f){o.sendMessageToCallMachine({action:"get-sidebar-view"},(function(p){f(p.view)}))}))})),function(){return s.apply(this,arguments)})},{key:"setSidebarView",value:function(o){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:o}),this)}},{key:"room",value:(i=Me((function*(){var o=this,f=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,p=f===void 0||f;return this._accessState.access===ym||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise((function(y){o.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:p},(function(w){delete w.action,delete w.callbackStamp,y(w)}))}))})),function(){return i.apply(this,arguments)})},{key:"geo",value:(r=Me((function*(){try{var o=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield o.json()).geo}}catch(f){return console.error("geo lookup failed",f),{current:""}}})),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=Me((function*(o){var f=this;return We(),dt(this._callState,"setNetworkTopology()"),new Promise((function(p,y){f.sendMessageToCallMachine({action:"set-network-topology",opts:o},(function(w){w.error?y({error:w.error}):p({workerId:w.workerId})}))}))})),function(o){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=Me((function*(){var o=this;return new Promise((function(f,p){o.needsLoad()&&f({topology:"none"}),o.sendMessageToCallMachine({action:"get-network-topology"},(function(y){y.error?p({error:y.error}):f({topology:y.topology})}))}))})),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(o){if(We(),typeof o!="number"&&o!==!0&&o!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(o));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:o})}},{key:"on",value:function(o,f){return qu.prototype.on.call(this,o,f)}},{key:"once",value:function(o,f){return qu.prototype.once.call(this,o,f)}},{key:"off",value:function(o,f){return qu.prototype.off.call(this,o,f)}},{key:"validateProperties",value:function(o){var f,p;if(o!=null&&(f=o.dailyConfig)!==null&&f!==void 0&&f.userMediaAudioConstraints){var y,w;ze()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var T=o.inputSettings||{};T.audio=((y=o.inputSettings)===null||y===void 0?void 0:y.audio)||{},T.audio.settings=((w=o.inputSettings)===null||w===void 0||(w=w.audio)===null||w===void 0?void 0:w.settings)||{},T.audio.settings=ke(ke({},T.audio.settings),o.dailyConfig.userMediaAudioConstraints),o.inputSettings=T,delete o.dailyConfig.userMediaAudioConstraints}if(o!=null&&(p=o.dailyConfig)!==null&&p!==void 0&&p.userMediaVideoConstraints){var I,L;ze()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var W=o.inputSettings||{};W.video=((I=o.inputSettings)===null||I===void 0?void 0:I.video)||{},W.video.settings=((L=o.inputSettings)===null||L===void 0||(L=L.video)===null||L===void 0?void 0:L.settings)||{},W.video.settings=ke(ke({},W.video.settings),o.dailyConfig.userMediaVideoConstraints),o.inputSettings=W,delete o.dailyConfig.userMediaVideoConstraints}for(var Z in o)if(Da[Z]){if(Da[Z].validate&&!Da[Z].validate(o[Z],this))throw new Error("property '".concat(Z,"': ").concat(Da[Z].help))}else console.warn("Ignoring unrecognized property '".concat(Z,"'")),delete o[Z]}},{key:"assembleMeetingUrl",value:function(){var o,f,p=ke(ke({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(o=this.properties.dailyConfig)!==null&&o!==void 0&&o.proxyUrl?encodeURIComponent((f=this.properties.dailyConfig)===null||f===void 0?void 0:f.proxyUrl):void 0}),y=p.url.match(/\?/)?"&":"?";return p.url+y+Object.keys(Da).filter((function(w){return Da[w].queryString&&p[w]!==void 0})).map((function(w){return"".concat(Da[w].queryString,"=").concat(p[w])})).join("&")}},{key:"needsLoad",value:function(){return[TC,xC,La,Gi].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(o,f){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(o,f,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(o){this._messageChannel.forwardPackagedMessageToCallMachine(o,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(o){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(o,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(o){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(o)}},{key:"handleMessageFromCallMachine",value:function(o){switch(o.action){case CU:this.sendMessageToCallMachine(ke({action:TU},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var f={action:Xu,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:eh(this.properties.dailyConfig)}};this.sendMessageToCallMachine(f),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case PC:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(o);break;case IU:var p,y=ke({},o);delete y.internal,this._maxAppMessageSize=((p=o.internal)===null||p===void 0?void 0:p._maxAppMessageSize)||_m,this._joinedCallback&&(this._joinedCallback(o.participants),this._joinedCallback=null),this.emitDailyJSEvent(y);break;case NU:case DU:if(this._callState===La)return;if(o.participant&&o.participant.session_id){var w=o.participant.local?"local":o.participant.session_id;if(this._callObjectMode){var T=this._callMachine().store;JC(o.participant,T),GC(o.participant,T),YC(o.participant,this._participants[w],T)}try{this.maybeParticipantTracksStopped(this._participants[w],o.participant),this.maybeParticipantTracksStarted(this._participants[w],o.participant),this.maybeEventRecordingStopped(this._participants[w],o.participant),this.maybeEventRecordingStarted(this._participants[w],o.participant)}catch(xi){console.error("track events error",xi)}this.compareEqualForParticipantUpdateEvent(o.participant,this._participants[w])||(this._participants[w]=ke({},o.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(o))}break;case RU:if(o.participant&&o.participant.session_id){var I=this._participants[o.participant.session_id];I&&this.maybeParticipantTracksStopped(I,null),delete this._participants[o.participant.session_id],this.emitDailyJSEvent(o)}break;case $U:mn(this._participantCounts,o.participantCounts)||(this._participantCounts=o.participantCounts,this.emitDailyJSEvent(o));break;case FU:var L={access:o.access};o.awaitingAccess&&(L.awaitingAccess=o.awaitingAccess),mn(this._accessState,L)||(this._accessState=L,this.emitDailyJSEvent(o));break;case BU:if(o.meetingSession){this._meetingSessionSummary=o.meetingSession,this.emitDailyJSEvent(o);var W=ke(ke({},o),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(W)}break;case NC:var Z;this._iframe&&!o.preserveIframe&&(this._iframe.src=""),this._updateCallState(Gi),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(o.errorMsg),this._loadedCallback=null),o.preserveIframe;var ae=wE(o,Jq);ae!=null&&(Z=ae.error)!==null&&Z!==void 0&&Z.details&&(ae.error.details=JSON.parse(ae.error.details)),this._maybeSendToSentry(o),this._joinedCallback&&(this._joinedCallback(null,ae),this._joinedCallback=null),this.emitDailyJSEvent(ae);break;case LU:this._callState!==Gi&&this._updateCallState(La),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(o);break;case"selected-devices-updated":o.devices&&this.emitDailyJSEvent(o);break;case uq:var Le=o.state,we=o.threshold,Re=o.quality,fe=Le.state,Te=Le.reasons;fe===this._network.networkState&&mn(Te,this._network.networkStateReasons)&&we===this._network.threshold&&Re===this._network.quality||(this._network.networkState=fe,this._network.networkStateReasons=Te,this._network.quality=Re,this._network.threshold=we,o.networkState=fe,Te.length&&(o.networkStateReasons=Te),delete o.state,this.emitDailyJSEvent(o));break;case hq:o&&o.cpuLoadState&&this.emitDailyJSEvent(o);break;case fq:o&&o.faceCounts!==void 0&&this.emitDailyJSEvent(o);break;case cq:var Fe=o.activeSpeaker;this._activeSpeaker.peerId!==Fe.peerId&&(this._activeSpeaker.peerId=Fe.peerId,this.emitDailyJSEvent({action:o.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var ct=o.show;this._showLocalVideo=ct,this.emitDailyJSEvent({action:o.action,show:ct});break;case lq:var pt=o.enabled;this._activeSpeakerMode!==pt&&(this._activeSpeakerMode=pt,this.emitDailyJSEvent({action:o.action,enabled:this._activeSpeakerMode}));break;case qU:case WU:case VU:this._waitingParticipants=o.allWaitingParticipants,this.emitDailyJSEvent({action:o.action,participant:o.participant});break;case _q:mn(this._receiveSettings,o.receiveSettings)||(this._receiveSettings=o.receiveSettings,this.emitDailyJSEvent({action:o.action,receiveSettings:o.receiveSettings}));break;case IC:this._maybeUpdateInputSettings(o.inputSettings);break;case"send-settings-updated":mn(this._sendSettings,o.sendSettings)||(this._sendSettings=o.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:o.action,sendSettings:o.sendSettings}));break;case"local-audio-level":this._localAudioLevel=o.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(o);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=o.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(o);break;case nq:var pe=o.session_id;this._rmpPlayerState[pe]=o.playerState,this.emitDailyJSEvent(o);break;case iq:delete this._rmpPlayerState[o.session_id],this.emitDailyJSEvent(o);break;case rq:var Ze=o.session_id,xn=this._rmpPlayerState[Ze];xn&&this.compareEqualForRMPUpdateEvent(xn,o.remoteMediaPlayerState)||(this._rmpPlayerState[Ze]=o.remoteMediaPlayerState,this.emitDailyJSEvent(o));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(o);break;case UU:var nr=this._meetingSessionState.topology!==(o.meetingSessionState&&o.meetingSessionState.topology);this._meetingSessionState=Mm(o.meetingSessionState,this._callObjectMode),(this._callObjectMode||nr)&&this.emitDailyJSEvent(o);break;case aq:this._isScreenSharing=!0,this.emitDailyJSEvent(o);break;case sq:case oq:this._isScreenSharing=!1,this.emitDailyJSEvent(o);break;case OC:case jC:case QU:case KU:case XU:case JU:case GU:case YU:case PU:case OU:case eq:case tq:case"test-completed":case dq:case ZU:case pq:case mq:case gq:case vq:case LC:case yq:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(o);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(o,f){var p="record";o&&(f.local||f[p]!==!1||o[p]===f[p]||this.emitDailyJSEvent({action:jC}))}},{key:"maybeEventRecordingStarted",value:function(o,f){var p="record";o&&(f.local||f[p]!==!0||o[p]===f[p]||this.emitDailyJSEvent({action:OC}))}},{key:"_trackStatePlayable",value:function(o){return!(!o||o.state!==bU)}},{key:"_trackChanged",value:function(o,f){return o?.id!==f?.id}},{key:"maybeEventTrackStopped",value:function(o,f,p){var y,w,T=(y=f?.tracks[o])!==null&&y!==void 0?y:null,I=(w=p?.tracks[o])!==null&&w!==void 0?w:null,L=T?.track;if(L){var W=this._trackStatePlayable(T),Z=this._trackStatePlayable(I),ae=this._trackChanged(L,I?.track);W&&(Z&&!ae||this.emitDailyJSEvent({action:HU,track:L,participant:p??f,type:o}))}}},{key:"maybeEventTrackStarted",value:function(o,f,p){var y,w,T=(y=f?.tracks[o])!==null&&y!==void 0?y:null,I=(w=p?.tracks[o])!==null&&w!==void 0?w:null,L=I?.track;if(L){var W=this._trackStatePlayable(T),Z=this._trackStatePlayable(I),ae=this._trackChanged(T?.track,L);Z&&(W&&!ae||this.emitDailyJSEvent({action:zU,track:L,participant:p,type:o}))}}},{key:"maybeParticipantTracksStopped",value:function(o,f){if(o)for(var p in o.tracks)this.maybeEventTrackStopped(p,o,f)}},{key:"maybeParticipantTracksStarted",value:function(o,f){if(f)for(var p in f.tracks)this.maybeEventTrackStarted(p,o,f)}},{key:"compareEqualForRMPUpdateEvent",value:function(o,f){var p,y;return o.state===f.state&&((p=o.settings)===null||p===void 0?void 0:p.volume)===((y=f.settings)===null||y===void 0?void 0:y.volume)}},{key:"emitDailyJSEvent",value:function(o){try{o.callClientId=this.callClientId,this.emit(o.action,o)}catch(f){console.log("could not emit",o,f)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(o,f){return!!mn(o,f)&&(!o.videoTrack||!f.videoTrack||o.videoTrack.id===f.videoTrack.id&&o.videoTrack.muted===f.videoTrack.muted&&o.videoTrack.enabled===f.videoTrack.enabled)&&(!o.audioTrack||!f.audioTrack||o.audioTrack.id===f.audioTrack.id&&o.audioTrack.muted===f.audioTrack.muted&&o.audioTrack.enabled===f.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return ze()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(o){this._updateCallState(this._callState,o)}},{key:"_updateCallState",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(o!==this._callState||f!==this._isPreparingToJoin){var p=this._callState,y=this._isPreparingToJoin;this._callState=o,this._isPreparingToJoin=f;var w=this._callState===Ga;this.updateShowAndroidOngoingMeetingNotification(w);var T=$d(p,y),I=$d(this._callState,this._isPreparingToJoin);T!==I&&(this.updateKeepDeviceAwake(I),this.updateDeviceAudioMode(I),this.updateNoOpRecordingEnsuringBackgroundContinuity(I))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=o1,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:ym},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Mm(s1,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=_m,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(o){ze()&&this.nativeUtils().setKeepDeviceAwake(o,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(o){if(ze()&&!this.disableReactNativeAutoDeviceManagement("audio")){var f=o?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(f)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(o){if(ze()&&this.nativeUtils().setShowOngoingMeetingNotification){var f,p,y,w;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var T=this.properties.reactNativeConfig.androidInCallNotification;f=T.title,p=T.subtitle,y=T.iconName,w=T.disableForCustomOverride}w&&(o=!1),this.nativeUtils().setShowOngoingMeetingNotification(o,f,p,y,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(o){ze()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(o)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var o;if(ze()){var f=(o=this._callMachine())===null||o===void 0||(o=o.store)===null||o===void 0?void 0:o.getState();for(var p in f?.streams){var y=f.streams[p];y&&y.pendingTrack&&y.pendingTrack.kind==="audio"&&(y.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(o){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[o]}},{key:"absoluteUrl",value:function(o){if(o!==void 0){var f=document.createElement("a");return f.href=o,f.href}}},{key:"sayHello",value:function(){var o="hello, world.";return console.log(o),o}},{key:"_logUseAfterDestroy",value:function(){var o=Object.values(Na)[0];if(this.needsLoad())if(o&&!o.needsLoad()){var f={action:Xu,level:"error",code:this.strictMode?9995:9997};o.sendMessageToCallMachine(f)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var p={action:Xu,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(p,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var o=0,f=Object.values(Na);o<f.length;o++){var p=f[o];p._callMachineInitialized?(p.sendMessageToCallMachine({action:Xu,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),p._delayDuplicateInstanceLog=!1):p._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(o){var f,p,y,w;if(!((f=o.error)!==null&&f!==void 0&&f.type&&(![EU,SU,AC].includes(o.error.type)||o.error.type===AC&&o.error.msg.includes("deleted")))){var T=(p=this.properties)!==null&&p!==void 0&&p.url?new URL(this.properties.url):void 0,I="production";T&&T.host.includes(".staging.daily")&&(I="staging");var L,W,Z,ae,Le,we=(function(pe){const Ze=[BB(),$B(),hU(),uU(),vU(),_U(),VB(),yU()];return pe.autoSessionTracking!==!1&&Ze.push(gU()),Ze})({}).filter((function(pe){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(pe.name)})),Re=new XB({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:rU,stackParser:lU,integrations:we,environment:I}),fe=new fa;if(fe.setClient(Re),Re.init(),this.session_id&&fe.setExtra("sessionId",this.session_id),this.properties){var Te=ke({},this.properties);Te.userName=Te.userName?"[Filtered]":void 0,Te.userData=Te.userData?"[Filtered]":void 0,Te.token=Te.token?"[Filtered]":void 0,fe.setExtra("properties",Te)}if(T){var Fe=T.searchParams.get("domain");if(!Fe){var ct=T.host.match(/(.*?)\./);Fe=ct&&ct[1]||""}Fe&&fe.setTag("domain",Fe)}o.error&&(fe.setTag("fatalErrorType",o.error.type),fe.setExtra("errorDetails",o.error.details),!((L=o.error.details)===null||L===void 0)&&L.uri&&fe.setTag("serverAddress",o.error.details.uri),!((W=o.error.details)===null||W===void 0)&&W.workerGroup&&fe.setTag("workerGroup",o.error.details.workerGroup),!((Z=o.error.details)===null||Z===void 0)&&Z.geoGroup&&fe.setTag("geoGroup",o.error.details.geoGroup),!((ae=o.error.details)===null||ae===void 0)&&ae.on&&fe.setTag("connectionAttempt",o.error.details.on),(Le=o.error.details)!==null&&Le!==void 0&&Le.bundleUrl&&(fe.setTag("bundleUrl",o.error.details.bundleUrl),fe.setTag("bundleError",o.error.details.sourceError.type))),fe.setTags({callMode:this._callObjectMode?ze()?"reactNative":(y=this.properties)!==null&&y!==void 0&&(y=y.dailyConfig)!==null&&y!==void 0&&(y=y.callMode)!==null&&y!==void 0&&y.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:t.version()});var pt=((w=o.error)===null||w===void 0?void 0:w.msg)||o.errorMsg;fe.captureException(new Error(pt))}}},{key:"_callMachine",value:function(){var o;return(o=window._daily)===null||o===void 0||(o=o.instances)===null||o===void 0||(o=o[this.callClientId])===null||o===void 0?void 0:o.callMachine}},{key:"_maybeUpdateInputSettings",value:function(o){if(!mn(this._inputSettings,o)){var f=this._getInputSettings();this._inputSettings=o;var p=this._getInputSettings();mn(f,p)||this.emitDailyJSEvent({action:IC,inputSettings:p})}}}],[{key:"supportedBrowser",value:function(){if(ze())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var o=aB.getParser(er());return{supported:!!km(),mobile:o.getPlatformType()==="mobile",name:o.getBrowserName(),version:o.getBrowserVersion(),supportsFullscreen:!!BC(),supportsScreenShare:!!kq(),supportsSfu:!!km(),supportsVideoProcessing:cj(),supportsAudioProcessing:lj()}}},{key:"version",value:function(){return"0.84.0"}},{key:"createCallObject",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o.layout="none",new t(null,o)}},{key:"wrap",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(We(),!o||!o.contentWindow||typeof o.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return f.layout||(f.customLayout?f.layout="custom-v1":f.layout="browser"),new t(o,f)}},{key:"createFrame",value:function(o,f){var p,y;We(),o&&f?(p=o,y=f):o&&o.append?(p=o,y={}):(p=document.body,y=o||{});var w=y.iframeStyle;w||(w=p===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var T=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?T.allow="microphone, camera":T.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",T.style.visibility="hidden",p.appendChild(T),T.style.visibility=null,Object.keys(w).forEach((function(I){return T.style[I]=w[I]})),y.layout||(y.customLayout?y.layout="custom-v1":y.layout="browser");try{return new t(T,y)}catch(I){throw p.removeChild(T),I}}},{key:"createTransparentFrame",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};We();var f=document.createElement("iframe");return f.allow="microphone; camera; autoplay",f.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(f),o.layout||(o.layout="custom-v1"),t.wrap(f,o)}},{key:"getCallInstance",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return o?Na[o]:Object.values(Na)[0]}}]);var e,n,r,i,s,l,u,d,m,v,_,E,P,C,S,x,O,j,$,D,R,U,G,X,oe,ce,le,Be,He,st,Tt,ot,qe,ue,_e,de,q,Y})();function u1(t){if(t.extension){if(typeof t.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(t.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(t.waitBeforeExtensionDialSec){if(typeof t.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(t.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!t.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Ks(t,e){var n={};for(var r in t)if(t[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=yi;else if(r==="dailyConfig"){if(t[r].modifyLocalSdpHook){var i=window._daily.instances[e].customCallbacks||{};i.modifyLocalSdpHook=t[r].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=i,delete t[r].modifyLocalSdpHook}if(t[r].modifyRemoteSdpHook){var s=window._daily.instances[e].customCallbacks||{};s.modifyRemoteSdpHook=t[r].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=s,delete t[r].modifyRemoteSdpHook}n[r]=t[r]}else n[r]=t[r];return n}function dt(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==Ga){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(n+=" ".concat(e)),console.error(n),new Error(n)}}function $d(t,e){return[Hy,Ga].includes(t)||e}function Tm(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if($d(t,e)){var i="".concat(n," not supported after joining a meeting.");throw r&&(i+=" ".concat(r)),console.error(i),new Error(i)}}function td(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!t){var r="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function xm(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function fr(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function In(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function We(){if(ze())throw new Error("This daily-js method is not currently supported in React Native")}function Oc(){if(!ze())throw new Error("This daily-js method is only supported in React Native")}function kj(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),mn(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function Sj(t,e){for(var n=e.allowAllParticipantsKey,r=function(_){var E=["local"];return n||E.push("*"),_&&!E.includes(_)},i=function(_){return!!(_.layer===void 0||Number.isInteger(_.layer)&&_.layer>=0||_.layer==="inherit")},s=function(_){return!!_&&!(_.video&&!i(_.video))&&!(_.screenVideo&&!i(_.screenVideo))},l=0,u=Object.entries(t);l<u.length;l++){var d=on(u[l],2),m=d[0],v=d[1];if(!r(m)||!s(v))return!1}return!0}function Ej(t){if(Qe(t)!=="object")return!1;for(var e=0,n=Object.entries(t);e<n.length;e++){var r=on(n[e],2),i=r[0],s=r[1];switch(i){case"video":if(Qe(s)!=="object")return!1;for(var l=0,u=Object.entries(s);l<u.length;l++){var d=on(u[l],2),m=d[0],v=d[1];switch(m){case"processor":if(!Kq(v))return!1;break;case"settings":if(!d1(v))return!1;break;default:return!1}}break;case"audio":if(Qe(s)!=="object")return!1;for(var _=0,E=Object.entries(s);_<E.length;_++){var P=on(E[_],2),C=P[0],S=P[1];switch(C){case"processor":if(!Qq(S))return!1;break;case"settings":if(!d1(S))return!1;break;default:return!1}}break;default:return!1}}return!0}function Cj(t,e,n){var r,i=[];t.video&&t.video.processor&&(cj((r=e?.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(t.video.settings?delete t.video.processor:delete t.video,i.push("video"))),t.audio&&t.audio.processor&&(lj()||(t.audio.settings?delete t.audio.processor:delete t.audio,i.push("audio"))),i.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(i.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(n.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:yi}):delete n.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(n.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:yi}):delete n.videoTrack)}function Qq(t){if(ze())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&Qe(t)==="object"&&(Object.keys(t).filter((function(n){return!e.includes(n)})).forEach((function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete t[n]})),!!(function(n){return typeof n!="string"?!1:Object.values(sj).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)})(t.type))}function Kq(t){if(ze())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||Qe(t)!=="object"||!(function(n){return typeof n!="string"?!1:Object.values(Rd).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)})(t.type)||t.config&&(Qe(t.config)!=="object"||!(function(n,r){var i=Object.keys(r);if(i.length===0)return!0;var s="invalid object in inputSettings -> video -> processor -> config";switch(n){case Rd.BGBLUR:return i.length>1||i[0]!=="strength"?(console.error(s),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(s,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Rd.BGIMAGE:return!(r.source!==void 0&&!(function(l){if(l.source==="default")return l.type="default",!0;if(l.source instanceof ArrayBuffer)return!0;if(th(l.source))return l.type="url",!!(function(m){var v=new URL(m),_=v.pathname;if(v.protocol==="data:")try{var E=_.substring(_.indexOf(":")+1,_.indexOf(";")).split("/")[1];return wm.includes(E)}catch(C){return console.error("failed to deduce blob content type",C),!1}var P=_.split(".").at(-1).toLowerCase().trim();return wm.includes(P)})(l.source)||(console.error("invalid image type; supported types: [".concat(wm.join(", "),"]")),!1);return u=l.source,d=Number(u),isNaN(d)||!Number.isInteger(d)||d<=0||d>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(l.type="daily-preselect",!0);var u,d})(r));default:return!0}})(t.type,t.config))?!1:(Object.keys(t).filter((function(n){return!e.includes(n)})).forEach((function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete t[n]})),!0)}function d1(t){return Qe(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function Zy(){var t=Object.values(Rd).join(" | "),e=Object.values(sj).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function Tj(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(kU).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function xj(){return"customIntegrations should be an object of type ".concat(JSON.stringify(Xy),".")}function Mj(t){if(t&&Qe(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(ch),".")),!1;if(t)for(var e=0,n=Object.entries(t);e<n.length;e++)for(var r=on(n[e],1)[0],i=0,s=Object.entries(t[r]);i<s.length;i++){var l=on(s[i],2),u=l[0],d=l[1],m=ch.id[u];if(!m)return console.error("customTrayButton does not support key ".concat(u)),!1;switch(u){case"iconPath":case"iconPathDarkMode":if(!th(d))return console.error("customTrayButton ".concat(u," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(d))return console.error("customTrayButton ".concat(u," should be ").concat(m,". Got: ").concat(d)),!1;break;default:if(Qe(d)!==m)return console.error("customTrayButton ".concat(u," should be a ").concat(m,".")),!1}}return!0}function Aj(t){if(!t||t&&Qe(t)!=="object"||Array.isArray(t))return console.error(xj()),!1;for(var e=function(_){return"".concat(_," should be ").concat(Xy.id[_])},n=function(_,E){return console.error("customIntegration ".concat(_,": ").concat(E))},r=0,i=Object.entries(t);r<i.length;r++){var s=on(i[r],1)[0];if(!("label"in t[s]))return n(s,"label is required"),!1;if(!("location"in t[s]))return n(s,"location is required"),!1;if(!("src"in t[s])&&!("srcdoc"in t[s]))return n(s,"src or srcdoc is required"),!1;for(var l=0,u=Object.entries(t[s]);l<u.length;l++){var d=on(u[l],2),m=d[0],v=d[1];switch(m){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof v!="string")return n(s,e(m)),!1;break;case"iconURL":if(!th(v))return n(s,"".concat(m," should be a url")),!1;break;case"src":if("srcdoc"in t[s])return n(s,"cannot have both src and srcdoc"),!1;if(!th(v))return n(s,'src "'.concat(v,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[s])return n(s,"cannot have both src and srcdoc"),!1;if(typeof v!="string")return n(s,e(m)),!1;break;case"location":if(!["main","sidebar"].includes(v))return n(s,e(m)),!1;break;case"controlledBy":if(v!=="*"&&v!=="owners"&&(!Array.isArray(v)||v.some((function(_){return typeof _!="string"}))))return n(s,e(m)),!1;break;case"shared":if((!Array.isArray(v)||v.some((function(_){return typeof _!="string"})))&&v!=="owners"&&typeof v!="boolean")return n(s,e(m)),!1;break;default:if(!Xy.id[m])return console.error("customIntegration does not support key ".concat(m)),!1}}}return!0}function Pj(t,e){if(e===void 0)return!1;switch(Qe(e)){case"string":return Qe(t)===e;case"object":if(Qe(t)!=="object")return!1;for(var n in t)if(!Pj(t[n],e[n]))return!1;return!0;default:return!1}}function h1(t,e){var n=t.sessionId,r=t.toEndPoint,i=t.callerId,s=t.useSipRefer;if(!n||!r)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(s&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(i&&typeof i!="string")throw new Error("callerId must be of type string");if(i&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function f1(t){if(Qe(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(Jy).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Jy));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function p1(t,e,n){return!(typeof t!="number"||t<e||t>n)}function Mm(t,e){return t&&!e&&delete t.data,t}function Xq(t){return t&&t.__esModule?t.default:t}function Oj(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var jj={};Oj(jj,"DailyRTVIMessageType",()=>e_);Oj(jj,"DailyTransport",()=>ns);let br=class{static floatTo16BitPCM(e){const n=new ArrayBuffer(e.length*2),r=new DataView(n);let i=0;for(let s=0;s<e.length;s++,i+=2){let l=Math.max(-1,Math.min(1,e[s]));r.setInt16(i,l<0?l*32768:l*32767,!0)}return n}static mergeBuffers(e,n){const r=new Uint8Array(e.byteLength+n.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(n),e.byteLength),r.buffer}_packData(e,n){return[new Uint8Array([n,n>>8]),new Uint8Array([n,n>>8,n>>16,n>>24])][e]}pack(e,n){if(n?.bitsPerSample)if(n?.channels){if(!n?.data)throw new Error('Missing "data"')}else throw new Error('Missing "channels"');else throw new Error('Missing "bitsPerSample"');const{bitsPerSample:r,channels:i,data:s}=n,l=["RIFF",this._packData(1,52),"WAVE","fmt ",this._packData(1,16),this._packData(0,1),this._packData(0,i.length),this._packData(1,e),this._packData(1,e*i.length*r/8),this._packData(0,i.length*r/8),this._packData(0,r),"data",this._packData(1,i[0].length*i.length*r/8),s],u=new Blob(l,{type:"audio/mpeg"}),d=URL.createObjectURL(u);return{blob:u,url:d,channelCount:i.length,sampleRate:e,duration:s.byteLength/(i.length*e*2)}}};globalThis.WavPacker=br;const m1=[4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13],Zq=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],la=[],gb=[];for(let t=1;t<=8;t++)for(let e=0;e<m1.length;e++){const n=m1[e];la.push(n/Math.pow(2,8-t)),gb.push(Zq[e]+t)}const lh=[32,2e3],g1=la.filter((t,e)=>la[e]>lh[0]&&la[e]<lh[1]),eW=gb.filter((t,e)=>la[e]>lh[0]&&la[e]<lh[1]);let $h=class Ij{static getFrequencies(e,n,r,i="frequency",s=-100,l=-30){r||(r=new Float32Array(e.frequencyBinCount),e.getFloatFrequencyData(r));const u=n/2,d=1/r.length*u;let m,v,_;if(i==="music"||i==="voice"){const C=i==="voice"?g1:la,S=Array(C.length).fill(s);for(let x=0;x<r.length;x++){const O=x*d,j=r[x];for(let $=C.length-1;$>=0;$--)if(O>C[$]){S[$]=Math.max(S[$],j);break}}m=S,v=i==="voice"?g1:la,_=i==="voice"?eW:gb}else m=Array.from(r),v=m.map((C,S)=>d*S),_=v.map(C=>`${C.toFixed(2)} Hz`);const E=m.map(C=>Math.max(0,Math.min((C-s)/(l-s),1)));return{values:new Float32Array(E),frequencies:v,labels:_}}constructor(e,n=null){if(this.fftResults=[],n){const{length:r,sampleRate:i}=n,s=new OfflineAudioContext({length:r,sampleRate:i}),l=s.createBufferSource();l.buffer=n;const u=s.createAnalyser();u.fftSize=8192,u.smoothingTimeConstant=.1,l.connect(u);const d=1/60,m=r/i,v=_=>{const E=d*_;E<m&&s.suspend(E).then(()=>{const P=new Float32Array(u.frequencyBinCount);u.getFloatFrequencyData(P),this.fftResults.push(P),v(_+1)}),_===1?s.startRendering():s.resume()};l.start(0),v(1),this.audio=e,this.context=s,this.analyser=u,this.sampleRate=i,this.audioBuffer=n}else{const r=new AudioContext,i=r.createMediaElementSource(e),s=r.createAnalyser();s.fftSize=8192,s.smoothingTimeConstant=.1,i.connect(s),s.connect(r.destination),this.audio=e,this.context=r,this.analyser=s,this.sampleRate=this.context.sampleRate,this.audioBuffer=null}}getFrequencies(e="frequency",n=-100,r=-30){let i=null;if(this.audioBuffer&&this.fftResults.length){const s=this.audio.currentTime/this.audio.duration,l=Math.min(s*this.fftResults.length|0,this.fftResults.length-1);i=this.fftResults[l]}return Ij.getFrequencies(this.analyser,this.sampleRate,i,e,n,r)}async resumeIfSuspended(){return this.context.state==="suspended"&&await this.context.resume(),!0}};globalThis.AudioAnalysis=$h;const tW=`
class StreamProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.hasStarted = false;
    this.hasInterrupted = false;
    this.outputBuffers = [];
    this.bufferLength = 128;
    this.write = { buffer: new Float32Array(this.bufferLength), trackId: null };
    this.writeOffset = 0;
    this.trackSampleOffsets = {};
    this.port.onmessage = (event) => {
      if (event.data) {
        const payload = event.data;
        if (payload.event === 'write') {
          const int16Array = payload.buffer;
          const float32Array = new Float32Array(int16Array.length);
          for (let i = 0; i < int16Array.length; i++) {
            float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32
          }
          this.writeData(float32Array, payload.trackId);
        } else if (
          payload.event === 'offset' ||
          payload.event === 'interrupt'
        ) {
          const requestId = payload.requestId;
          const trackId = this.write.trackId;
          const offset = this.trackSampleOffsets[trackId] || 0;
          this.port.postMessage({
            event: 'offset',
            requestId,
            trackId,
            offset,
          });
          if (payload.event === 'interrupt') {
            this.hasInterrupted = true;
          }
        } else {
          throw new Error(\`Unhandled event "\${payload.event}"\`);
        }
      }
    };
  }

  writeData(float32Array, trackId = null) {
    let { buffer } = this.write;
    let offset = this.writeOffset;
    for (let i = 0; i < float32Array.length; i++) {
      buffer[offset++] = float32Array[i];
      if (offset >= buffer.length) {
        this.outputBuffers.push(this.write);
        this.write = { buffer: new Float32Array(this.bufferLength), trackId };
        buffer = this.write.buffer;
        offset = 0;
      }
    }
    this.writeOffset = offset;
    return true;
  }

  process(inputs, outputs, parameters) {
    const output = outputs[0];
    const outputChannelData = output[0];
    const outputBuffers = this.outputBuffers;
    if (this.hasInterrupted) {
      this.port.postMessage({ event: 'stop' });
      return false;
    } else if (outputBuffers.length) {
      this.hasStarted = true;
      const { buffer, trackId } = outputBuffers.shift();
      for (let i = 0; i < outputChannelData.length; i++) {
        outputChannelData[i] = buffer[i] || 0;
      }
      if (trackId) {
        this.trackSampleOffsets[trackId] =
          this.trackSampleOffsets[trackId] || 0;
        this.trackSampleOffsets[trackId] += buffer.length;
      }
      return true;
    } else if (this.hasStarted) {
      this.port.postMessage({ event: 'stop' });
      return false;
    } else {
      return true;
    }
  }
}

registerProcessor('stream_processor', StreamProcessor);
`,nW=new Blob([tW],{type:"application/javascript"}),rW=URL.createObjectURL(nW),iW=rW;let aW=class{constructor({sampleRate:e=44100}={}){this.scriptSrc=iW,this.sampleRate=e,this.context=null,this.stream=null,this.analyser=null,this.trackSampleOffsets={},this.interruptedTrackIds={}}async connect(){this.context=new AudioContext({sampleRate:this.sampleRate}),this._speakerID&&this.context.setSinkId(this._speakerID),this.context.state==="suspended"&&await this.context.resume();try{await this.context.audioWorklet.addModule(this.scriptSrc)}catch(n){throw console.error(n),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const e=this.context.createAnalyser();return e.fftSize=8192,e.smoothingTimeConstant=.1,this.analyser=e,!0}getFrequencies(e="frequency",n=-100,r=-30){if(!this.analyser)throw new Error("Not connected, please call .connect() first");return $h.getFrequencies(this.analyser,this.sampleRate,null,e,n,r)}async updateSpeaker(e){const n=this._speakerID;if(this._speakerID=e,this.context)try{e==="default"?await this.context.setSinkId():await this.context.setSinkId(e)}catch(r){console.error(`Could not set sinkId to ${e}: ${r}`),this._speakerID=n}}_start(){const e=new AudioWorkletNode(this.context,"stream_processor");return e.connect(this.context.destination),e.port.onmessage=n=>{const{event:r}=n.data;if(r==="stop")e.disconnect(),this.stream=null;else if(r==="offset"){const{requestId:i,trackId:s,offset:l}=n.data,u=l/this.sampleRate;this.trackSampleOffsets[i]={trackId:s,offset:l,currentTime:u}}},this.analyser.disconnect(),e.connect(this.analyser),this.stream=e,!0}add16BitPCM(e,n="default"){if(typeof n!="string")throw new Error("trackId must be a string");if(this.interruptedTrackIds[n])return;this.stream||this._start();let r;if(e instanceof Int16Array)r=e;else if(e instanceof ArrayBuffer)r=new Int16Array(e);else throw new Error("argument must be Int16Array or ArrayBuffer");return this.stream.port.postMessage({event:"write",buffer:r,trackId:n}),r}async getTrackSampleOffset(e=!1){if(!this.stream)return null;const n=crypto.randomUUID();this.stream.port.postMessage({event:e?"interrupt":"offset",requestId:n});let r;for(;!r;)r=this.trackSampleOffsets[n],await new Promise(s=>setTimeout(()=>s(),1));const{trackId:i}=r;return e&&i&&(this.interruptedTrackIds[i]=!0),r}async interrupt(){return this.getTrackSampleOffset(!0)}};globalThis.WavStreamPlayer=aW;const sW=`
class AudioProcessor extends AudioWorkletProcessor {

  constructor() {
    super();
    this.port.onmessage = this.receive.bind(this);
    this.initialize();
  }

  initialize() {
    this.foundAudio = false;
    this.recording = false;
    this.chunks = [];
  }

  /**
   * Concatenates sampled chunks into channels
   * Format is chunk[Left[], Right[]]
   */
  readChannelData(chunks, channel = -1, maxChannels = 9) {
    let channelLimit;
    if (channel !== -1) {
      if (chunks[0] && chunks[0].length - 1 < channel) {
        throw new Error(
          \`Channel \${channel} out of range: max \${chunks[0].length}\`
        );
      }
      channelLimit = channel + 1;
    } else {
      channel = 0;
      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);
    }
    const channels = [];
    for (let n = channel; n < channelLimit; n++) {
      const length = chunks.reduce((sum, chunk) => {
        return sum + chunk[n].length;
      }, 0);
      const buffers = chunks.map((chunk) => chunk[n]);
      const result = new Float32Array(length);
      let offset = 0;
      for (let i = 0; i < buffers.length; i++) {
        result.set(buffers[i], offset);
        offset += buffers[i].length;
      }
      channels[n] = result;
    }
    return channels;
  }

  /**
   * Combines parallel audio data into correct format,
   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]
   */
  formatAudioData(channels) {
    if (channels.length === 1) {
      // Simple case is only one channel
      const float32Array = channels[0].slice();
      const meanValues = channels[0].slice();
      return { float32Array, meanValues };
    } else {
      const float32Array = new Float32Array(
        channels[0].length * channels.length
      );
      const meanValues = new Float32Array(channels[0].length);
      for (let i = 0; i < channels[0].length; i++) {
        const offset = i * channels.length;
        let meanValue = 0;
        for (let n = 0; n < channels.length; n++) {
          float32Array[offset + n] = channels[n][i];
          meanValue += channels[n][i];
        }
        meanValues[i] = meanValue / channels.length;
      }
      return { float32Array, meanValues };
    }
  }

  /**
   * Converts 32-bit float data to 16-bit integers
   */
  floatTo16BitPCM(float32Array) {
    const buffer = new ArrayBuffer(float32Array.length * 2);
    const view = new DataView(buffer);
    let offset = 0;
    for (let i = 0; i < float32Array.length; i++, offset += 2) {
      let s = Math.max(-1, Math.min(1, float32Array[i]));
      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);
    }
    return buffer;
  }

  /**
   * Retrieves the most recent amplitude values from the audio stream
   * @param {number} channel
   */
  getValues(channel = -1) {
    const channels = this.readChannelData(this.chunks, channel);
    const { meanValues } = this.formatAudioData(channels);
    return { meanValues, channels };
  }

  /**
   * Exports chunks as an audio/wav file
   */
  export() {
    const channels = this.readChannelData(this.chunks);
    const { float32Array, meanValues } = this.formatAudioData(channels);
    const audioData = this.floatTo16BitPCM(float32Array);
    return {
      meanValues: meanValues,
      audio: {
        bitsPerSample: 16,
        channels: channels,
        data: audioData,
      },
    };
  }

  receive(e) {
    const { event, id } = e.data;
    let receiptData = {};
    switch (event) {
      case 'start':
        this.recording = true;
        break;
      case 'stop':
        this.recording = false;
        break;
      case 'clear':
        this.initialize();
        break;
      case 'export':
        receiptData = this.export();
        break;
      case 'read':
        receiptData = this.getValues();
        break;
      default:
        break;
    }
    // Always send back receipt
    this.port.postMessage({ event: 'receipt', id, data: receiptData });
  }

  sendChunk(chunk) {
    const channels = this.readChannelData([chunk]);
    const { float32Array, meanValues } = this.formatAudioData(channels);
    const rawAudioData = this.floatTo16BitPCM(float32Array);
    const monoAudioData = this.floatTo16BitPCM(meanValues);
    this.port.postMessage({
      event: 'chunk',
      data: {
        mono: monoAudioData,
        raw: rawAudioData,
      },
    });
  }

  process(inputList, outputList, parameters) {
    // Copy input to output (e.g. speakers)
    // Note that this creates choppy sounds with Mac products
    const sourceLimit = Math.min(inputList.length, outputList.length);
    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {
      const input = inputList[inputNum];
      const output = outputList[inputNum];
      const channelCount = Math.min(input.length, output.length);
      for (let channelNum = 0; channelNum < channelCount; channelNum++) {
        input[channelNum].forEach((sample, i) => {
          output[channelNum][i] = sample;
        });
      }
    }
    const inputs = inputList[0];
    // There's latency at the beginning of a stream before recording starts
    // Make sure we actually receive audio data before we start storing chunks
    let sliceIndex = 0;
    if (!this.foundAudio) {
      for (const channel of inputs) {
        sliceIndex = 0; // reset for each channel
        if (this.foundAudio) {
          break;
        }
        if (channel) {
          for (const value of channel) {
            if (value !== 0) {
              // find only one non-zero entry in any channel
              this.foundAudio = true;
              break;
            } else {
              sliceIndex++;
            }
          }
        }
      }
    }
    if (inputs && inputs[0] && this.foundAudio && this.recording) {
      // We need to copy the TypedArray, because the \`process\`
      // internals will reuse the same buffer to hold each input
      const chunk = inputs.map((input) => input.slice(sliceIndex));
      this.chunks.push(chunk);
      this.sendChunk(chunk);
    }
    return true;
  }
}

registerProcessor('audio_processor', AudioProcessor);
`,oW=new Blob([sW],{type:"application/javascript"}),cW=URL.createObjectURL(oW),Lj=cW;let lW=class{constructor({sampleRate:e=44100,outputToSpeakers:n=!1,debug:r=!1}={}){this.scriptSrc=Lj,this.sampleRate=e,this.outputToSpeakers=n,this.debug=!!r,this._deviceChangeCallback=null,this._deviceErrorCallback=null,this._devices=[],this.deviceSelection=null,this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorSize=void 0,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)}}static async decode(e,n=44100,r=-1){const i=new AudioContext({sampleRate:n});let s,l;if(e instanceof Blob){if(r!==-1)throw new Error('Can not specify "fromSampleRate" when reading from Blob');l=e,s=await l.arrayBuffer()}else if(e instanceof ArrayBuffer){if(r!==-1)throw new Error('Can not specify "fromSampleRate" when reading from ArrayBuffer');s=e,l=new Blob([s],{type:"audio/wav"})}else{let v,_;if(e instanceof Int16Array){_=e,v=new Float32Array(e.length);for(let S=0;S<e.length;S++)v[S]=e[S]/32768}else if(e instanceof Float32Array)v=e;else if(e instanceof Array)v=new Float32Array(e);else throw new Error('"audioData" must be one of: Blob, Float32Arrray, Int16Array, ArrayBuffer, Array<number>');if(r===-1)throw new Error('Must specify "fromSampleRate" when reading from Float32Array, In16Array or Array');if(r<3e3)throw new Error('Minimum "fromSampleRate" is 3000 (3kHz)');_||(_=br.floatTo16BitPCM(v));const E={bitsPerSample:16,channels:[v],data:_};l=new br().pack(r,E).blob,s=await l.arrayBuffer()}const u=await i.decodeAudioData(s),d=u.getChannelData(0),m=URL.createObjectURL(l);return{blob:l,url:m,values:d,audioBuffer:u}}log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}async _event(e,n={},r=null){if(r=r||this.processor,!r)throw new Error("Can not send events without recording first");const i={event:e,id:this._lastEventId++,data:n};r.port.postMessage(i);const s=new Date().valueOf();for(;!this.eventReceipts[i.id];){if(new Date().valueOf()-s>this.eventTimeout)throw new Error(`Timeout waiting for "${e}" event`);await new Promise(u=>setTimeout(()=>u(!0),1))}const l=this.eventReceipts[i.id];return delete this.eventReceipts[i.id],l}listenForDeviceChange(e){if(e===null&&this._deviceChangeCallback)navigator.mediaDevices.removeEventListener("devicechange",this._deviceChangeCallback),this._deviceChangeCallback=null;else if(e!==null){let n=0,r=[];const i=l=>l.map(u=>u.deviceId).sort().join(","),s=async()=>{let l=++n;const u=await this.listDevices();l===n&&i(r)!==i(u)&&(r=u,e(u.slice()))};navigator.mediaDevices.addEventListener("devicechange",s),s(),this._deviceChangeCallback=s}return!0}listenForDeviceErrors(e){this._deviceErrorCallback=e}async requestPermission(){const e=await navigator.permissions.query({name:"microphone"});if(e.state==="denied")this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic"],type:"unknown",error:new Error("Microphone access denied")});else if(e.state==="prompt")try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(i=>i.stop())}catch(n){console.error("Error accessing microphone."),this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic"],type:"unknown",error:n})}return!0}async listDevices(){if(!navigator.mediaDevices||!("enumerateDevices"in navigator.mediaDevices))throw new Error("Could not request user devices");return await this.requestPermission(),(await navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="audioinput")}async begin(e){if(this.processor)throw new Error("Already connected: please call .end() to start a new session");if(!navigator.mediaDevices||!("getUserMedia"in navigator.mediaDevices))throw this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic","cam"],type:"undefined-mediadevices"}),new Error("Could not request user media");e=e??this.deviceSelection?.deviceId;try{const u={audio:!0};e&&(u.audio={deviceId:{exact:e}}),this.stream=await navigator.mediaDevices.getUserMedia(u)}catch(u){throw this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic"],type:"unknown",error:u}),new Error("Could not start media stream")}this.listDevices().then(u=>{e=this.stream.getAudioTracks()[0].getSettings().deviceId,console.log("find current device",u,e,this.stream.getAudioTracks()[0].getSettings()),this.deviceSelection=u.find(d=>d.deviceId===e),console.log("current device",this.deviceSelection)});const n=new AudioContext({sampleRate:this.sampleRate}),r=n.createMediaStreamSource(this.stream);try{await n.audioWorklet.addModule(this.scriptSrc)}catch(u){throw console.error(u),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const i=new AudioWorkletNode(n,"audio_processor");i.port.onmessage=u=>{const{event:d,id:m,data:v}=u.data;if(d==="receipt")this.eventReceipts[m]=v;else if(d==="chunk")if(this._chunkProcessorSize){const _=this._chunkProcessorBuffer;this._chunkProcessorBuffer={raw:br.mergeBuffers(_.raw,v.raw),mono:br.mergeBuffers(_.mono,v.mono)},this._chunkProcessorBuffer.mono.byteLength>=this._chunkProcessorSize&&(this._chunkProcessor(this._chunkProcessorBuffer),this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)})}else this._chunkProcessor(v)};const s=r.connect(i),l=n.createAnalyser();return l.fftSize=8192,l.smoothingTimeConstant=.1,s.connect(l),this.outputToSpeakers&&(console.warn(`Warning: Output to speakers may affect sound quality,
especially due to system audio feedback preventative measures.
use only for debugging`),l.connect(n.destination)),this.source=r,this.node=s,this.analyser=l,this.processor=i,console.log("begin completed"),!0}getFrequencies(e="frequency",n=-100,r=-30){if(!this.processor)throw new Error("Session ended: please call .begin() first");return $h.getFrequencies(this.analyser,this.sampleRate,null,e,n,r)}async pause(){if(this.processor){if(!this.recording)throw new Error("Already paused: please call .record() first")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessorBuffer.raw.byteLength&&this._chunkProcessor(this._chunkProcessorBuffer),this.log("Pausing ..."),await this._event("stop"),this.recording=!1,!0}async record(e=()=>{},n=8192){if(this.processor){if(this.recording)throw new Error("Already recording: please call .pause() first");if(typeof e!="function")throw new Error("chunkProcessor must be a function")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessor=e,this._chunkProcessorSize=n,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},this.log("Recording ..."),await this._event("start"),this.recording=!0,!0}async clear(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return await this._event("clear"),!0}async read(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return this.log("Reading ..."),await this._event("read")}async save(e=!1){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!e&&this.recording)throw new Error("Currently recording: please call .pause() first, or call .save(true) to force");this.log("Exporting ...");const n=await this._event("export");return new br().pack(this.sampleRate,n.audio)}async end(){if(!this.processor)throw new Error("Session ended: please call .begin() first");const e=this.processor;this.log("Stopping ..."),await this._event("stop"),this.recording=!1,this.stream.getTracks().forEach(l=>l.stop()),this.log("Exporting ...");const r=await this._event("export",{},e);return this.processor.disconnect(),this.source.disconnect(),this.node.disconnect(),this.analyser.disconnect(),this.stream=null,this.processor=null,this.source=null,this.node=null,new br().pack(this.sampleRate,r.audio)}async quit(){return this.listenForDeviceChange(null),this.deviceSelection=null,this.processor&&await this.end(),!0}};globalThis.WavRecorder=lW;let uW=class{constructor({sampleRate:e=44100,outputToSpeakers:n=!1,debug:r=!1}={}){this.scriptSrc=Lj,this.sampleRate=e,this.outputToSpeakers=n,this.debug=!!r,this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorSize=void 0,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)}}log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}async _event(e,n={},r=null){if(r=r||this.processor,!r)throw new Error("Can not send events without recording first");const i={event:e,id:this._lastEventId++,data:n};r.port.postMessage(i);const s=new Date().valueOf();for(;!this.eventReceipts[i.id];){if(new Date().valueOf()-s>this.eventTimeout)throw new Error(`Timeout waiting for "${e}" event`);await new Promise(u=>setTimeout(()=>u(!0),1))}const l=this.eventReceipts[i.id];return delete this.eventReceipts[i.id],l}async begin(e){if(this.processor)throw new Error("Already connected: please call .end() to start a new session");if(!e||e.kind!=="audio")throw new Error("No audio track provided");this.stream=new MediaStream([e]);const n=new AudioContext({sampleRate:this.sampleRate}),r=n.createMediaStreamSource(this.stream);try{await n.audioWorklet.addModule(this.scriptSrc)}catch(u){throw console.error(u),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const i=new AudioWorkletNode(n,"audio_processor");i.port.onmessage=u=>{const{event:d,id:m,data:v}=u.data;if(d==="receipt")this.eventReceipts[m]=v;else if(d==="chunk")if(this._chunkProcessorSize){const _=this._chunkProcessorBuffer;this._chunkProcessorBuffer={raw:br.mergeBuffers(_.raw,v.raw),mono:br.mergeBuffers(_.mono,v.mono)},this._chunkProcessorBuffer.mono.byteLength>=this._chunkProcessorSize&&(this._chunkProcessor(this._chunkProcessorBuffer),this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)})}else this._chunkProcessor(v)};const s=r.connect(i),l=n.createAnalyser();return l.fftSize=8192,l.smoothingTimeConstant=.1,s.connect(l),this.outputToSpeakers&&(console.warn(`Warning: Output to speakers may affect sound quality,
especially due to system audio feedback preventative measures.
use only for debugging`),l.connect(n.destination)),this.source=r,this.node=s,this.analyser=l,this.processor=i,!0}getFrequencies(e="frequency",n=-100,r=-30){if(!this.processor)throw new Error("Session ended: please call .begin() first");return $h.getFrequencies(this.analyser,this.sampleRate,null,e,n,r)}async pause(){if(this.processor){if(!this.recording)throw new Error("Already paused: please call .record() first")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessorBuffer.raw.byteLength&&this._chunkProcessor(this._chunkProcessorBuffer),this.log("Pausing ..."),await this._event("stop"),this.recording=!1,!0}async record(e=()=>{},n=8192){if(this.processor){if(this.recording)throw new Error("Already recording: HELLO please call .pause() first");if(typeof e!="function")throw new Error("chunkProcessor must be a function")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessor=e,this._chunkProcessorSize=n,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},this.log("Recording ..."),await this._event("start"),this.recording=!0,!0}async clear(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return await this._event("clear"),!0}async read(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return this.log("Reading ..."),await this._event("read")}async save(e=!1){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!e&&this.recording)throw new Error("Currently recording: please call .pause() first, or call .save(true) to force");this.log("Exporting ...");const n=await this._event("export");return new br().pack(this.sampleRate,n.audio)}async end(){if(!this.processor)throw new Error("Session ended: please call .begin() first");const e=this.processor;this.log("Stopping ..."),await this._event("stop"),this.recording=!1,this.log("Exporting ...");const n=await this._event("export",{},e);return this.processor.disconnect(),this.source.disconnect(),this.node.disconnect(),this.analyser.disconnect(),this.stream=null,this.processor=null,this.source=null,this.node=null,new br().pack(this.sampleRate,n.audio)}async quit(){return this.listenForDeviceChange(null),this.processor&&await this.end(),!0}};globalThis.WavRecorder=WavRecorder;var Nj={};Nj=JSON.parse('{"name":"@pipecat-ai/daily-transport","version":"1.4.0","license":"BSD-2-Clause","main":"dist/index.js","module":"dist/index.module.js","types":"dist/index.d.ts","source":"src/index.ts","repository":{"type":"git","url":"git+https://github.com/pipecat-ai/pipecat-client-web-transports.git"},"files":["dist","package.json","README.md"],"scripts":{"build":"parcel build --no-cache","dev":"parcel watch","lint":"eslint . --ext ts --report-unused-disable-directives --max-warnings 0"},"devDependencies":{"@pipecat-ai/client-js":"^1.4.0","eslint":"9.11.1","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.1"},"peerDependencies":{"@pipecat-ai/client-js":"~1.4.0"},"dependencies":{"@daily-co/daily-js":"^0.83.1"},"description":"Pipecat Daily Transport Package","author":"Daily.co","bugs":{"url":"https://github.com/pipecat-ai/pipecat-client-web-transports/issues"},"homepage":"https://github.com/pipecat-ai/pipecat-client-web-transports/blob/main/transports/daily-webrtc/README.md"}');var e_;(function(t){t.AUDIO_BUFFERING_STARTED="audio-buffering-started",t.AUDIO_BUFFERING_STOPPED="audio-buffering-stopped"})(e_||(e_={}));class dW{constructor(e){this._daily=e,this._proxy=new Proxy(this._daily,{get:(n,r,i)=>{if(typeof n[r]=="function"){let s;switch(String(r)){case"preAuth":s="Calls to preAuth() are disabled. Please use Transport.preAuth()";break;case"startCamera":s="Calls to startCamera() are disabled. Please use PipecatClient.initDevices()";break;case"join":s="Calls to join() are disabled. Please use PipecatClient.connect()";break;case"leave":s="Calls to leave() are disabled. Please use PipecatClient.disconnect()";break;case"destroy":s="Calls to destroy() are disabled.";break}return s?()=>{throw new Error(s)}:(...l)=>n[r](...l)}return Reflect.get(n,r,i)}})}get proxy(){return this._proxy}}class ns extends nb{constructor(e={}){super(),this._botId="",this._selectedCam={},this._selectedMic={},this._selectedSpeaker={},this._currentAudioTrack=null,this._audioQueue=[],this._callbacks={};const{bufferLocalAudioUntilBotReady:n,...r}=e;this._dailyFactoryOptions=r,typeof this._dailyFactoryOptions.dailyConfig?.useDevicePreferenceCookies>"u"&&(this._dailyFactoryOptions.dailyConfig==null&&(this._dailyFactoryOptions.dailyConfig={}),this._dailyFactoryOptions.dailyConfig.useDevicePreferenceCookies=!0),this._bufferLocalAudioUntilBotReady=n||!1,this._daily=Yq.createCallObject({...this._dailyFactoryOptions,allowMultipleCallInstances:!0}),this._dailyWrapper=new dW(this._daily)}setupRecorder(){this._mediaStreamRecorder=new uW({sampleRate:ns.RECORDER_SAMPLE_RATE})}handleUserAudioStream(e){this._audioQueue.push(e)}flushAudioQueue(){if(this._audioQueue.length!==0)for(he.debug(`Will flush audio queue: ${this._audioQueue.length}`);this._audioQueue.length>0;){const n=[];for(;n.length<10&&this._audioQueue.length>0;){const r=this._audioQueue.shift();r&&n.push(r)}n.length>0&&this._sendAudioBatch(n)}}_sendAudioBatch(e){const r={id:"raw-audio-batch",label:"rtvi-ai",type:"raw-audio-batch",data:{base64AudioBatch:e.map(i=>{const s=new Uint8Array(i);return btoa(String.fromCharCode(...s))}),sampleRate:ns.RECORDER_SAMPLE_RATE,numChannels:1}};this.sendMessage(r)}initialize(e,n){this._bufferLocalAudioUntilBotReady&&this.setupRecorder(),this._callbacks=e.callbacks??{},this._onMessage=n,(this._dailyFactoryOptions.startVideoOff==null||e.enableCam!=null)&&(this._dailyFactoryOptions.startVideoOff=!(e.enableCam??!1)),(this._dailyFactoryOptions.startAudioOff==null||e.enableMic!=null)&&(this._dailyFactoryOptions.startAudioOff=!(e.enableMic??!0)),this.attachEventListeners(),this.state="disconnected",he.debug("[Daily Transport] Initialized",Xq(Nj).version)}get dailyCallClient(){return this._dailyWrapper.proxy}get state(){return this._state}set state(e){this._state!==e&&(this._state=e,this._callbacks.onTransportStateChanged?.(e))}getSessionInfo(){return this._daily.meetingSessionSummary()}async getAllCams(){const{devices:e}=await this._daily.enumerateDevices();return e.filter(n=>n.kind==="videoinput")}updateCam(e){this._daily.setInputDevicesAsync({videoDeviceId:e}).then(n=>{this._selectedCam=n.camera})}get selectedCam(){return this._selectedCam}async getAllMics(){const{devices:e}=await this._daily.enumerateDevices();return e.filter(n=>n.kind==="audioinput")}updateMic(e){this._daily.setInputDevicesAsync({audioDeviceId:e}).then(n=>{this._selectedMic=n.mic})}get selectedMic(){return this._selectedMic}async getAllSpeakers(){const{devices:e}=await this._daily.enumerateDevices();return e.filter(n=>n.kind==="audiooutput")}updateSpeaker(e){this._daily.setOutputDeviceAsync({outputDeviceId:e}).then(n=>{this._selectedSpeaker=n.speaker}).catch(n=>{this._callbacks.onDeviceError?.(new Xt(["speaker"],n.type??"unknown",n.message))})}get selectedSpeaker(){return this._selectedSpeaker}enableMic(e){this._daily.setLocalAudio(e)}get isMicEnabled(){return this._daily.localAudio()}enableCam(e){this._daily.setLocalVideo(e)}get isCamEnabled(){return this._daily.localVideo()}enableScreenShare(e){e?this._daily.startScreenShare():this._daily.stopScreenShare()}get isSharingScreen(){return this._daily.localScreenAudio()||this._daily.localScreenVideo()}tracks(){const e=this._daily.participants()??{},n=e?.[this._botId],r={local:{audio:e?.local?.tracks?.audio?.persistentTrack,screenAudio:e?.local?.tracks?.screenAudio?.persistentTrack,screenVideo:e?.local?.tracks?.screenVideo?.persistentTrack,video:e?.local?.tracks?.video?.persistentTrack}};return n&&(r.bot={audio:n?.tracks?.audio?.persistentTrack,video:n?.tracks?.video?.persistentTrack}),r}async startRecording(){try{he.info("[Daily Transport] Initializing recording"),await this._mediaStreamRecorder.record(e=>{this.handleUserAudioStream(e.mono)},ns.RECORDER_CHUNK_SIZE),this._callbacks.onAudioBufferingStarted?.(),he.info("[Daily Transport] Recording Initialized")}catch(e){e.message.includes("Already recording")||he.error("Error starting recording",e)}}async preAuth(e){this._dailyFactoryOptions=e,await this._daily.preAuth(e)}async initDevices(){if(!this._daily)throw new Tn("Transport instance not initialized");this.state="initializing";const e=await this._daily.startCamera(this._dailyFactoryOptions),{devices:n}=await this._daily.enumerateDevices(),r=n.filter(l=>l.kind==="videoinput"),i=n.filter(l=>l.kind==="audioinput"),s=n.filter(l=>l.kind==="audiooutput");this._selectedCam=e.camera,this._selectedMic=e.mic,this._selectedSpeaker=e.speaker,this._callbacks.onAvailableCamsUpdated?.(r),this._callbacks.onAvailableMicsUpdated?.(i),this._callbacks.onAvailableSpeakersUpdated?.(s),this._callbacks.onCamUpdated?.(e.camera),this._callbacks.onMicUpdated?.(e.mic),this._callbacks.onSpeakerUpdated?.(e.speaker),this._daily.isLocalAudioLevelObserverRunning()||await this._daily.startLocalAudioLevelObserver(100),this._daily.isRemoteParticipantsAudioLevelObserverRunning()||await this._daily.startRemoteParticipantsAudioLevelObserver(100),this.state="initialized"}_validateConnectionParams(e){if(e==null)return;if(typeof e!="object")throw new Tn("Invalid connection parameters");const n=e;return n.room_url?(n.url=n.room_url,delete n.room_url):n.dailyRoom&&(n.url=n.dailyRoom,delete n.dailyRoom),n.dailyToken&&(n.token=n.dailyToken,delete n.dailyToken),n.token||delete n.token,n}async _connect(e){if(!this._daily)throw new Tn("Transport instance not initialized");e&&(this._dailyFactoryOptions={...this._dailyFactoryOptions,...e}),this.state="connecting";try{await this._daily.join(this._dailyFactoryOptions)}catch(n){throw he.error("Failed to join room",n),this.state="error",new Zd}this._abortController?.signal.aborted||(this.state="connected",this._callbacks.onConnected?.())}async sendReadyMessage(){return new Promise(e=>{const n=()=>{const s=navigator.userAgent;return/iPad|iPhone|iPod/.test(s)||/Macintosh/.test(s)&&"ontouchend"in document},r=()=>{this.state="ready",this.flushAudioQueue(),this.sendMessage(rn.clientReady()),this.stopRecording(),e()};for(const s in this._daily.participants()){const l=this._daily.participants()[s];if(!l.local&&l.tracks?.audio?.persistentTrack){r(),e();return}}const i=s=>{s.participant?.local||(this._daily.off("track-started",i),n()?(he.debug("[Daily Transport] iOS device detected, adding 0.5 second delay before sending ready message"),setTimeout(r,500)):r())};this._daily.on("track-started",i)})}stopRecording(){this._mediaStreamRecorder&&this._mediaStreamRecorder.getStatus()!=="ended"&&(this._mediaStreamRecorder.end(),this._callbacks.onAudioBufferingStopped?.())}attachEventListeners(){this._daily.on("available-devices-updated",this.handleAvailableDevicesUpdated.bind(this)),this._daily.on("selected-devices-updated",this.handleSelectedDevicesUpdated.bind(this)),this._daily.on("camera-error",this.handleDeviceError.bind(this)),this._daily.on("track-started",this.handleTrackStarted.bind(this)),this._daily.on("track-stopped",this.handleTrackStopped.bind(this)),this._daily.on("participant-joined",this.handleParticipantJoined.bind(this)),this._daily.on("participant-left",this.handleParticipantLeft.bind(this)),this._daily.on("local-audio-level",this.handleLocalAudioLevel.bind(this)),this._daily.on("remote-participants-audio-level",this.handleRemoteAudioLevel.bind(this)),this._daily.on("app-message",this.handleAppMessage.bind(this)),this._daily.on("left-meeting",this.handleLeftMeeting.bind(this)),this._daily.on("error",this.handleFatalError.bind(this)),this._daily.on("nonfatal-error",this.handleNonFatalError.bind(this))}async _disconnect(){this.state="disconnecting",this._daily.stopLocalAudioLevelObserver(),this._daily.stopRemoteParticipantsAudioLevelObserver(),this._audioQueue=[],this._currentAudioTrack=null,this.stopRecording(),await this._daily.leave()}sendMessage(e){this._daily.sendAppMessage(e,"*")}handleAppMessage(e){e.data.label==="rtvi-ai"&&this._onMessage({id:e.data.id,type:e.data.type,data:e.data.data})}handleAvailableDevicesUpdated(e){this._callbacks.onAvailableCamsUpdated?.(e.availableDevices.filter(n=>n.kind==="videoinput")),this._callbacks.onAvailableMicsUpdated?.(e.availableDevices.filter(n=>n.kind==="audioinput")),this._callbacks.onAvailableSpeakersUpdated?.(e.availableDevices.filter(n=>n.kind==="audiooutput"))}handleSelectedDevicesUpdated(e){this._selectedCam?.deviceId!==e.devices.camera&&(this._selectedCam=e.devices.camera,this._callbacks.onCamUpdated?.(e.devices.camera)),this._selectedMic?.deviceId!==e.devices.mic&&(this._selectedMic=e.devices.mic,this._callbacks.onMicUpdated?.(e.devices.mic)),this._selectedSpeaker?.deviceId!==e.devices.speaker&&(this._selectedSpeaker=e.devices.speaker,this._callbacks.onSpeakerUpdated?.(e.devices.speaker))}handleDeviceError(e){const n=r=>{const i=[];switch(r.type){case"permissions":return r.blockedMedia.forEach(s=>{i.push(s==="video"?"cam":"mic")}),new Xt(i,r.type,r.msg,{blockedBy:r.blockedBy});case"not-found":return r.missingMedia.forEach(s=>{i.push(s==="video"?"cam":"mic")}),new Xt(i,r.type,r.msg);case"constraints":return r.failedMedia.forEach(s=>{i.push(s==="video"?"cam":"mic")}),new Xt(i,r.type,r.msg,{reason:r.reason});case"cam-in-use":return i.push("cam"),new Xt(i,"in-use",r.msg);case"mic-in-use":return i.push("mic"),new Xt(i,"in-use",r.msg);case"cam-mic-in-use":return i.push("cam"),i.push("mic"),new Xt(i,"in-use",r.msg);case"undefined-mediadevices":case"unknown":default:return i.push("cam"),i.push("mic"),new Xt(i,r.type,r.msg)}};this._callbacks.onDeviceError?.(n(e.error))}async handleLocalAudioTrack(e){if(this.state=="ready"||!this._bufferLocalAudioUntilBotReady)return;switch(this._mediaStreamRecorder.getStatus()){case"ended":try{await this._mediaStreamRecorder.begin(e),await this.startRecording()}catch{}break;case"paused":await this.startRecording();break;case"recording":default:if(this._currentAudioTrack!==e)try{await this._mediaStreamRecorder.end(),await this._mediaStreamRecorder.begin(e),await this.startRecording()}catch{}else he.warn("track-started event received for current track and already recording");break}this._currentAudioTrack=e}handleTrackStarted(e){e.type==="screenAudio"||e.type==="screenVideo"?this._callbacks.onScreenTrackStarted?.(e.track,e.participant?Ra(e.participant):void 0):(e.participant?.local&&e.track.kind==="audio"&&this.handleLocalAudioTrack(e.track),this._callbacks.onTrackStarted?.(e.track,e.participant?Ra(e.participant):void 0))}handleTrackStopped(e){e.type==="screenAudio"||e.type==="screenVideo"?this._callbacks.onScreenTrackStopped?.(e.track,e.participant?Ra(e.participant):void 0):this._callbacks.onTrackStopped?.(e.track,e.participant?Ra(e.participant):void 0)}handleParticipantJoined(e){const n=Ra(e.participant);this._callbacks.onParticipantJoined?.(n),!n.local&&(this._botId=e.participant.session_id,this._callbacks.onBotConnected?.(n))}handleParticipantLeft(e){const n=Ra(e.participant);this._callbacks.onParticipantLeft?.(n),!n.local&&(this._botId="",this._callbacks.onBotDisconnected?.(n))}handleLocalAudioLevel(e){this._callbacks.onLocalAudioLevel?.(e.audioLevel)}handleRemoteAudioLevel(e){const n=this._daily.participants(),r=Object.keys(e.participantsAudioLevel);for(let i=0;i<r.length;i++){const s=r[i],l=e.participantsAudioLevel[s];this._callbacks.onRemoteAudioLevel?.(l,Ra(n[s]))}}handleLeftMeeting(){this.state="disconnected",this._botId="",this._callbacks.onDisconnected?.()}handleFatalError(e){he.error("Daily fatal error",e.errorMsg),this.state="error",this._botId="",this._callbacks.onError?.(rn.error(e.errorMsg,!0))}handleNonFatalError(e){switch(e.type){case"screen-share-error":this._callbacks.onScreenShareError?.(e.errorMsg);break}}}ns.RECORDER_SAMPLE_RATE=16e3;ns.RECORDER_CHUNK_SIZE=512;const Ra=t=>({id:t.user_id,local:t.local,name:t.user_name});function v1(t,e){if(t==null)return{};var n,r,i=(function(l,u){if(l==null)return{};var d={};for(var m in l)if({}.hasOwnProperty.call(l,m)){if(u.indexOf(m)!==-1)continue;d[m]=l[m]}return d})(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ke(t){return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(t)}function Dj(t){var e=(function(n,r){if(Ke(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r);if(Ke(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)})(t,"string");return Ke(e)=="symbol"?e:e+""}function y1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dj(r.key),r)}}function Un(t,e,n){return e&&y1(t.prototype,e),n&&y1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fh(t,e){if(e&&(Ke(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function Mr(t){return Mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mr(t)}function rl(t,e){return rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},rl(t,e)}function Bh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rl(t,e)}function Jr(t,e,n){return(e=Dj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _1(t,e,n,r,i,s,l){try{var u=t[s](l),d=u.value}catch(m){return void n(m)}u.done?e(d):Promise.resolve(d).then(r,i)}function Ae(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function l(d){_1(s,r,i,l,u,"next",d)}function u(d){_1(s,r,i,l,u,"throw",d)}l(void 0)}))}}function b1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cn(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,l,u,d,m=[],v=!0,_=!1;try{if(u=(i=i.call(n)).next,r===0){if(Object(i)!==i)return;v=!1}else for(;!(v=(s=u.call(i)).done)&&(m.push(s.value),m.length!==r);v=!0);}catch(E){_=!0,l=E}finally{try{if(!v&&i.return!=null&&(d=i.return(),Object(d)!==d))return}finally{if(_)throw l}}return m}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return b1(n,r);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b1(n,r):void 0}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function hW(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w1,nd={exports:{}},t_=(function(){if(w1)return nd.exports;w1=1;var t,e=typeof Reflect=="object"?Reflect:null,n=e&&typeof e.apply=="function"?e.apply:function(S,x,O){return Function.prototype.apply.call(S,x,O)};t=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var r=Number.isNaN||function(S){return S!=S};function i(){i.init.call(this)}nd.exports=i,nd.exports.once=function(S,x){return new Promise((function(O,j){function $(R){S.removeListener(x,D),j(R)}function D(){typeof S.removeListener=="function"&&S.removeListener("error",$),O([].slice.call(arguments))}C(S,x,D,{once:!0}),x!=="error"&&(function(R,U,G){typeof R.on=="function"&&C(R,"error",U,G)})(S,$,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function l(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}function u(S){return S._maxListeners===void 0?i.defaultMaxListeners:S._maxListeners}function d(S,x,O,j){var $,D,R,U;if(l(O),(D=S._events)===void 0?(D=S._events=Object.create(null),S._eventsCount=0):(D.newListener!==void 0&&(S.emit("newListener",x,O.listener?O.listener:O),D=S._events),R=D[x]),R===void 0)R=D[x]=O,++S._eventsCount;else if(typeof R=="function"?R=D[x]=j?[O,R]:[R,O]:j?R.unshift(O):R.push(O),($=u(S))>0&&R.length>$&&!R.warned){R.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=S,G.type=x,G.count=R.length,U=G,console&&console.warn&&console.warn(U)}return S}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(S,x,O){var j={fired:!1,wrapFn:void 0,target:S,type:x,listener:O},$=m.bind(j);return $.listener=O,j.wrapFn=$,$}function _(S,x,O){var j=S._events;if(j===void 0)return[];var $=j[x];return $===void 0?[]:typeof $=="function"?O?[$.listener||$]:[$]:O?(function(D){for(var R=new Array(D.length),U=0;U<R.length;++U)R[U]=D[U].listener||D[U];return R})($):P($,$.length)}function E(S){var x=this._events;if(x!==void 0){var O=x[S];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}function P(S,x){for(var O=new Array(x),j=0;j<x;++j)O[j]=S[j];return O}function C(S,x,O,j){if(typeof S.on=="function")j.once?S.once(x,O):S.on(x,O);else{if(typeof S.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S);S.addEventListener(x,(function $(D){j.once&&S.removeEventListener(x,$),O(D)}))}}return Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number"||S<0||r(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");s=S}}),i.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||r(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(S){for(var x=[],O=1;O<arguments.length;O++)x.push(arguments[O]);var j=S==="error",$=this._events;if($!==void 0)j=j&&$.error===void 0;else if(!j)return!1;if(j){var D;if(x.length>0&&(D=x[0]),D instanceof Error)throw D;var R=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw R.context=D,R}var U=$[S];if(U===void 0)return!1;if(typeof U=="function")n(U,this,x);else{var G=U.length,X=P(U,G);for(O=0;O<G;++O)n(X[O],this,x)}return!0},i.prototype.addListener=function(S,x){return d(this,S,x,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(S,x){return d(this,S,x,!0)},i.prototype.once=function(S,x){return l(x),this.on(S,v(this,S,x)),this},i.prototype.prependOnceListener=function(S,x){return l(x),this.prependListener(S,v(this,S,x)),this},i.prototype.removeListener=function(S,x){var O,j,$,D,R;if(l(x),(j=this._events)===void 0)return this;if((O=j[S])===void 0)return this;if(O===x||O.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete j[S],j.removeListener&&this.emit("removeListener",S,O.listener||x));else if(typeof O!="function"){for($=-1,D=O.length-1;D>=0;D--)if(O[D]===x||O[D].listener===x){R=O[D].listener,$=D;break}if($<0)return this;$===0?O.shift():(function(U,G){for(;G+1<U.length;G++)U[G]=U[G+1];U.pop()})(O,$),O.length===1&&(j[S]=O[0]),j.removeListener!==void 0&&this.emit("removeListener",S,R||x)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(S){var x,O,j;if((O=this._events)===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[S]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete O[S]),this;if(arguments.length===0){var $,D=Object.keys(O);for(j=0;j<D.length;++j)($=D[j])!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=O[S])=="function")this.removeListener(S,x);else if(x!==void 0)for(j=x.length-1;j>=0;j--)this.removeListener(S,x[j]);return this},i.prototype.listeners=function(S){return _(this,S,!0)},i.prototype.rawListeners=function(S){return _(this,S,!1)},i.listenerCount=function(S,x){return typeof S.listenerCount=="function"?S.listenerCount(x):E.call(S,x)},i.prototype.listenerCount=E,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]},nd.exports})(),rd=hW(t_),k1=Object.prototype.hasOwnProperty;function S1(t,e,n){for(n of t.keys())if(gn(n,e))return n}function gn(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&gn(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if((i=r)&&typeof i=="object"&&!(i=S1(e,i))||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if((i=r[0])&&typeof i=="object"&&!(i=S1(e,i))||!gn(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){for(n in r=0,t)if(k1.call(t,n)&&++r&&!k1.call(e,n)||!(n in e)||!gn(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!=t&&e!=e}const fW={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Rj={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Rt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},pn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ta={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class K{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map((r=>parseInt(r,10)||0));if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map((r=>parseInt(r,10)||0));if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=K.getVersionPrecision(e),s=K.getVersionPrecision(n);let l=Math.max(i,s),u=0;const d=K.map([e,n],(m=>{const v=l-K.getVersionPrecision(m),_=m+new Array(v+1).join(".0");return K.map(_.split("."),(E=>new Array(20-E.length).join("0")+E)).reverse()}));for(r&&(u=l-Math.min(i,s)),l-=1;l>=u;){if(d[0][l]>d[1][l])return 1;if(d[0][l]===d[1][l]){if(l===u)return 0;l-=1}else if(d[0][l]<d[1][l])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const s=e[r];if(n(s,r))return s}}static assign(e,...n){const r=e;let i,s;if(Object.assign)return Object.assign(e,...n);for(i=0,s=n.length;i<s;i+=1){const l=n[i];typeof l=="object"&&l!==null&&Object.keys(l).forEach((u=>{r[u]=l[u]}))}return e}static getBrowserAlias(e){return fW[e]}static getBrowserTypeByAlias(e){return Rj[e]||""}}const ht=/version\/(\d+(\.?_?\d+)+)/i,pW=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=K.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=K.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=K.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=K.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=K.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=K.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=K.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=K.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=K.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=K.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=K.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=K.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=K.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=K.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=K.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=K.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=K.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=K.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=K.getFirstMatch(ht,t)||K.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=K.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=K.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=K.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=K.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=K.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=K.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=K.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=K.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=K.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=K.getFirstMatch(ht,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:K.getFirstMatch(e,t),version:K.getSecondMatch(e,t)}}}];var mW=[{test:[/Roku\/DVP/],describe(t){const e=K.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:pn.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=K.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:pn.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=K.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=K.getWindowsVersionName(e);return{name:pn.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:pn.iOS},n=K.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=K.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=K.getMacOSVersionName(e),r={name:pn.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=K.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:pn.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=K.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=K.getAndroidVersionName(e),r={name:pn.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=K.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:pn.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=K.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||K.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||K.getFirstMatch(/\bbb(\d+)/i,t);return{name:pn.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=K.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:pn.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=K.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:pn.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:pn.Linux})},{test:[/CrOS/],describe:()=>({name:pn.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=K.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:pn.PlayStation4,version:e}}}],gW=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=K.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Rt.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Rt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Rt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Rt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Rt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Rt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Rt.tablet})},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=K.getFirstMatch(/(ipod|iphone)/i,t);return{type:Rt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Rt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Rt.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:Rt.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:Rt.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:Rt.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:Rt.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:Rt.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:Rt.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:Rt.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:Rt.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:Rt.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:Rt.tv})}],vW=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:ta.Blink};const e=K.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:ta.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:ta.Trident},n=K.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:ta.Presto},n=K.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:ta.Gecko},n=K.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:ta.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:ta.WebKit},n=K.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class E1{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=K.find(pW,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=K.find(mW,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=K.find(gW,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=K.find(vW,(n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return K.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let s=0;if(Object.keys(e).forEach((l=>{const u=e[l];typeof u=="string"?(i[l]=u,s+=1):typeof u=="object"&&(n[l]=u,r+=1)})),r>0){const l=Object.keys(n),u=K.find(l,(m=>this.isOS(m)));if(u){const m=this.satisfies(n[u]);if(m!==void 0)return m}const d=K.find(l,(m=>this.isPlatform(m)));if(d){const m=this.satisfies(n[d]);if(m!==void 0)return m}}if(s>0){const l=Object.keys(i),u=K.find(l,(d=>this.isBrowser(d,!0)));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const s=K.getBrowserTypeByAlias(i);return n&&s&&(i=s.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(K.compareVersions(s,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((n=>this.is(n)))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class yW{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new E1(e,n)}static parse(e){return new E1(e).getResult()}static get BROWSER_MAP(){return Rj}static get ENGINE_MAP(){return ta}static get OS_MAP(){return pn}static get PLATFORMS_MAP(){return Rt}}function Uh(){return Date.now()+Math.random().toString()}function jc(){throw new Error("Method must be implemented in subclass")}function $j(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function uh(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:$j("https://c.daily.co/call-machine/versioned/".concat("0.83.1","/static/call-machine-object-bundle.js"),t)}function dh(t){try{new URL(t)}catch{return!1}return!0}const vt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,rs="8.55.0",tt=globalThis;function hh(t,e,n){const r=tt,i=r.__SENTRY__=r.__SENTRY__||{},s=i[rs]=i[rs]||{};return s[t]||(s[t]=e())}const ws=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,n_=["debug","info","warn","error","log","assert","trace"],fh={};function pl(t){if(!("console"in tt))return t();const e=tt.console,n={},r=Object.keys(fh);r.forEach((i=>{const s=fh[i];n[i]=e[i],e[i]=s}));try{return t()}finally{r.forEach((i=>{e[i]=n[i]}))}}const Ie=hh("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return ws?n_.forEach((n=>{e[n]=(...r)=>{t&&pl((()=>{tt.console[n](`Sentry Logger [${n}]:`,...r)}))}})):n_.forEach((n=>{e[n]=()=>{}})),e})),Xa="?",C1=/\(error: (.*)\)/,T1=/captureMessage|captureException/;function id(t){return t[t.length-1]||{}}const x1="<anonymous>";function pa(t){try{return t&&typeof t=="function"&&t.name||x1}catch{return x1}}function M1(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach((r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)})),n}catch{return}}}const Fd={},A1={};function is(t,e){Fd[t]=Fd[t]||[],Fd[t].push(e)}function as(t,e){if(!A1[t]){A1[t]=!0;try{e()}catch(n){ws&&Ie.error(`Error while instrumenting ${t}`,n)}}}function Sr(t,e){const n=t&&Fd[t];if(n)for(const r of n)try{r(e)}catch(i){ws&&Ie.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${pa(r)}
Error:`,i)}}let Am=null;function _W(){Am=tt.onerror,tt.onerror=function(t,e,n,r,i){return Sr("error",{column:r,error:i,line:n,msg:t,url:e}),!!Am&&Am.apply(this,arguments)},tt.onerror.__SENTRY_INSTRUMENTED__=!0}let Pm=null;function bW(){Pm=tt.onunhandledrejection,tt.onunhandledrejection=function(t){return Sr("unhandledrejection",t),!Pm||Pm.apply(this,arguments)},tt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function qh(){return vb(tt),tt}function vb(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||rs,e[rs]=e[rs]||{}}const Fj=Object.prototype.toString;function yb(t){switch(Fj.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ms(t,Error)}}function $o(t,e){return Fj.call(t)===`[object ${e}]`}function Bj(t){return $o(t,"ErrorEvent")}function P1(t){return $o(t,"DOMError")}function _i(t){return $o(t,"String")}function _b(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function r_(t){return t===null||_b(t)||typeof t!="object"&&typeof t!="function"}function To(t){return $o(t,"Object")}function Wh(t){return typeof Event<"u"&&ms(t,Event)}function Vh(t){return!!(t&&t.then&&typeof t.then=="function")}function ms(t,e){try{return t instanceof e}catch{return!1}}function Uj(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}const bb=tt;function qj(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let s=0,l=0;const u=" > ",d=u.length;let m;const v=Array.isArray(e)?e:e.keyAttrs,_=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&s++<r&&(m=wW(n,v),!(m==="html"||s>1&&l+i.length*d+m.length>=_));)i.push(m),l+=m.length,n=n.parentNode;return i.reverse().join(u)}catch{return"<unknown>"}}function wW(t,e){const n=t,r=[];if(!n||!n.tagName)return"";if(bb.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=e&&e.length?e.filter((l=>n.getAttribute(l))).map((l=>[l,n.getAttribute(l)])):null;if(i&&i.length)i.forEach((l=>{r.push(`[${l[0]}="${l[1]}"]`)}));else{n.id&&r.push(`#${n.id}`);const l=n.className;if(l&&_i(l)){const u=l.split(/\s+/);for(const d of u)r.push(`.${d}`)}}const s=["aria-label","type","name","title","alt"];for(const l of s){const u=n.getAttribute(l);u&&r.push(`[${l}="${u}"]`)}return r.join("")}function mo(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function O1(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const i=t[r];try{Uj(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function kW(t,e,n=!1){return!!_i(t)&&($o(e,"RegExp")?e.test(t):!!_i(e)&&(n?t===e:t.includes(e)))}function ad(t,e=[],n=!1){return e.some((r=>kW(t,r,n)))}function Dn(t,e,n){if(!(e in t))return;const r=t[e],i=n(r);typeof i=="function"&&Wj(i,r);try{t[e]=i}catch{ws&&Ie.log(`Failed to replace method "${e}" in object`,t)}}function gs(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{ws&&Ie.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function Wj(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,gs(t,"__sentry_original__",e)}catch{}}function wb(t){return t.__sentry_original__}function Vj(t){if(yb(t))return{message:t.message,name:t.name,stack:t.stack,...I1(t)};if(Wh(t)){const e={type:t.type,target:j1(t.target),currentTarget:j1(t.currentTarget),...I1(t)};return typeof CustomEvent<"u"&&ms(t,CustomEvent)&&(e.detail=t.detail),e}return t}function j1(t){try{return e=t,typeof Element<"u"&&ms(e,Element)?qj(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function I1(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function Qn(t){return i_(t,new Map)}function i_(t,e){if((function(n){if(!To(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}})(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const i of Object.getOwnPropertyNames(t))t[i]!==void 0&&(r[i]=i_(t[i],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach((i=>{r.push(i_(i,e))})),r}return t}function ml(){return Date.now()/1e3}const Si=(function(){const{performance:t}=tt;if(!t||!t.now)return ml;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/1e3})();function Zn(){const t=tt,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,(r=>(r^(15&n())>>r/4).toString(16)))}function zj(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function sa(t){const{message:e,event_id:n}=t;if(e)return e;const r=zj(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function a_(t,e,n){const r=t.exception=t.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type="Error")}function xo(t,e){const n=zj(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const i={...r&&r.data,...e.data};n.mechanism.data=i}}function L1(t){if((function(e){try{return e.__sentry_captured__}catch{}})(t))return!0;try{gs(t,"__sentry_captured__",!0)}catch{}return!1}var pi;function vs(t){return new Gn((e=>{e(t)}))}function ph(t){return new Gn(((e,n)=>{n(t)}))}(()=>{const{performance:t}=tt;!t||!t.now||(t.now(),t.timing&&t.timing.navigationStart)})(),(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(pi||(pi={}));class Gn{constructor(e){Gn.prototype.__init.call(this),Gn.prototype.__init2.call(this),Gn.prototype.__init3.call(this),Gn.prototype.__init4.call(this),this._state=pi.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Gn(((r,i)=>{this._handlers.push([!1,s=>{if(e)try{r(e(s))}catch(l){i(l)}else r(s)},s=>{if(n)try{r(n(s))}catch(l){i(l)}else i(s)}]),this._executeHandlers()}))}catch(e){return this.then((n=>n),e)}finally(e){return new Gn(((n,r)=>{let i,s;return this.then((l=>{s=!1,i=l,e&&e()}),(l=>{s=!0,i=l,e&&e()})).then((()=>{s?r(i):n(i)}))}))}__init(){this._resolve=e=>{this._setResult(pi.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(pi.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{this._state===pi.PENDING&&(Vh(n)?n.then(this._resolve,this._reject):(this._state=e,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===pi.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((n=>{n[0]||(this._state===pi.RESOLVED&&n[1](this._value),this._state===pi.REJECTED&&n[2](this._value),n[0]=!0)}))}}}function SW(t){const e=Si(),n={sid:Zn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(function(r){return Qn({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})})(n)};return t&&Mo(n,t),n}function Mo(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Si(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Zn()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function N1(){return Zn()}function s_(){return Zn().substring(16)}function zh(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const r={...t};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=zh(r[i],e[i],n-1));return r}const o_="_sentrySpan";function D1(t,e){e?gs(t,o_,e):delete t[o_]}function R1(t){return t[o_]}class kb{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:N1(),spanId:s_()}}clone(){const e=new kb;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,D1(e,R1(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Mo(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[r,i]=n instanceof ma?[n.getScopeData(),n.getRequestSession()]:To(n)?[e,e.requestSession]:[],{tags:s,extra:l,user:u,contexts:d,level:m,fingerprint:v=[],propagationContext:_}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...l},this._contexts={...this._contexts,...d},u&&Object.keys(u).length&&(this._user=u),m&&(this._level=m),v.length&&(this._fingerprint=v),_&&(this._propagationContext=_),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,D1(this,void 0),this._attachments=[],this.setPropagationContext({traceId:N1()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const i={timestamp:ml(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:R1(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=zh(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:s_(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:Zn();if(!this._client)return Ie.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureMessage(e,n,r){const i=r&&r.event_id?r.event_id:Zn();if(!this._client)return Ie.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i},this),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:Zn();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(Ie.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const ma=kb;class EW{constructor(e,n){let r,i;r=e||new ma,i=n||new ma,this._stack=[{scope:r}],this._isolationScope=i}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(i){throw this._popScope(),i}return Vh(r)?r.then((i=>(this._popScope(),i)),(i=>{throw this._popScope(),i})):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Ao(){const t=vb(qh());return t.stack=t.stack||new EW(hh("defaultCurrentScope",(()=>new ma)),hh("defaultIsolationScope",(()=>new ma)))}function CW(t){return Ao().withScope(t)}function TW(t,e){const n=Ao();return n.withScope((()=>(n.getStackTop().scope=t,e(t))))}function $1(t){return Ao().withScope((()=>t(Ao().getIsolationScope())))}function Sb(t){const e=vb(t);return e.acs?e.acs:{withIsolationScope:$1,withScope:CW,withSetScope:TW,withSetIsolationScope:(n,r)=>$1(r),getCurrentScope:()=>Ao().getScope(),getIsolationScope:()=>Ao().getIsolationScope()}}function ks(){return Sb(qh()).getCurrentScope()}function gl(){return Sb(qh()).getIsolationScope()}function sn(){return ks().getClient()}function xW(t){const e=t.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=e;return Qn({trace_id:n,span_id:r,parent_span_id:i})}function MW(t){const e=t._sentryMetrics;if(!e)return;const n={};for(const[,[r,i]]of e)(n[r]||(n[r]=[])).push(Qn(i));return n}const AW=/^sentry-/;function PW(t){const e=(function(r){if(!(!r||!_i(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce(((i,s)=>{const l=F1(s);return Object.entries(l).forEach((([u,d])=>{i[u]=d})),i}),{}):F1(r)})(t);if(!e)return;const n=Object.entries(e).reduce(((r,[i,s])=>(i.match(AW)&&(r[i.slice(7)]=s),r)),{});return Object.keys(n).length>0?n:void 0}function F1(t){return t.split(",").map((e=>e.split("=").map((n=>decodeURIComponent(n.trim()))))).reduce(((e,[n,r])=>(n&&r&&(e[n]=r),e)),{})}let B1=!1;function OW(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext();return Qn({parent_span_id:r?e:Eb(t).parent_span_id,span_id:r?s_():e,trace_id:n})}function U1(t){return typeof t=="number"?q1(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?q1(t.getTime()):Si()}function q1(t){return t>9999999999?t/1e3:t}function Eb(t){if((function(e){return typeof e.getSpanJSON=="function"})(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if((function(r){const i=r;return!!(i.attributes&&i.startTime&&i.name&&i.endTime&&i.status)})(t)){const{attributes:r,startTime:i,name:s,endTime:l,parentSpanId:u,status:d}=t;return Qn({span_id:e,trace_id:n,data:r,description:s,parent_span_id:u,start_timestamp:U1(i),timestamp:U1(l)||void 0,status:jW(d),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:MW(t)})}return{span_id:e,trace_id:n}}catch{return{}}}function jW(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function Hj(t){return t._sentryRootSpan||t}function IW(){B1||(pl((()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")})),B1=!0)}const Cb="production";function Jj(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},i=Qn({environment:n.environment||Cb,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",i),i}function LW(t){const e=sn();if(!e)return{};const n=Hj(t),r=n._frozenDsc;if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),l=s&&PW(s);if(l)return l;const u=Jj(t.spanContext().traceId,e),d=Eb(n),m=d.data||{},v=m["sentry.sample_rate"];v!=null&&(u.sample_rate=`${v}`);const _=m["sentry.source"],E=d.description;return _!=="url"&&E&&(u.transaction=E),(function(P){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const C=sn(),S=C&&C.getOptions();return!!S&&(S.enableTracing||"tracesSampleRate"in S||"tracesSampler"in S)})()&&(u.sampled=String((function(P){const{traceFlags:C}=P.spanContext();return C===1})(n))),e.emit("createDsc",u,n),u}const NW=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function mh(t,e=!1){const{host:n,path:r,pass:i,port:s,projectId:l,protocol:u,publicKey:d}=t;return`${u}://${d}${e&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${l}`}function W1(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function DW(t){const e=typeof t=="string"?(function(n){const r=NW.exec(n);if(!r)return void pl((()=>{console.error(`Invalid Sentry Dsn: ${n}`)}));const[i,s,l="",u="",d="",m=""]=r.slice(1);let v="",_=m;const E=_.split("/");if(E.length>1&&(v=E.slice(0,-1).join("/"),_=E.pop()),_){const P=_.match(/^\d+/);P&&(_=P[0])}return W1({host:u,pass:l,path:v,projectId:_,port:d,protocol:i,publicKey:s})})(t):W1(t);if(e&&(function(n){if(!ws)return!0;const{port:r,projectId:i,protocol:s}=n;return!(["protocol","publicKey","host","projectId"].find((l=>!n[l]&&(Ie.error(`Invalid Sentry Dsn: ${l} missing`),!0)))||(i.match(/^\d+$/)?(function(l){return l==="http"||l==="https"})(s)?r&&isNaN(parseInt(r,10))&&(Ie.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(Ie.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(Ie.error(`Invalid Sentry Dsn: Invalid projectId ${i}`),1)))})(e))return e}function mi(t,e=100,n=1/0){try{return c_("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Gj(t,e=3,n=102400){const r=mi(t,e);return i=r,(function(s){return~-encodeURI(s).split(/%..|./).length})(JSON.stringify(i))>n?Gj(t,e-1,n):r;var i}function c_(t,e,n=1/0,r=1/0,i=(function(){const s=typeof WeakSet=="function",l=s?new WeakSet:[];return[function(u){if(s)return!!l.has(u)||(l.add(u),!1);for(let d=0;d<l.length;d++)if(l[d]===u)return!0;return l.push(u),!1},function(u){if(s)l.delete(u);else for(let d=0;d<l.length;d++)if(l[d]===u){l.splice(d,1);break}}]})()){const[s,l]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const u=(function(P,C){try{if(P==="domain"&&C&&typeof C=="object"&&C._events)return"[Domain]";if(P==="domainEmitter")return"[DomainEmitter]";if(typeof globalThis<"u"&&C===globalThis)return"[Global]";if(typeof window<"u"&&C===window)return"[Window]";if(typeof document<"u"&&C===document)return"[Document]";if(Uj(C))return"[VueViewModel]";if(To(S=C)&&"nativeEvent"in S&&"preventDefault"in S&&"stopPropagation"in S)return"[SyntheticEvent]";if(typeof C=="number"&&!Number.isFinite(C))return`[${C}]`;if(typeof C=="function")return`[Function: ${pa(C)}]`;if(typeof C=="symbol")return`[${String(C)}]`;if(typeof C=="bigint")return`[BigInt: ${String(C)}]`;const x=(function(O){const j=Object.getPrototypeOf(O);return j?j.constructor.name:"null prototype"})(C);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var S})(t,e);if(!u.startsWith("[object "))return u;if(e.__sentry_skip_normalization__)return e;const d=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(d===0)return u.replace("object ","");if(s(e))return"[Circular ~]";const m=e;if(m&&typeof m.toJSON=="function")try{return c_("",m.toJSON(),d-1,r,i)}catch{}const v=Array.isArray(e)?[]:{};let _=0;const E=Vj(e);for(const P in E){if(!Object.prototype.hasOwnProperty.call(E,P))continue;if(_>=r){v[P]="[MaxProperties ~]";break}const C=E[P];v[P]=c_(P,C,d-1,r,i),_++}return l(e),v}function il(t,e=[]){return[t,e]}function RW(t,e){const[n,r]=t;return[n,[...r,e]]}function V1(t,e){const n=t[1];for(const r of n)if(e(r,r[0].type))return!0;return!1}function l_(t){return tt.__SENTRY__&&tt.__SENTRY__.encodePolyfill?tt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function $W(t){const[e,n]=t;let r=JSON.stringify(e);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[l_(r),s]:r.push(typeof s=="string"?l_(s):s)}for(const s of n){const[l,u]=s;if(i(`
${JSON.stringify(l)}
`),typeof u=="string"||u instanceof Uint8Array)i(u);else{let d;try{d=JSON.stringify(u)}catch{d=JSON.stringify(mi(u))}i(d)}}return typeof r=="string"?r:(function(s){const l=s.reduce(((m,v)=>m+v.length),0),u=new Uint8Array(l);let d=0;for(const m of s)u.set(m,d),d+=m.length;return u})(r)}function FW(t){const e=typeof t.data=="string"?l_(t.data):t.data;return[Qn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const BW={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function z1(t){return BW[t]}function Yj(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function UW(t,e,n,r){const i=Yj(n),s=t.type&&t.type!=="replay_event"?t.type:"event";(function(u,d){d&&(u.sdk=u.sdk||{},u.sdk.name=u.sdk.name||d.name,u.sdk.version=u.sdk.version||d.version,u.sdk.integrations=[...u.sdk.integrations||[],...d.integrations||[]],u.sdk.packages=[...u.sdk.packages||[],...d.packages||[]])})(t,n&&n.sdk);const l=(function(u,d,m,v){const _=u.sdkProcessingMetadata&&u.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:u.event_id,sent_at:new Date().toISOString(),...d&&{sdk:d},...!!m&&v&&{dsn:mh(v)},..._&&{trace:Qn({..._})}}})(t,i,r,e);return delete t.sdkProcessingMetadata,il(l,[[{type:s},t]])}function u_(t,e,n,r=0){return new Gn(((i,s)=>{const l=t[r];if(e===null||typeof l!="function")i(e);else{const u=l({...e},n);vt&&l.id&&u===null&&Ie.log(`Event processor "${l.id}" dropped event`),Vh(u)?u.then((d=>u_(t,d,n,r+1).then(i))).then(null,s):u_(t,u,n,r+1).then(i).then(null,s)}}))}let sd,H1,Om;function qW(t,e){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=e;(function(l,u){const{extra:d,tags:m,user:v,contexts:_,level:E,transactionName:P}=u,C=Qn(d);C&&Object.keys(C).length&&(l.extra={...C,...l.extra});const S=Qn(m);S&&Object.keys(S).length&&(l.tags={...S,...l.tags});const x=Qn(v);x&&Object.keys(x).length&&(l.user={...x,...l.user});const O=Qn(_);O&&Object.keys(O).length&&(l.contexts={...O,...l.contexts}),E&&(l.level=E),P&&l.type!=="transaction"&&(l.transaction=P)})(t,e),r&&(function(l,u){l.contexts={trace:OW(u),...l.contexts},l.sdkProcessingMetadata={dynamicSamplingContext:LW(u),...l.sdkProcessingMetadata};const d=Hj(u),m=Eb(d).description;m&&!l.transaction&&l.type==="transaction"&&(l.transaction=m)})(t,r),(function(l,u){l.fingerprint=l.fingerprint?Array.isArray(l.fingerprint)?l.fingerprint:[l.fingerprint]:[],u&&(l.fingerprint=l.fingerprint.concat(u)),l.fingerprint&&!l.fingerprint.length&&delete l.fingerprint})(t,n),(function(l,u){const d=[...l.breadcrumbs||[],...u];l.breadcrumbs=d.length?d:void 0})(t,i),(function(l,u){l.sdkProcessingMetadata={...l.sdkProcessingMetadata,...u}})(t,s)}function J1(t,e){const{extra:n,tags:r,user:i,contexts:s,level:l,sdkProcessingMetadata:u,breadcrumbs:d,fingerprint:m,eventProcessors:v,attachments:_,propagationContext:E,transactionName:P,span:C}=e;od(t,"extra",n),od(t,"tags",r),od(t,"user",i),od(t,"contexts",s),t.sdkProcessingMetadata=zh(t.sdkProcessingMetadata,u,2),l&&(t.level=l),P&&(t.transactionName=P),C&&(t.span=C),d.length&&(t.breadcrumbs=[...t.breadcrumbs,...d]),m.length&&(t.fingerprint=[...t.fingerprint,...m]),v.length&&(t.eventProcessors=[...t.eventProcessors,...v]),_.length&&(t.attachments=[...t.attachments,..._]),t.propagationContext={...t.propagationContext,...E}}function od(t,e,n){t[e]=zh(t[e],n,1)}function WW(t,e,n,r,i,s){const{normalizeDepth:l=3,normalizeMaxBreadth:u=1e3}=t,d={...e,event_id:e.event_id||n.event_id||Zn(),timestamp:e.timestamp||ml()},m=n.integrations||t.integrations.map((C=>C.name));(function(C,S){const{environment:x,release:O,dist:j,maxValueLength:$=250}=S;C.environment=C.environment||x||Cb,!C.release&&O&&(C.release=O),!C.dist&&j&&(C.dist=j),C.message&&(C.message=mo(C.message,$));const D=C.exception&&C.exception.values&&C.exception.values[0];D&&D.value&&(D.value=mo(D.value,$));const R=C.request;R&&R.url&&(R.url=mo(R.url,$))})(d,t),(function(C,S){S.length>0&&(C.sdk=C.sdk||{},C.sdk.integrations=[...C.sdk.integrations||[],...S])})(d,m),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&(function(C,S){const x=(function(O){const j=tt._sentryDebugIds;if(!j)return{};const $=Object.keys(j);return Om&&$.length===H1||(H1=$.length,Om=$.reduce(((D,R)=>{sd||(sd={});const U=sd[R];if(U)D[U[0]]=U[1];else{const G=O(R);for(let X=G.length-1;X>=0;X--){const oe=G[X],ce=oe&&oe.filename,le=j[R];if(ce&&le){D[ce]=le,sd[R]=[ce,le];break}}}return D}),{})),Om})(S);try{C.exception.values.forEach((O=>{O.stacktrace.frames.forEach((j=>{x&&j.filename&&(j.debug_id=x[j.filename])}))}))}catch{}})(d,t.stackParser);const v=(function(C,S){if(!S)return C;const x=C?C.clone():new ma;return x.update(S),x})(r,n.captureContext);n.mechanism&&xo(d,n.mechanism);const _=i?i.getEventProcessors():[],E=hh("globalScope",(()=>new ma)).getScopeData();s&&J1(E,s.getScopeData()),v&&J1(E,v.getScopeData());const P=[...n.attachments||[],...E.attachments];return P.length&&(n.attachments=P),qW(d,E),u_([..._,...E.eventProcessors],d,n).then((C=>(C&&(function(S){const x={};try{S.exception.values.forEach((j=>{j.stacktrace.frames.forEach(($=>{$.debug_id&&($.abs_path?x[$.abs_path]=$.debug_id:$.filename&&(x[$.filename]=$.debug_id),delete $.debug_id)}))}))}catch{}if(Object.keys(x).length===0)return;S.debug_meta=S.debug_meta||{},S.debug_meta.images=S.debug_meta.images||[];const O=S.debug_meta.images;Object.entries(x).forEach((([j,$])=>{O.push({type:"sourcemap",code_file:j,debug_id:$})}))})(C),typeof l=="number"&&l>0?(function(S,x,O){if(!S)return null;const j={...S,...S.breadcrumbs&&{breadcrumbs:S.breadcrumbs.map(($=>({...$,...$.data&&{data:mi($.data,x,O)}})))},...S.user&&{user:mi(S.user,x,O)},...S.contexts&&{contexts:mi(S.contexts,x,O)},...S.extra&&{extra:mi(S.extra,x,O)}};return S.contexts&&S.contexts.trace&&j.contexts&&(j.contexts.trace=S.contexts.trace,S.contexts.trace.data&&(j.contexts.trace.data=mi(S.contexts.trace.data,x,O))),S.spans&&(j.spans=S.spans.map(($=>({...$,...$.data&&{data:mi($.data,x,O)}})))),S.contexts&&S.contexts.flags&&j.contexts&&(j.contexts.flags=mi(S.contexts.flags,3,O)),j})(C,l,u):C)))}function G1(t,e){return ks().captureEvent(t,e)}function Y1(t){const e=sn(),n=gl(),r=ks(),{release:i,environment:s=Cb}=e&&e.getOptions()||{},{userAgent:l}=tt.navigator||{},u=SW({release:i,environment:s,user:r.getUser()||n.getUser(),...l&&{userAgent:l},...t}),d=n.getSession();return d&&d.status==="ok"&&Mo(d,{status:"exited"}),Qj(),n.setSession(u),r.setSession(u),u}function Qj(){const t=gl(),e=ks(),n=e.getSession()||t.getSession();n&&(function(r,i){let s={};r.status==="ok"&&(s={status:"exited"}),Mo(r,s)})(n),Kj(),t.setSession(),e.setSession()}function Kj(){const t=gl(),e=ks(),n=sn(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}function Q1(t=!1){t?Qj():Kj()}function VW(t,e,n){return e||`${(function(r){return`${(function(i){const s=i.protocol?`${i.protocol}:`:"",l=i.port?`:${i.port}`:"";return`${s}//${i.host}${l}${i.path?`/${i.path}`:""}/api/`})(r)}${r.projectId}/envelope/`})(t)}?${(function(r,i){const s={sentry_version:"7"};return r.publicKey&&(s.sentry_key=r.publicKey),i&&(s.sentry_client=`${i.name}/${i.version}`),new URLSearchParams(s).toString()})(t,n)}`}const K1=[];function X1(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function Z1(t,e,n){if(n[e.name])vt&&Ie.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,K1.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),K1.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",((i,s)=>r(i,s,t)))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),i=Object.assign(((s,l)=>r(s,l,t)),{id:e.name});t.addEventProcessor(i)}vt&&Ie.log(`Integration installed: ${e.name}`)}}class _r extends Error{constructor(e,n="warn"){super(e),this.message=e,this.logLevel=n}}const eT="Not capturing exception because it's already been captured.";class zW{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=DW(e.dsn):vt&&Ie.warn("No DSN provided, client will not send events."),this._dsn){const r=VW(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find((r=>r in e&&e[r]==null));n&&pl((()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)}))}captureException(e,n,r){const i=Zn();if(L1(e))return vt&&Ie.log(eT),i;const s={event_id:i,...n};return this._process(this.eventFromException(e,s).then((l=>this._captureEvent(l,s,r)))),s.event_id}captureMessage(e,n,r,i){const s={event_id:Zn(),...r},l=_b(e)?e:String(e),u=r_(e)?this.eventFromMessage(l,n,s):this.eventFromException(e,s);return this._process(u.then((d=>this._captureEvent(d,s,i)))),s.event_id}captureEvent(e,n,r){const i=Zn();if(n&&n.originalException&&L1(n.originalException))return vt&&Ie.log(eT),i;const s={event_id:i,...n},l=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,l||r)),s.event_id}captureSession(e){typeof e.release!="string"?vt&&Ie.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Mo(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then((r=>n.flush(e).then((i=>r&&i))))):vs(!0)}close(e){return this.flush(e).then((n=>(this.getOptions().enabled=!1,this.emit("close"),n)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];Z1(this,e,this._integrations),n||X1(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=UW(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=RW(r,FW(s));const i=this.sendEnvelope(r);i&&i.then((s=>this.emit("afterSendEvent",e,s)),null)}sendSession(e){const n=(function(r,i,s,l){const u=Yj(s);return il({sent_at:new Date().toISOString(),...u&&{sdk:u},...!!l&&i&&{dsn:mh(i)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])})(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${e}:${n}`;vt&&Ie.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(e,n){const r=this._hooks[e]=this._hooks[e]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach((i=>i(...n)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(n=>(vt&&Ie.error("Error while sending envelope:",n),n))):(vt&&Ie.error("Transport disabled"),vs({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(function(n,r){const i={};return r.forEach((s=>{s&&Z1(n,s,i)})),i})(this,e),X1(this,e)}_updateSessionFromEvent(e,n){let r=n.level==="fatal",i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const u of s){const d=u.mechanism;if(d&&d.handled===!1){r=!0;break}}}const l=e.status==="ok";(l&&e.errors===0||l&&r)&&(Mo(e,{...r&&{status:"crashed"},errors:e.errors||Number(i||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Gn((n=>{let r=0;const i=setInterval((()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r=ks(),i=gl()){const s=this.getOptions(),l=Object.keys(this._integrations);return!n.integrations&&l.length>0&&(n.integrations=l),this.emit("preprocessEvent",e,n),e.type||i.setLastEventId(e.event_id||n.event_id),WW(s,e,n,r,this,i).then((u=>{if(u===null)return u;u.contexts={trace:xW(r),...u.contexts};const d=(function(m,v){const _=v.getPropagationContext();return _.dsc||Jj(_.traceId,m)})(this,r);return u.sdkProcessingMetadata={dynamicSamplingContext:d,...u.sdkProcessingMetadata},u}))}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then((i=>i.event_id),(i=>{vt&&(i instanceof _r&&i.logLevel==="log"?Ie.log(i.message):Ie.warn(i))}))}_processEvent(e,n,r){const i=this.getOptions(),{sampleRate:s}=i,l=nT(e),u=tT(e),d=e.type||"error",m=`before send for type \`${d}\``,v=s===void 0?void 0:(function(P){if(typeof P=="boolean")return Number(P);const C=typeof P=="string"?parseFloat(P):P;if(!(typeof C!="number"||isNaN(C)||C<0||C>1))return C;vt&&Ie.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(P)} of type ${JSON.stringify(typeof P)}.`)})(s);if(u&&typeof v=="number"&&Math.random()>v)return this.recordDroppedEvent("sample_rate","error",e),ph(new _r(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const _=d==="replay_event"?"replay":d,E=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,E).then((P=>{if(P===null)throw this.recordDroppedEvent("event_processor",_,e),new _r("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return P;const C=(function(S,x,O,j){const{beforeSend:$,beforeSendTransaction:D,beforeSendSpan:R}=x;if(tT(O)&&$)return $(O,j);if(nT(O)){if(O.spans&&R){const U=[];for(const G of O.spans){const X=R(G);X?U.push(X):(IW(),S.recordDroppedEvent("before_send","span"))}O.spans=U}if(D){if(O.spans){const U=O.spans.length;O.sdkProcessingMetadata={...O.sdkProcessingMetadata,spanCountBeforeProcessing:U}}return D(O,j)}}return O})(this,i,P,n);return(function(S,x){const O=`${x} must return \`null\` or a valid event.`;if(Vh(S))return S.then((j=>{if(!To(j)&&j!==null)throw new _r(O);return j}),(j=>{throw new _r(`${x} rejected with ${j}`)}));if(!To(S)&&S!==null)throw new _r(O);return S})(C,m)})).then((P=>{if(P===null){if(this.recordDroppedEvent("before_send",_,e),l){const x=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new _r(`${m} returned \`null\`, will not send event.`,"log")}const C=r&&r.getSession();if(!l&&C&&this._updateSessionFromEvent(C,P),l){const x=(P.sdkProcessingMetadata&&P.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(P.spans?P.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const S=P.transaction_info;if(l&&S&&P.transaction!==e.transaction){const x="custom";P.transaction_info={...S,source:x}}return this.sendEvent(P,n),P})).then(null,(P=>{throw P instanceof _r?P:(this.captureException(P,{data:{__sentry__:!0},originalException:P}),new _r(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${P}`))}))}_process(e){this._numProcessing++,e.then((n=>(this._numProcessing--,n)),(n=>(this._numProcessing--,n)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}}))}_flushOutcomes(){vt&&Ie.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void(vt&&Ie.log("No outcomes to send"));if(!this._dsn)return void(vt&&Ie.log("No dsn provided, will not send outcomes"));vt&&Ie.log("Sending outcomes:",e);const n=(r=e,il((i=this._options.tunnel&&mh(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:s||ml(),discarded_events:r}]]));var r,i,s;this.sendEnvelope(n)}}function tT(t){return t.type===void 0}function nT(t){return t.type==="transaction"}function HW(t){const e=[];function n(r){return e.splice(e.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(t===void 0||e.length<t))return ph(new _r("Not adding Promise because buffer limit was reached."));const i=r();return e.indexOf(i)===-1&&e.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(r){return new Gn(((i,s)=>{let l=e.length;if(!l)return i(!0);const u=setTimeout((()=>{r&&r>0&&i(!1)}),r);e.forEach((d=>{vs(d).then((()=>{--l||(clearTimeout(u),i(!0))}),s)}))}))}}}function JW(t,{statusCode:e,headers:n},r=Date.now()){const i={...t},s=n&&n["x-sentry-rate-limits"],l=n&&n["retry-after"];if(s)for(const u of s.trim().split(",")){const[d,m,,,v]=u.split(":",5),_=parseInt(d,10),E=1e3*(isNaN(_)?60:_);if(m)for(const P of m.split(";"))P==="metric_bucket"&&v&&!v.split(";").includes("custom")||(i[P]=r+E);else i.all=r+E}else l?i.all=r+(function(u,d=Date.now()){const m=parseInt(`${u}`,10);if(!isNaN(m))return 1e3*m;const v=Date.parse(`${u}`);return isNaN(v)?6e4:v-d})(l,r):e===429&&(i.all=r+6e4);return i}function GW(t,e,n=HW(t.bufferSize||64)){let r={};return{send:function(i){const s=[];if(V1(i,((d,m)=>{const v=z1(m);if((function(_,E,P=Date.now()){return(function(C,S){return C[S]||C.all||0})(_,E)>P})(r,v)){const _=rT(d,m);t.recordDroppedEvent("ratelimit_backoff",v,_)}else s.push(d)})),s.length===0)return vs({});const l=il(i[0],s),u=d=>{V1(l,((m,v)=>{const _=rT(m,v);t.recordDroppedEvent(d,z1(v),_)}))};return n.add((()=>e({body:$W(l)}).then((d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&vt&&Ie.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=JW(r,d),d)),(d=>{throw u("network_error"),d})))).then((d=>d),(d=>{if(d instanceof _r)return vt&&Ie.error("Skipped sending event because buffer is full."),u("queue_overflow"),vs({});throw d}))},flush:i=>n.drain(i)}}function rT(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const YW=100;function $a(t,e){const n=sn(),r=gl();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=YW}=n.getOptions();if(s<=0)return;const l={timestamp:ml(),...t},u=i?pl((()=>i(l,e))):l;u!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",u,e),r.addBreadcrumb(u,s))}let iT;const aT=new WeakMap,QW=()=>({name:"FunctionToString",setupOnce(){iT=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=wb(this),n=aT.has(sn())&&e!==void 0?e:this;return iT.apply(n,t)}}catch{}},setup(t){aT.set(t,!0)}}),KW=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],XW=(t={})=>({name:"InboundFilters",processEvent(e,n,r){const i=r.getOptions(),s=(function(l={},u={}){return{allowUrls:[...l.allowUrls||[],...u.allowUrls||[]],denyUrls:[...l.denyUrls||[],...u.denyUrls||[]],ignoreErrors:[...l.ignoreErrors||[],...u.ignoreErrors||[],...l.disableErrorDefaults?[]:KW],ignoreTransactions:[...l.ignoreTransactions||[],...u.ignoreTransactions||[]],ignoreInternal:l.ignoreInternal===void 0||l.ignoreInternal}})(t,i);return(function(l,u){return u.ignoreInternal&&(function(d){try{return d.exception.values[0].type==="SentryError"}catch{}return!1})(l)?(vt&&Ie.warn(`Event dropped due to being internal Sentry Error.
Event: ${sa(l)}`),!0):(function(d,m){return d.type||!m||!m.length?!1:(function(v){const _=[];v.message&&_.push(v.message);let E;try{E=v.exception.values[v.exception.values.length-1]}catch{}return E&&E.value&&(_.push(E.value),E.type&&_.push(`${E.type}: ${E.value}`)),_})(d).some((v=>ad(v,m)))})(l,u.ignoreErrors)?(vt&&Ie.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${sa(l)}`),!0):(function(d){return d.type||!d.exception||!d.exception.values||d.exception.values.length===0?!1:!d.message&&!d.exception.values.some((m=>m.stacktrace||m.type&&m.type!=="Error"||m.value))})(l)?(vt&&Ie.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${sa(l)}`),!0):(function(d,m){if(d.type!=="transaction"||!m||!m.length)return!1;const v=d.transaction;return!!v&&ad(v,m)})(l,u.ignoreTransactions)?(vt&&Ie.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${sa(l)}`),!0):(function(d,m){if(!m||!m.length)return!1;const v=cd(d);return!!v&&ad(v,m)})(l,u.denyUrls)?(vt&&Ie.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${sa(l)}.
Url: ${cd(l)}`),!0):(function(d,m){if(!m||!m.length)return!0;const v=cd(d);return!v||ad(v,m)})(l,u.allowUrls)?!1:(vt&&Ie.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${sa(l)}.
Url: ${cd(l)}`),!0)})(e,s)?null:e}});function cd(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?(function(n=[]){for(let r=n.length-1;r>=0;r--){const i=n[r];if(i&&i.filename!=="<anonymous>"&&i.filename!=="[native code]")return i.filename||null}return null})(e):null}catch{return vt&&Ie.error(`Cannot extract url for event ${sa(t)}`),null}}function ZW(t,e,n=250,r,i,s,l){if(!(s.exception&&s.exception.values&&l&&ms(l.originalException,Error)))return;const u=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var d,m;u&&(s.exception.values=(d=d_(t,e,i,l.originalException,r,s.exception.values,u,0),m=n,d.map((v=>(v.value&&(v.value=mo(v.value,m)),v)))))}function d_(t,e,n,r,i,s,l,u){if(s.length>=n+1)return s;let d=[...s];if(ms(r[i],Error)){sT(l,u);const m=t(e,r[i]),v=d.length;oT(m,i,v,u),d=d_(t,e,n,r[i],i,[m,...d],m,v)}return Array.isArray(r.errors)&&r.errors.forEach(((m,v)=>{if(ms(m,Error)){sT(l,u);const _=t(e,m),E=d.length;oT(_,`errors[${v}]`,E,u),d=d_(t,e,n,m,i,[_,...d],_,E)}})),d}function sT(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function oT(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function jm(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function eV(){"console"in tt&&n_.forEach((function(t){t in tt.console&&Dn(tt.console,t,(function(e){return fh[t]=e,function(...n){Sr("console",{args:n,level:t});const r=fh[t];r&&r.apply(tt.console,n)}}))}))}function tV(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const nV=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if((function(n,r){return r?!!((function(i,s){const l=i.message,u=s.message;return!(!l&&!u||l&&!u||!l&&u||l!==u||!lT(i,s)||!cT(i,s))})(n,r)||(function(i,s){const l=uT(s),u=uT(i);return!(!l||!u||l.type!==u.type||l.value!==u.value||!lT(i,s)||!cT(i,s))})(n,r)):!1})(e,t))return vt&&Ie.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function cT(t,e){let n=M1(t),r=M1(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const s=r[i],l=n[i];if(s.filename!==l.filename||s.lineno!==l.lineno||s.colno!==l.colno||s.function!==l.function)return!1}return!0}function lT(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function uT(t){return t.exception&&t.exception.values&&t.exception.values[0]}function dT(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const Im=tt;function h_(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function rV(){if(typeof EdgeRuntime=="string")return!0;if(!(function(){if(!("fetch"in Im))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}})())return!1;if(h_(Im.fetch))return!0;let t=!1;const e=Im.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=h_(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){ws&&Ie.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function iV(t,e){const n="fetch";is(n,t),as(n,(()=>(function(r,i=!1){i&&!rV()||Dn(tt,"fetch",(function(s){return function(...l){const u=new Error,{method:d,url:m}=(function(_){if(_.length===0)return{method:"GET",url:""};if(_.length===2){const[P,C]=_;return{url:hT(P),method:f_(C,"method")?String(C.method).toUpperCase():"GET"}}const E=_[0];return{url:hT(E),method:f_(E,"method")?String(E.method).toUpperCase():"GET"}})(l),v={args:l,fetchData:{method:d,url:m},startTimestamp:1e3*Si(),virtualError:u};return r||Sr("fetch",{...v}),s.apply(tt,l).then((async _=>(r?r(_):Sr("fetch",{...v,endTimestamp:1e3*Si(),response:_}),_)),(_=>{throw Sr("fetch",{...v,endTimestamp:1e3*Si(),error:_}),yb(_)&&_.stack===void 0&&(_.stack=u.stack,gs(_,"framesToPop",1)),_}))}}))})(void 0,e)))}function f_(t,e){return!!t&&typeof t=="object"&&!!t[e]}function hT(t){return typeof t=="string"?t:t?f_(t,"url")?t.url:t.toString?t.toString():"":""}const ld=tt,zt=tt;let p_=0;function fT(){return p_>0}function Po(t,e={}){if(!(function(r){return typeof r=="function"})(t))return t;try{const r=t.__sentry_wrapped__;if(r)return typeof r=="function"?r:t;if(wb(t))return t}catch{return t}const n=function(...r){try{const i=r.map((s=>Po(s,e)));return t.apply(this,i)}catch(i){throw p_++,setTimeout((()=>{p_--})),(function(...s){const l=Sb(qh());if(s.length===2){const[u,d]=s;return u?l.withSetScope(u,d):l.withScope(d)}l.withScope(s[0])})((s=>{var l;s.addEventProcessor((u=>(e.mechanism&&(a_(u,void 0),xo(u,e.mechanism)),u.extra={...u.extra,arguments:r},u))),l=i,ks().captureException(l,void 0)})),i}};try{for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}catch{}Wj(n,t),gs(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch{}return n}const Hh=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Tb(t,e){const n=xb(t,e),r={type:oV(e),value:cV(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function aV(t,e,n,r){const i=sn(),s=i&&i.getOptions().normalizeDepth,l=(function(m){for(const v in m)if(Object.prototype.hasOwnProperty.call(m,v)){const _=m[v];if(_ instanceof Error)return _}})(e),u={__serialized__:Gj(e,s)};if(l)return{exception:{values:[Tb(t,l)]},extra:u};const d={exception:{values:[{type:Wh(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:lV(e,{isUnhandledRejection:r})}]},extra:u};if(n){const m=xb(t,n);m.length&&(d.exception.values[0].stacktrace={frames:m})}return d}function Lm(t,e){return{exception:{values:[Tb(t,e)]}}}function xb(t,e){const n=e.stacktrace||e.stack||"",r=(function(s){return s&&sV.test(s.message)?1:0})(e),i=(function(s){return typeof s.framesToPop=="number"?s.framesToPop:0})(e);try{return t(n,r,i)}catch{}return[]}const sV=/Minified React error #\d+;/i;function Xj(t){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&t instanceof WebAssembly.Exception}function oV(t){const e=t&&t.name;return!e&&Xj(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function cV(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:Xj(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function m_(t,e,n,r,i){let s;if(Bj(e)&&e.error)return Lm(t,e.error);if(P1(e)||$o(e,"DOMException")){const l=e;if("stack"in e)s=Lm(t,e);else{const u=l.name||(P1(l)?"DOMError":"DOMException"),d=l.message?`${u}: ${l.message}`:u;s=g_(t,d,n,r),a_(s,d)}return"code"in l&&(s.tags={...s.tags,"DOMException.code":`${l.code}`}),s}return yb(e)?Lm(t,e):To(e)||Wh(e)?(s=aV(t,e,n,i),xo(s,{synthetic:!0}),s):(s=g_(t,e,n,r),a_(s,`${e}`),xo(s,{synthetic:!0}),s)}function g_(t,e,n,r){const i={};if(r&&n){const s=xb(t,n);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]}),xo(i,{synthetic:!0})}if(_b(e)){const{__sentry_template_string__:s,__sentry_template_values__:l}=e;return i.logentry={message:s,params:l},i}return i.message=e,i}function lV(t,{isUnhandledRejection:e}){const n=(function(i,s=40){const l=Object.keys(Vj(i));l.sort();const u=l[0];if(!u)return"[object has no keys]";if(u.length>=s)return mo(u,s);for(let d=l.length;d>0;d--){const m=l.slice(0,d).join(", ");if(!(m.length>s))return d===l.length?m:mo(m,s)}return""})(t),r=e?"promise rejection":"exception";return Bj(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:Wh(t)?`Event \`${(function(i){try{const s=Object.getPrototypeOf(i);return s?s.constructor.name:void 0}catch{}})(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class uV extends zW{constructor(e){const n={parentSpanIsAlwaysRootSpan:!0,...e};(function(r,i,s=[i],l="npm"){const u=r._metadata||{};u.sdk||(u.sdk={name:`sentry.javascript.${i}`,packages:s.map((d=>({name:`${l}:@sentry/${d}`,version:rs}))),version:rs}),r._metadata=u})(n,"browser",["browser"],zt.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&zt.document&&zt.document.addEventListener("visibilitychange",(()=>{zt.document.visibilityState==="hidden"&&this._flushOutcomes()}))}eventFromException(e,n){return(function(r,i,s,l){const u=m_(r,i,s&&s.syntheticException||void 0,l);return xo(u),u.level="error",s&&s.event_id&&(u.event_id=s.event_id),vs(u)})(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return(function(i,s,l="info",u,d){const m=g_(i,s,u&&u.syntheticException||void 0,d);return m.level=l,u&&u.event_id&&(m.event_id=u.event_id),vs(m)})(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Hh&&Ie.warn("SDK not enabled, will not capture user feedback."));const n=(function(r,{metadata:i,tunnel:s,dsn:l}){const u={event_id:r.event_id,sent_at:new Date().toISOString(),...i&&i.sdk&&{sdk:{name:i.sdk.name,version:i.sdk.version}},...!!s&&!!l&&{dsn:mh(l)}};return il(u,[(function(m){return[{type:"user_report"},m]})(r)])})(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}}const dV=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,yn=tt;let pT,Nm,Dm,ud;function hV(){if(!yn.document)return;const t=Sr.bind(null,"dom"),e=mT(t,!0);yn.document.addEventListener("click",e,!1),yn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((n=>{const r=yn[n],i=r&&r.prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(Dn(i,"addEventListener",(function(s){return function(l,u,d){if(l==="click"||l=="keypress")try{const m=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},v=m[l]=m[l]||{refCount:0};if(!v.handler){const _=mT(t);v.handler=_,s.call(this,l,_,d)}v.refCount++}catch{}return s.call(this,l,u,d)}})),Dn(i,"removeEventListener",(function(s){return function(l,u,d){if(l==="click"||l=="keypress")try{const m=this.__sentry_instrumentation_handlers__||{},v=m[l];v&&(v.refCount--,v.refCount<=0&&(s.call(this,l,v.handler,d),v.handler=void 0,delete m[l]),Object.keys(m).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,l,u,d)}})))}))}function mT(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=(function(s){try{return s.target}catch{return null}})(n);if((function(s,l){return s==="keypress"&&(!l||!l.tagName||l.tagName!=="INPUT"&&l.tagName!=="TEXTAREA"&&!l.isContentEditable)})(n.type,r))return;gs(n,"_sentryCaptured",!0),r&&!r._sentryId&&gs(r,"_sentryId",Zn());const i=n.type==="keypress"?"input":n.type;(function(s){if(s.type!==Nm)return!1;try{if(!s.target||s.target._sentryId!==Dm)return!1}catch{}return!0})(n)||(t({event:n,name:i,global:e}),Nm=n.type,Dm=r?r._sentryId:void 0),clearTimeout(pT),pT=yn.setTimeout((()=>{Dm=void 0,Nm=void 0}),1e3)}}function Zj(t){const e="history";is(e,t),as(e,fV)}function fV(){if(!(function(){const n=ld.chrome,r=n&&n.app&&n.app.runtime,i="history"in ld&&!!ld.history.pushState&&!!ld.history.replaceState;return!r&&i})())return;const t=yn.onpopstate;function e(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=ud,l=String(i);ud=l,Sr("history",{from:s,to:l})}return n.apply(this,r)}}yn.onpopstate=function(...n){const r=yn.location.href,i=ud;if(ud=r,Sr("history",{from:i,to:r}),t)try{return t.apply(this,n)}catch{}},Dn(yn.history,"pushState",e),Dn(yn.history,"replaceState",e)}const Bd={};function gT(t){Bd[t]=void 0}const Fc="__sentry_xhr_v3__";function pV(){if(!yn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const i=new Error,s=1e3*Si(),l=_i(r[0])?r[0].toUpperCase():void 0,u=(function(m){if(_i(m))return m;try{return m.toString()}catch{}})(r[1]);if(!l||!u)return e.apply(n,r);n[Fc]={method:l,url:u,request_headers:{}},l==="POST"&&u.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const d=()=>{const m=n[Fc];if(m&&n.readyState===4){try{m.status_code=n.status}catch{}Sr("xhr",{endTimestamp:1e3*Si(),startTimestamp:s,xhr:n,virtualError:i})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(m,v,_)=>(d(),m.apply(v,_))}):n.addEventListener("readystatechange",d),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(m,v,_){const[E,P]=_,C=v[Fc];return C&&_i(E)&&_i(P)&&(C.request_headers[E.toLowerCase()]=P),m.apply(v,_)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const i=n[Fc];return i?(r[0]!==void 0&&(i.body=r[0]),Sr("xhr",{startTimestamp:1e3*Si(),xhr:n}),e.apply(n,r)):e.apply(n,r)}})}function mV(t,e=(function(n){const r=Bd[n];if(r)return r;let i=yn[n];if(h_(i))return Bd[n]=i.bind(yn);const s=yn.document;if(s&&typeof s.createElement=="function")try{const l=s.createElement("iframe");l.hidden=!0,s.head.appendChild(l);const u=l.contentWindow;u&&u[n]&&(i=u[n]),s.head.removeChild(l)}catch(l){dV&&Ie.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,l)}return i&&(Bd[n]=i.bind(yn))})("fetch")){let n=0,r=0;return GW(t,(function(i){const s=i.body.length;n+=s,r++;const l={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return gT("fetch"),ph("No fetch implementation available");try{return e(t.url,l).then((u=>(n-=s,r--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}})))}catch(u){return gT("fetch"),n-=s,r--,ph(u)}}))}function Rm(t,e,n,r){const i={filename:t,function:e==="<anonymous>"?Xa:e,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const gV=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,vV=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,yV=/\((\S*)(?::(\d+))(?::(\d+))\)/,_V=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,bV=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,wV=(function(...t){const e=t.sort(((n,r)=>n[0]-r[0])).map((n=>n[1]));return(n,r=0,i=0)=>{const s=[],l=n.split(`
`);for(let u=r;u<l.length;u++){const d=l[u];if(d.length>1024)continue;const m=C1.test(d)?d.replace(C1,"$1"):d;if(!m.match(/\S*Error: /)){for(const v of e){const _=v(m);if(_){s.push(_);break}}if(s.length>=50+i)break}}return(function(u){if(!u.length)return[];const d=Array.from(u);return/sentryWrapped/.test(id(d).function||"")&&d.pop(),d.reverse(),T1.test(id(d).function||"")&&(d.pop(),T1.test(id(d).function||"")&&d.pop()),d.slice(0,50).map((m=>({...m,filename:m.filename||id(d).filename,function:m.function||Xa})))})(s.slice(i))}})([30,t=>{const e=gV.exec(t);if(e){const[,r,i,s]=e;return Rm(r,Xa,+i,+s)}const n=vV.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=yV.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[r,i]=vT(n[1]||Xa,n[2]);return Rm(i,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,t=>{const e=_V.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=bV.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let n=e[3],r=e[1]||Xa;return[r,n]=vT(r,n),Rm(n,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),vT=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Xa,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},yT=1024,kV=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(n){var r;e.console&&(function(i){const s="console";is(s,i),as(s,eV)})((function(i){return function(s){if(sn()!==i)return;const l={category:"console",data:{arguments:s.args,logger:"console"},level:tV(s.level),message:O1(s.args," ")};if(s.level==="assert"){if(s.args[0]!==!1)return;l.message=`Assertion failed: ${O1(s.args.slice(1)," ")||"console.assert"}`,l.data.arguments=s.args.slice(1)}$a(l,{input:s.args,level:s.level})}})(n)),e.dom&&(r=(function(i,s){return function(l){if(sn()!==i)return;let u,d,m=typeof s=="object"?s.serializeAttribute:void 0,v=typeof s=="object"&&typeof s.maxStringLength=="number"?s.maxStringLength:void 0;v&&v>yT&&(Hh&&Ie.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${v} was configured. Sentry will use 1024 instead.`),v=yT),typeof m=="string"&&(m=[m]);try{const E=l.event,P=(function(C){return!!C&&!!C.target})(E)?E.target:E;u=qj(P,{keyAttrs:m,maxStringLength:v}),d=(function(C){if(!bb.HTMLElement)return null;let S=C;for(let x=0;x<5;x++){if(!S)return null;if(S instanceof HTMLElement){if(S.dataset.sentryComponent)return S.dataset.sentryComponent;if(S.dataset.sentryElement)return S.dataset.sentryElement}S=S.parentNode}return null})(P)}catch{u="<unknown>"}if(u.length===0)return;const _={category:`ui.${l.name}`,message:u};d&&(_.data={"ui.component_name":d}),$a(_,{event:l.event,name:l.name,global:l.global})}})(n,e.dom),is("dom",r),as("dom",hV)),e.xhr&&(function(i){is("xhr",i),as("xhr",pV)})((function(i){return function(s){if(sn()!==i)return;const{startTimestamp:l,endTimestamp:u}=s,d=s.xhr[Fc];if(!l||!u||!d)return;const{method:m,url:v,status_code:_,body:E}=d,P={method:m,url:v,status_code:_},C={xhr:s.xhr,input:E,startTimestamp:l,endTimestamp:u};$a({category:"xhr",data:P,type:"http",level:dT(_)},C)}})(n)),e.fetch&&iV((function(i){return function(s){if(sn()!==i)return;const{startTimestamp:l,endTimestamp:u}=s;if(u&&(!s.fetchData.url.match(/sentry_key/)||s.fetchData.method!=="POST"))if(s.error)$a({category:"fetch",data:s.fetchData,level:"error",type:"http"},{data:s.error,input:s.args,startTimestamp:l,endTimestamp:u});else{const d=s.response,m={...s.fetchData,status_code:d&&d.status},v={input:s.args,response:d,startTimestamp:l,endTimestamp:u};$a({category:"fetch",data:m,type:"http",level:dT(m.status_code)},v)}}})(n)),e.history&&Zj((function(i){return function(s){if(sn()!==i)return;let l=s.from,u=s.to;const d=jm(zt.location.href);let m=l?jm(l):void 0;const v=jm(u);m&&m.path||(m=d),d.protocol===v.protocol&&d.host===v.host&&(u=v.relative),d.protocol===m.protocol&&d.host===m.host&&(l=m.relative),$a({category:"navigation",data:{from:l,to:u}})}})(n)),e.sentry&&n.on("beforeSendEvent",(function(i){return function(s){sn()===i&&$a({category:"sentry."+(s.type==="transaction"?"transaction":"event"),event_id:s.event_id,level:s.level,message:sa(s)},{event:s})}})(n))}}},SV=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],EV=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&Dn(zt,"setTimeout",_T),e.setInterval&&Dn(zt,"setInterval",_T),e.requestAnimationFrame&&Dn(zt,"requestAnimationFrame",CV),e.XMLHttpRequest&&"XMLHttpRequest"in zt&&Dn(XMLHttpRequest.prototype,"send",TV);const n=e.eventTarget;n&&(Array.isArray(n)?n:SV).forEach(xV)}}};function _T(t){return function(...e){const n=e[0];return e[0]=Po(n,{mechanism:{data:{function:pa(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function CV(t){return function(e){return t.apply(this,[Po(e,{mechanism:{data:{function:"requestAnimationFrame",handler:pa(t)},handled:!1,type:"instrument"}})])}}function TV(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((r=>{r in n&&typeof n[r]=="function"&&Dn(n,r,(function(i){const s={mechanism:{data:{function:r,handler:pa(i)},handled:!1,type:"instrument"}},l=wb(i);return l&&(s.mechanism.data.handler=pa(l)),Po(i,s)}))})),t.apply(this,e)}}function xV(t){const e=zt[t],n=e&&e.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Dn(n,"addEventListener",(function(r){return function(i,s,l){try{typeof s.handleEvent=="function"&&(s.handleEvent=Po(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:pa(s),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Po(s,{mechanism:{data:{function:"addEventListener",handler:pa(s),target:t},handled:!1,type:"instrument"}}),l])}})),Dn(n,"removeEventListener",(function(r){return function(i,s,l){try{const u=s.__sentry_wrapped__;u&&r.call(this,i,u,l)}catch{}return r.call(this,i,s,l)}})))}const MV=()=>({name:"BrowserSession",setupOnce(){zt.document!==void 0?(Y1({ignoreDuration:!0}),Q1(),Zj((({from:t,to:e})=>{t!==void 0&&t!==e&&(Y1({ignoreDuration:!0}),Q1())}))):Hh&&Ie.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),AV=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&((function(r){(function(i){const s="error";is(s,i),as(s,_W)})((i=>{const{stackParser:s,attachStacktrace:l}=wT();if(sn()!==r||fT())return;const{msg:u,url:d,line:m,column:v,error:_}=i,E=(function(P,C,S,x){const O=P.exception=P.exception||{},j=O.values=O.values||[],$=j[0]=j[0]||{},D=$.stacktrace=$.stacktrace||{},R=D.frames=D.frames||[],U=x,G=S,X=_i(C)&&C.length>0?C:(function(){try{return bb.document.location.href}catch{return""}})();return R.length===0&&R.push({colno:U,filename:X,function:Xa,in_app:!0,lineno:G}),P})(m_(s,_||u,void 0,l,!1),d,m,v);E.level="error",G1(E,{originalException:_,mechanism:{handled:!1,type:"onerror"}})}))})(n),bT("onerror")),e.onunhandledrejection&&((function(r){(function(i){const s="unhandledrejection";is(s,i),as(s,bW)})((i=>{const{stackParser:s,attachStacktrace:l}=wT();if(sn()!==r||fT())return;const u=(function(m){if(r_(m))return m;try{if("reason"in m)return m.reason;if("detail"in m&&"reason"in m.detail)return m.detail.reason}catch{}return m})(i),d=r_(u)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(u)}`}]}}:m_(s,u,void 0,l,!0);d.level="error",G1(d,{originalException:u,mechanism:{handled:!1,type:"onunhandledrejection"}})}))})(n),bT("onunhandledrejection"))}}};function bT(t){Hh&&Ie.log(`Global Handler attached: ${t}`)}function wT(){const t=sn();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const PV=()=>({name:"HttpContext",preprocessEvent(t){if(!zt.navigator&&!zt.location&&!zt.document)return;const e=t.request&&t.request.url||zt.location&&zt.location.href,{referrer:n}=zt.document||{},{userAgent:r}=zt.navigator||{},i={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...t.request,...e&&{url:e},headers:i};t.request=s}}),OV=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,i,s){const l=s.getOptions();ZW(Tb,l.stackParser,l.maxValueLength,n,e,r,i)}}};var kT="new",ST="loading",ET="loaded",v_="joining-meeting",Ya="joined-meeting",Fa="left-meeting",Qi="error",jV="playable",$m="unknown",IV="full",LV="base",CT="no-room",NV="end-of-life",DV="connection-error",RV="iframe-ready-for-launch-config",$V="iframe-launch-config",FV="theme-updated",BV="loading",UV="load-attempt-failed",TT="loaded",qV="started-camera",WV="camera-error",VV="joining-meeting",zV="joined-meeting",HV="left-meeting",JV="participant-joined",GV="participant-updated",YV="participant-left",QV="participant-counts-updated",KV="access-state-updated",XV="meeting-session-summary-updated",ZV="meeting-session-state-updated",e6="waiting-participant-added",t6="waiting-participant-updated",n6="waiting-participant-removed",r6="track-started",i6="track-stopped",a6="transcription-started",s6="transcription-stopped",o6="transcription-error",xT="recording-started",MT="recording-stopped",c6="recording-stats",l6="recording-error",u6="recording-upload-completed",d6="recording-data",h6="app-message",f6="transcription-message",p6="remote-media-player-started",m6="remote-media-player-updated",g6="remote-media-player-stopped",v6="local-screen-share-started",y6="local-screen-share-stopped",_6="local-screen-share-canceled",b6="active-speaker-change",w6="active-speaker-mode-change",k6="network-quality-change",S6="network-connection",E6="cpu-load-change",C6="face-counts-updated",dd="fullscreen",hd="exited-fullscreen",T6="live-streaming-started",x6="live-streaming-updated",M6="live-streaming-stopped",A6="live-streaming-error",P6="lang-updated",O6="receive-settings-updated",AT="input-settings-updated",PT="nonfatal-error",OT="error",Fm=4096,jT=102400,Bm="iframe-call-message",IT="local-screen-start",LT="daily-method-update-live-streaming-endpoints",fd="transmit-log",bi="daily-custom-track",Ud={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},eI={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},y_={PLAY:"play",PAUSE:"pause"},Um=["jpg","png","jpeg"],j6="add-endpoints",I6="remove-endpoints",NT="sip-call-transfer";function tr(){return!Ge()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Ge(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function tI(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function L6(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&((function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0})(ys(),gh())||Ge())}function DT(){if(Ge()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var __="none",N6="software",D6="hardware",R6=(function(){try{var t,e=document.createElement("canvas"),n=!1;(t=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,t=e.getContext("webgl2"));var r=t!=null;return e.remove(),r?n?N6:D6:__}catch{return __}})();function nI(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Ge()&&R6!==__&&(t?(function(){return $T()?!1:["Chrome","Firefox"].includes(ys())})():(function(){if($T())return!1;var e=ys();if(e==="Safari"){var n=Ab();if(n.major<15||n.major===15&&n.minor<4)return!1}return e==="Chrome"?Mb().major>=77:e==="Firefox"?Pb().major>=97:["Chrome","Firefox","Safari"].includes(e)})())}function rI(){if(Ge()||iI()||typeof AudioWorkletNode>"u")return!1;switch(ys()){case"Chrome":case"Firefox":return!0;case"Safari":var t=gh();return t.major>17||t.major===17&&t.minor>=4}return!1}function RT(){return tI()&&!(function(){var t,e=ys();if(!tr())return!0;switch(e){case"Chrome":return(t=Mb()).major&&t.major>0&&t.major<75;case"Firefox":return(t=Pb()).major<91;case"Safari":return(t=Ab()).major<13||t.major===13&&t.minor<1;default:return!0}})()}function iI(){return tr().match(/Linux; Android/)}function $T(){var t,e=tr(),n=e.match(/Mac/)&&(!Ge()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(t=t.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(e.match(/Mobi/)||e.match(/Android/)||n)||!!tr().match(/DailyAnd\//)||void 0}function ys(){if(typeof window<"u"){var t=tr();return aI()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||sI()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function gh(){switch(ys()){case"Chrome":return Mb();case"Safari":return Ab();case"Firefox":return Pb();case"Edge":return(function(){var t=0,e=0;if(typeof window<"u"){var n=tr().match(/Edge\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}})()}}function Mb(){var t=0,e=0,n=0,r=0,i=!1;if(typeof window<"u"){var s=tr(),l=s.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(l)try{t=parseInt(l[1]),e=parseInt(l[2]),n=parseInt(l[3]),r=parseInt(l[4]),i=s.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:n,patch:r,opera:i}}function aI(){return!!tr().match(/iPad|iPhone|iPod/i)&&tI()}function sI(){return tr().indexOf("AppleWebKit/605.1.15")>-1}function Ab(){var t=0,e=0,n=0;if(typeof window<"u"){var r=tr().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2]),n=parseInt(r[4])}catch{}else(aI()||sI())&&(t=14,e=0,n=3)}return{major:t,minor:e,point:n}}function Pb(){var t=0,e=0;if(typeof window<"u"){var n=tr().match(/Firefox\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}var oI=(function(){return Un((function t(){Bn(this,t)}),[{key:"addListenerForMessagesFromCallMachine",value:function(t,e,n){jc()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,e,n){jc()}},{key:"sendMessageToCallMachine",value:function(t,e,n,r){jc()}},{key:"sendMessageToDailyJs",value:function(t,e){jc()}},{key:"removeListener",value:function(t){jc()}}])})();function FT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach((function(r){Jr(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function cI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(cI=function(){return!!t})()}var $6=(function(){function t(){var e,n,r,i;return Bn(this,t),n=this,r=Mr(r=t),(e=Fh(n,cI()?Reflect.construct(r,[],Mr(n).constructor):r.apply(n,i)))._wrappedListeners={},e._messageCallbacks={},e}return Bh(t,oI),Un(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,r){var i=this,s=function(l){if(l.data&&l.data.what==="iframe-call-message"&&(!l.data.callClientId||l.data.callClientId===n)&&(!l.data.from||l.data.from!=="module")){var u=qm({},l.data);if(delete u.from,u.callbackStamp&&i._messageCallbacks[u.callbackStamp]){var d=u.callbackStamp;i._messageCallbacks[d].call(r,u),delete i._messageCallbacks[d]}delete u.what,delete u.callbackStamp,e.call(r,u)}};this._wrappedListeners[e]=s,window.addEventListener("message",s)}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,r){var i=function(s){var l;if(!(!s.data||s.data.what!==Bm||!s.data.action||s.data.from&&s.data.from!=="module"||s.data.callClientId&&n&&s.data.callClientId!==n||s!=null&&(l=s.data)!==null&&l!==void 0&&l.callFrameId)){var u=s.data;e.call(r,u)}};this._wrappedListeners[e]=i,window.addEventListener("message",i)}},{key:"sendMessageToCallMachine",value:function(e,n,r,i){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var s=qm({},e);if(s.what=Bm,s.from="module",s.callClientId=r,n){var l=Uh();this._messageCallbacks[l]=n,s.callbackStamp=l}var u=i?i.contentWindow:window,d=this._callMachineTargetOrigin(i);d&&u.postMessage(s,d)}},{key:"sendMessageToDailyJs",value:function(e,n){e.what=Bm,e.callClientId=n,e.from="embedded",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"forwardPackagedMessageToCallMachine",value:function(e,n,r){var i=qm({},e);i.callClientId=r;var s=n?n.contentWindow:window,l=this._callMachineTargetOrigin(n);l&&s.postMessage(i,l)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e,n){var r=function(i){if(i.data&&i.data.what==="iframe-call-message"&&(!i.data.callClientId||i.data.callClientId===n)&&(!i.data.from||i.data.from!=="module")){var s=i.data;e(s)}};return this._wrappedListeners[e]=r,window.addEventListener("message",r),e}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"_callMachineTargetOrigin",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])})();function BT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function lI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(lI=function(){return!!t})()}var F6=(function(){function t(){var e,n,r,i;return Bn(this,t),n=this,r=Mr(r=t),e=Fh(n,lI()?Reflect.construct(r,[],Mr(n).constructor):r.apply(n,i)),globalThis.callMachineToDailyJsEmitter=globalThis.callMachineToDailyJsEmitter||new t_.EventEmitter,globalThis.dailyJsToCallMachineEmitter=globalThis.dailyJsToCallMachineEmitter||new t_.EventEmitter,e._wrappedListeners={},e._messageCallbacks={},e}return Bh(t,oI),Un(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,r){this._addListener(e,globalThis.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,r){this._addListener(e,globalThis.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(e,n,r){this._sendMessage(e,globalThis.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(e,n){this._sendMessage(e,globalThis.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(globalThis.callMachineToDailyJsEmitter.removeListener("message",n),globalThis.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[e])}},{key:"_addListener",value:function(e,n,r,i,s){var l=this,u=function(d){if(d.callClientId===r){if(d.callbackStamp&&l._messageCallbacks[d.callbackStamp]){var m=d.callbackStamp;l._messageCallbacks[m].call(i,d),delete l._messageCallbacks[m]}e.call(i,d)}};this._wrappedListeners[e]=u,n.addListener("message",u)}},{key:"_sendMessage",value:function(e,n,r,i,s){var l=(function(d){for(var m=1;m<arguments.length;m++){var v=arguments[m]!=null?arguments[m]:{};m%2?BT(Object(v),!0).forEach((function(_){Jr(d,_,v[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):BT(Object(v)).forEach((function(_){Object.defineProperty(d,_,Object.getOwnPropertyDescriptor(v,_))}))}return d})({},e);if(l.callClientId=r,i){var u=Uh();this._messageCallbacks[u]=i,l.callbackStamp=u}n.emit("message",l)}}])})(),b_="replace",w_="shallow-merge",UT=[b_,w_],B6=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.data,r=e.mergeStrategy,i=r===void 0?b_:r;Bn(this,t),t._validateMergeStrategy(i),t._validateData(n,i),this.mergeStrategy=i,this.data=n}return Un(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,n){return Object.keys(e).length===0&&n===w_}},{key:"_validateMergeStrategy",value:function(e){if(!UT.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(UT,"]"))}},{key:"_validateData",value:function(e,n){if(!(function(u){if(u==null||Ke(u)!=="object")return!1;var d=Object.getPrototypeOf(u);return d==null||d===Object.prototype})(e))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(e),n===b_){var i=JSON.parse(r);gn(i,e)||console.warn("The meeting session data provided will be modified when serialized.",i,e)}else if(n===w_){for(var s in e)if(Object.hasOwnProperty.call(e,s)&&e[s]!==void 0){var l=JSON.parse(JSON.stringify(e[s]));gn(e[s],l)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",l,e[s])}}}catch(u){throw Error("Meeting session data must be serializable to JSON: ".concat(u))}if(r.length>jT)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(jT,"."))}}])})();function uI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(uI=function(){return!!t})()}function k_(t){var e=typeof Map=="function"?new Map:void 0;return k_=function(n){if(n===null||!(function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}})(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return(function(i,s,l){if(uI())return Reflect.construct.apply(null,arguments);var u=[null];u.push.apply(u,s);var d=new(i.bind.apply(i,u));return l&&rl(d,l.prototype),d})(n,arguments,Mr(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),rl(r,n)},k_(t)}function dI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(dI=function(){return!!t})()}function qT(t){var e,n=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}}var U6=(function(){return Un((function t(e){Bn(this,t),this._currentLoad=null,this._callClientId=e}),[{key:"load",value:function(){var t,e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new q6(n,(function(){r(!1)}),(function(s,l){l||qT(e._callClientId),i(s,l)})),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),qT(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])})(),q6=(function(){return Un((function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Bn(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=n,this._failureCallback=r}),[{key:"start",value:function(){var t=this;if(!this._currentAttempt){var e=function(n){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(n,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout((function(){t._currentAttempt.cancelled||(t._currentAttempt=new WT(t._dailyConfig,t._successCallback,e),t._currentAttempt.start())}),3e3))};this._currentAttempt=new WT(this._dailyConfig,this._successCallback,e),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])})(),Wm=(function(){function t(){return Bn(this,t),e=this,r=arguments,n=Mr(n=t),Fh(e,dI()?Reflect.construct(n,r||[],Mr(e).constructor):n.apply(e,r));var e,n,r}return Bh(t,k_(Error)),Un(t)})(),vh=2e4,WT=(function(){return Un((function e(n,r,i){Bn(this,e),this._loadAttemptImpl=Ge()||!n.avoidEval?new W6(n,r,i):new V6(n,r,i)}),[{key:"start",value:(t=Ae((function*(){return this._loadAttemptImpl.start()})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var t})(),W6=(function(){return Un((function i(s,l,u){Bn(this,i),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=s,this._successCallback=l,this._failureCallback=u}),[{key:"start",value:(r=Ae((function*(){var i=uh(this._dailyConfig);!(yield this._tryLoadFromIOSCache(i))&&this._loadFromNetwork(i)})),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=Ae((function*(i){if(!this._iosCache)return!1;try{var s=yield this._iosCache.get(i);return!!this.cancelled||!!s&&(s.code?(Function('"use strict";'+s.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=s.refetchHeaders,!1))}catch{return!1}})),function(i){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(e=Ae((function*(i){var s=this;this._networkTimeout=setTimeout((function(){s._networkTimedOut=!0,s._failureCallback({msg:"Timed out (>".concat(vh," ms) when loading call object bundle ").concat(i),type:"timeout"})}),vh);try{var l=this._refetchHeaders?{headers:this._refetchHeaders}:{},u=yield fetch(i,l);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Wm;var d=yield this._getBundleCodeFromResponse(i,u);if(this.cancelled)throw new Wm;Function('"use strict";'+d)(),this._iosCache&&this._iosCache.set(i,d,u.headers),this.succeeded=!0,this._successCallback()}catch(m){if(clearTimeout(this._networkTimeout),m instanceof Wm||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(i,": ").concat(m),type:m.message})}})),function(i){return e.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=Ae((function*(i,s){if(s.ok)return yield s.text();if(this._iosCache&&s.status===304)return(yield this._iosCache.renew(i,s.headers)).code;throw new Error("Received ".concat(s.status," response"))})),function(i,s){return t.apply(this,arguments)})}]);var t,e,n,r})(),V6=(function(){return Un((function t(e,n,r){Bn(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=n,this._failureCallback=r,this._attemptId=Uh(),this._networkTimeout=null,this._scriptElement=null}),[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=uh(this._dailyConfig);(typeof document>"u"?"undefined":Ke(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var e=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout((function(){e._stopLoading(),e._failureCallback({msg:"Timed out (>".concat(vh," ms) when loading call object bundle ").concat(t),type:"timeout"})}),vh);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){e._stopLoading(),e.succeeded=!0,e._successCallback()},r.onerror=function(i){e._stopLoading(),e._failureCallback({msg:"Failed to load call object bundle ".concat(i.target.src),type:i.message})},r.src=t,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])})(),pd=function(t,e,n){return H6(t.local,e,n)===!0},z6=function(t,e,n){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},co=function(t,e,n,r){var i=J6(t,e,n,r);return i&&i.pendingTrack},H6=function(t,e,n){if(!t)return!1;var r=function(s){switch(s){case"avatar":return!0;case"staged":return s;default:return!!s}},i=t.public.subscribedTracks;return i&&i[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&i[e].custom?[!0,"staged"].includes(i[e].custom)?r(i[e].custom):r(i[e].custom[n]):r(i[e][n]):!i||r(i.ALL)},J6=function(t,e,n,r){var i=Object.values(t.streams||{}).filter((function(s){return s.participantId===e&&s.type===n&&s.pendingTrack&&s.pendingTrack.kind===r})).sort((function(s,l){return new Date(l.starttime)-new Date(s.starttime)}));return i&&i[0]},G6=function(t,e){var n=t.local.public.customTracks;if(n&&n[e])return n[e].track};function VT(t,e){for(var n=e.getState(),r=0,i=["cam","screen"];r<i.length;r++)for(var s=i[r],l=0,u=["video","audio"];l<u.length;l++){var d=u[l],m=s==="cam"?d:"screen".concat(d.charAt(0).toUpperCase()+d.slice(1)),v=t.tracks[m];if(v){var _=t.local?z6(n,s,d):co(n,t.session_id,s,d);v.state==="playable"&&(v.track=_),v.persistentTrack=_}}}function zT(t,e){try{var n=e.getState();for(var r in t.tracks)if(!Y6(r)){var i=t.tracks[r].kind;if(i){var s=t.tracks[r];if(s){var l=t.local?G6(n,r):co(n,t.session_id,r,i);s.state==="playable"&&(t.tracks[r].track=l),s.persistentTrack=l}}else console.error("unknown type for custom track")}}catch(u){console.error(u)}}function Y6(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function HT(t,e,n){var r=n.getState();if(t.local){if(t.audio)try{t.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var i=!0;try{var s=r.participants[t.session_id];s&&s.public&&s.public.rtcType&&s.public.rtcType.impl==="peer-to-peer"&&s.private&&!["connected","completed"].includes(s.private.peeringState)&&(i=!1)}catch(v){console.error(v)}if(!i)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(r.streams,t.audio&&pd(r,t.session_id,"cam-audio")){var l=co(r,t.session_id,"cam","audio");l&&(e&&e.audioTrack&&e.audioTrack.id===l.id?t.audioTrack=l:l.muted||(t.audioTrack=l)),t.audioTrack||(t.audio=!1)}if(t.video&&pd(r,t.session_id,"cam-video")){var u=co(r,t.session_id,"cam","video");u&&(e&&e.videoTrack&&e.videoTrack.id===u.id?t.videoTrack=u:u.muted||(t.videoTrack=u)),t.videoTrack||(t.video=!1)}if(t.screen&&pd(r,t.session_id,"screen-audio")){var d=co(r,t.session_id,"screen","audio");d&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===d.id?t.screenAudioTrack=d:d.muted||(t.screenAudioTrack=d))}if(t.screen&&pd(r,t.session_id,"screen-video")){var m=co(r,t.session_id,"screen","video");m&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===m.id?t.screenVideoTrack=m:m.muted||(t.screenVideoTrack=m))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(v){console.error("unexpected error matching up tracks",v)}}}function Q6(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(function(d,m){if(d){if(typeof d=="string")return JT(d,m);var v={}.toString.call(d).slice(8,-1);return v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set"?Array.from(d):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?JT(d,m):void 0}})(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,l=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){u=!0,s=d},f:function(){try{l||n.return==null||n.return()}finally{if(u)throw s}}}}function JT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Vr=new Map,go=null;function K6(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(function(d,m){if(d){if(typeof d=="string")return GT(d,m);var v={}.toString.call(d).slice(8,-1);return v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set"?Array.from(d):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?GT(d,m):void 0}})(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,l=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){u=!0,s=d},f:function(){try{l||n.return==null||n.return()}finally{if(u)throw s}}}}function GT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var zr=new Map,Gc=null;function X6(t){hI()?(function(e){Vr.has(e)||(Vr.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(n){Vr.has(e)&&(Vr.get(e).lastDevicesString=JSON.stringify(n),go||(go=(function(){var r=Ae((function*(){var i,s=yield navigator.mediaDevices.enumerateDevices(),l=Q6(Vr.keys());try{for(l.s();!(i=l.n()).done;){var u=i.value,d=JSON.stringify(s);d!==Vr.get(u).lastDevicesString&&(Vr.get(u).lastDevicesString=d,u(s))}}catch(m){l.e(m)}finally{l.f()}}));return function(){return r.apply(this,arguments)}})(),navigator.mediaDevices.addEventListener("devicechange",go)))})).catch((function(){})))})(t):(function(e){zr.has(e)||(zr.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(n){zr.has(e)&&(zr.get(e).lastDevicesString=JSON.stringify(n),Gc||(Gc=setInterval(Ae((function*(){var r,i=yield navigator.mediaDevices.enumerateDevices(),s=K6(zr.keys());try{for(s.s();!(r=s.n()).done;){var l=r.value,u=JSON.stringify(i);u!==zr.get(l).lastDevicesString&&(zr.get(l).lastDevicesString=u,l(i))}}catch(d){s.e(d)}finally{s.f()}})),3e3)))})))})(t)}function Z6(t){hI()?(function(e){Vr.has(e)&&(Vr.delete(e),Vr.size===0&&go&&(navigator.mediaDevices.removeEventListener("devicechange",go),go=null))})(t):(function(e){zr.has(e)&&(zr.delete(e),zr.size===0&&Gc&&(clearInterval(Gc),Gc=null))})(t)}function hI(){var t;return Ge()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var ez=new Set;function tz(t,e){return t&&t.readyState==="live"&&!(function(n,r){return n.muted&&!ez.has(n.id)})(t)}function YT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(n),!0).forEach((function(r){Jr(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}var Bc=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),nz=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Yc=Object.values(Bc),QT=["v","a","sv","sa","cv","ca"];Object.freeze(Yc.reduce((function(t,e,n){return t[e]=QT[n],t}),{})),Object.freeze(QT.reduce((function(t,e,n){return t[e]=Yc[n],t}),{}));var rz=[Bc.VIDEO,Bc.AUDIO,Bc.SCREEN_VIDEO,Bc.SCREEN_AUDIO],KT=Object.values(nz),XT=["p","s","t"];Object.freeze(KT.reduce((function(t,e,n){return t[e]=XT[n],t}),{})),Object.freeze(XT.reduce((function(t,e,n){return t[e]=KT[n],t}),{}));var fI=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.base,r=e.byUserId,i=e.byParticipantId;Bn(this,t),this.base=n,this.byUserId=r,this.byParticipantId=i}return Un(t,[{key:"clone",value:function(){var e=new t;if(this.base instanceof Yt?e.base=this.base.clone():e.base=this.base,this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var r=this.byUserId[n];e.byUserId[n]=r instanceof Yt?r.clone():r}if(this.byParticipantId!==void 0)for(var i in e.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[i];e.byParticipantId[i]=s instanceof Yt?s.clone():s}return e}},{key:"toJSONObject",value:function(){var e={};if(typeof this.base=="boolean"?e.base=this.base:this.base instanceof Yt&&(e.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var r=this.byUserId[n];e.byUserId[n]=r instanceof Yt?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var i in e.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[i];e.byParticipantId[i]=s instanceof Yt?s.toJSONObject():s}return e}},{key:"toMinifiedJSONObject",value:function(){var e={};if(this.base!==void 0&&(typeof this.base=="boolean"?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in e.u={},this.byUserId){var r=this.byUserId[n];e.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var i in e.p={},this.byParticipantId){var s=this.byParticipantId[i];e.p[i]=typeof s=="boolean"?s:s.toMinifiedJSONObject()}return e}},{key:"normalize",value:function(){return this.base instanceof Yt&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map((function(e){var n=cn(e,2),r=n[0],i=n[1];return[r,i instanceof Yt?i.normalize():i]})))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map((function(e){var n=cn(e,2),r=n[0],i=n[1];return[r,i instanceof Yt?i.normalize():i]})))),this}}],[{key:"fromJSONObject",value:function(e){var n,r,i;if(e.base!==void 0&&(n=typeof e.base=="boolean"?e.base:Yt.fromJSONObject(e.base)),e.byUserId!==void 0)for(var s in r={},e.byUserId){var l=e.byUserId[s];r[s]=typeof l=="boolean"?l:Yt.fromJSONObject(l)}if(e.byParticipantId!==void 0)for(var u in i={},e.byParticipantId){var d=e.byParticipantId[u];i[u]=typeof d=="boolean"?d:Yt.fromJSONObject(d)}return new t({base:n,byUserId:r,byParticipantId:i})}},{key:"fromMinifiedJSONObject",value:function(e){var n,r,i;if(e.b!==void 0&&(n=typeof e.b=="boolean"?e.b:Yt.fromMinifiedJSONObject(e.b)),e.u!==void 0)for(var s in r={},e.u){var l=e.u[s];r[s]=typeof l=="boolean"?l:Yt.fromMinifiedJSONObject(l)}if(e.p!==void 0)for(var u in i={},e.p){var d=e.p[u];i[u]=typeof d=="boolean"?d:Yt.fromMinifiedJSONObject(d)}return new t({base:n,byUserId:r,byParticipantId:i})}},{key:"validateJSONObject",value:function(e){if(Ke(e)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,i=Object.keys(e);r<i.length;r++){var s=i[r];if(!n.includes(s))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(s==="base"){var l=cn(Yt.validateJSONObject(e.base,!0),2),u=l[0],d=l[1];if(!u)return[!1,d]}else{if(Ke(e[s])!=="object")return[!1,"invalid (non-object) value for field '".concat(s,"' in canReceive")];for(var m=0,v=Object.values(e[s]);m<v.length;m++){var _=v[m],E=cn(Yt.validateJSONObject(_),2),P=E[0],C=E[1];if(!P)return[!1,C]}}}return[!0]}}])})(),Yt=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.video,r=e.audio,i=e.screenVideo,s=e.screenAudio,l=e.customVideo,u=e.customAudio;Bn(this,t),this.video=n,this.audio=r,this.screenVideo=i,this.screenAudio=s,this.customVideo=l,this.customAudio=u}return Un(t,[{key:"clone",value:function(){var e=new t;return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=Ki({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=Ki({},this.customAudio)),e}},{key:"toJSONObject",value:function(){var e={};return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=Ki({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=Ki({},this.customAudio)),e}},{key:"toMinifiedJSONObject",value:function(){var e={};return this.video!==void 0&&(e.v=this.video),this.audio!==void 0&&(e.a=this.audio),this.screenVideo!==void 0&&(e.sv=this.screenVideo),this.screenAudio!==void 0&&(e.sa=this.screenAudio),this.customVideo!==void 0&&(e.cv=Ki({},this.customVideo)),this.customAudio!==void 0&&(e.ca=Ki({},this.customAudio)),e}},{key:"normalize",value:function(){function e(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(e){return new t({video:e,audio:e,screenVideo:e,screenAudio:e,customVideo:{"*":e},customAudio:{"*":e}})}},{key:"fromJSONObject",value:function(e){return new t({video:e.video,audio:e.audio,screenVideo:e.screenVideo,screenAudio:e.screenAudio,customVideo:e.customVideo!==void 0?Ki({},e.customVideo):void 0,customAudio:e.customAudio!==void 0?Ki({},e.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(e){return new t({video:e.v,audio:e.a,screenVideo:e.sv,screenAudio:e.sa,customVideo:e.cv,customAudio:e.ca})}},{key:"validateJSONObject",value:function(e,n){if(typeof e=="boolean")return[!0];if(Ke(e)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(e),i=0,s=r;i<s.length;i++){var l=s[i];if(!Yc.includes(l))return[!1,"invalid media type '".concat(l,"' in canReceive")];if(rz.includes(l)){if(typeof e[l]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(l,"' in canReceive")]}else{if(Ke(e[l])!=="object")return[!1,"invalid (non-object) value for media type '".concat(l,"' in canReceive")];for(var u=0,d=Object.values(e[l]);u<d.length;u++)if(typeof d[u]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(l,"' in canReceive")];if(n&&e[l]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(l,"'")]}}return n&&r.length!==Yc.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Yc.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])})(),iz=["result"],az=["preserveIframe"];function ZT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach((function(r){Jr(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function pI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(pI=function(){return!!t})()}function ex(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(function(d,m){if(d){if(typeof d=="string")return tx(d,m);var v={}.toString.call(d).slice(8,-1);return v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set"?Array.from(d):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?tx(d,m):void 0}})(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,l=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){u=!0,s=d},f:function(){try{l||n.return==null||n.return()}finally{if(u)throw s}}}}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Ba={},nx="video",sz="voice",rx=Ge()?{data:{}}:{data:{},topology:"none"},ix={present:0,hidden:0},mI={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Vm=Object.keys(mI),ax=["state","volume","simulcastEncodings"],sx={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},yh={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},S_={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Ua={customIntegrations:{validate:SI,help:wI()},customTrayButtons:{validate:kI,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(yh))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return EI(t,sx)},help:"reactNativeConfig should look like ".concat(JSON.stringify(sx),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return gI(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,n={customTrack:bi};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,n={customTrack:bi};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var i=0,s=Object.keys(r);i<s.length;i++){var l=s[i];if(!e.includes(l))return console.error('unsupported color "'.concat(l,'". Valid colors: ').concat(e.join(", "))),!1;if(!r[l].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(l,' theme color should be provided in valid hex color format. Received: "').concat(r[l],'"')),!1}return!0};return Ke(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?n(t.light.colors)&&n(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):n(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return vI(t,{allowAllParticipantsKey:!1})},help:bI({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!(function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(i){return console.error("Failed to validate send settings",i),!1}})(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var n;return!!yI(t)&&(e._inputSettings||(e._inputSettings={}),_I(t,(n=e.properties)===null||n===void 0?void 0:n.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:E_()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},md={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var n in t.cam)if(n!=="div"&&n!=="video")return!1}if(t.screen){for(var r in t.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(t)||!Ge()&&t==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],i=function(s){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var u in s)if(u==="custom"){if(!n.includes(s[u])&&!i(s[u],!0))return!1}else{var d=!l&&!r.includes(u),m=!n.includes(s[u]);if(d||m)return!1}return!0};return i(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Ge()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=cn(n[e],2),i=r[0],s=r[1];switch(i){case"hasPresence":if(typeof s!="boolean")return!1;break;case"canSend":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var l,u=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],d=ex(s);try{for(d.s();!(l=d.n()).done;){var m=l.value;if(!u.includes(m))return!1}}catch(O){d.e(O)}finally{d.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(t.canSend=new Set(s));break;case"canReceive":var v=cn(fI.validateJSONObject(s),2),_=v[0],E=v[1];if(!_)return console.error(E),!1;break;case"canAdmin":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var P,C=["participants","streaming","transcription"],S=ex(s);try{for(S.s();!(P=S.n()).done;){var x=P.value;if(!C.includes(x))return!1}}catch(O){S.e(O)}finally{S.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(t.canAdmin=new Set(s));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=(function(){var t=Ae((function*(e){return new Promise((function(n,r){var i=[];e.forEach((function(s){return Promise.resolve(s).then((function(l){n(l)})).catch((function(l){i.push(l),i.length===e.length&&r(i)}))}))}))}));return function(e){return t.apply(this,arguments)}})());var ox=(function(){function t(o){var f,p,y,w,T,I,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Bn(this,t),y=this,w=Mr(w=t),Jr(p=Fh(y,pI()?Reflect.construct(w,[],Mr(y).constructor):w.apply(y,T)),"startListeningForDeviceChanges",(function(){X6(p.handleDeviceChange)})),Jr(p,"stopListeningForDeviceChanges",(function(){Z6(p.handleDeviceChange)})),Jr(p,"handleDeviceChange",(function(Z){Z=Z.map((function(ae){return JSON.parse(JSON.stringify(ae))})),p.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Z})})),Jr(p,"handleNativeAppStateChange",(function(){var Z=Ae((function*(ae){if(ae==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield p.destroy());var Le=ae==="active";p.disableReactNativeAutoDeviceManagement("video")||(Le?p.camUnmutedBeforeLosingNativeActiveState&&p.setLocalVideo(!0):(p.camUnmutedBeforeLosingNativeActiveState=p.localVideo(),p.camUnmutedBeforeLosingNativeActiveState&&p.setLocalVideo(!1)))}));return function(ae){return Z.apply(this,arguments)}})()),Jr(p,"handleNativeAudioFocusChange",(function(Z){p.disableReactNativeAutoDeviceManagement("audio")||(p._hasNativeAudioFocus=Z,p.toggleParticipantAudioBasedOnNativeAudioFocus(),p._hasNativeAudioFocus?p.micUnmutedBeforeLosingNativeAudioFocus&&p.setLocalAudio(!0):(p.micUnmutedBeforeLosingNativeAudioFocus=p.localAudio(),p.setLocalAudio(!1)))})),Jr(p,"handleNativeSystemScreenCaptureStop",(function(){p.stopScreenShare()})),p.strictMode=L.strictMode===void 0||L.strictMode,p.allowMultipleCallInstances=(f=L.allowMultipleCallInstances)!==null&&f!==void 0&&f,Object.keys(Ba).length&&(p._logDuplicateInstanceAttempt(),!p.allowMultipleCallInstances)){if(p.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),p.callClientId=Uh(),Ba[(I=p).callClientId]=I,window._daily.instances[p.callClientId]={},p._sharedTracks={},window._daily.instances[p.callClientId].tracks=p._sharedTracks,L.dailyJsVersion=t.version(),p._iframe=o,p._callObjectMode=L.layout==="none"&&!p._iframe,p._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},L.showLocalVideo!==void 0?p._callObjectMode?console.error("showLocalVideo is not available in call object mode"):p._showLocalVideo=!!L.showLocalVideo:p._showLocalVideo=!0,L.showParticipantsBar!==void 0?p._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):p._showParticipantsBar=!!L.showParticipantsBar:p._showParticipantsBar=!0,L.customIntegrations!==void 0?p._callObjectMode?console.error("customIntegrations is not available in call object mode"):p._customIntegrations=L.customIntegrations:p._customIntegrations={},L.customTrayButtons!==void 0?p._callObjectMode?console.error("customTrayButtons is not available in call object mode"):p._customTrayButtons=L.customTrayButtons:p._customTrayButtons={},L.activeSpeakerMode!==void 0?p._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):p._activeSpeakerMode=!!L.activeSpeakerMode:p._activeSpeakerMode=!1,L.receiveSettings?p._callObjectMode?p._receiveSettings=L.receiveSettings:console.error("receiveSettings is only available in call object mode"):p._receiveSettings={},p.validateProperties(L),p.properties=Se({},L),p._inputSettings||(p._inputSettings={}),p._callObjectLoader=p._callObjectMode?new U6(p.callClientId):null,p._callState=kT,p._isPreparingToJoin=!1,p._accessState={access:$m},p._meetingSessionSummary={},p._finalSummaryOfPrevSession={},p._meetingSessionState=Jm(rx,p._callObjectMode),p._nativeInCallAudioMode=nx,p._participants={},p._isScreenSharing=!1,p._participantCounts=ix,p._rmpPlayerState={},p._waitingParticipants={},p._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},p._activeSpeaker={},p._localAudioLevel=0,p._isLocalAudioLevelObserverRunning=!1,p._remoteParticipantsAudioLevel={},p._isRemoteParticipantsAudioLevelObserverRunning=!1,p._maxAppMessageSize=Fm,p._messageChannel=Ge()?new F6:new $6,p._iframe&&(p._iframe.requestFullscreen?p._iframe.addEventListener("fullscreenchange",(function(){document.fullscreenElement===p._iframe?(p.emitDailyJSEvent({action:dd}),p.sendMessageToCallMachine({action:dd})):(p.emitDailyJSEvent({action:hd}),p.sendMessageToCallMachine({action:hd}))})):p._iframe.webkitRequestFullscreen&&p._iframe.addEventListener("webkitfullscreenchange",(function(){document.webkitFullscreenElement===p._iframe?(p.emitDailyJSEvent({action:dd}),p.sendMessageToCallMachine({action:dd})):(p.emitDailyJSEvent({action:hd}),p.sendMessageToCallMachine({action:hd}))}))),Ge()){var W=p.nativeUtils();W.addAudioFocusChangeListener&&W.removeAudioFocusChangeListener&&W.addAppStateChangeListener&&W.removeAppStateChangeListener&&W.addSystemScreenCaptureStopListener&&W.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),p._hasNativeAudioFocus=!0,W.addAudioFocusChangeListener(p.handleNativeAudioFocusChange),W.addAppStateChangeListener(p.handleNativeAppStateChange),W.addSystemScreenCaptureStopListener(p.handleNativeSystemScreenCaptureStop)}return p._callObjectMode&&p.startListeningForDeviceChanges(),p._messageChannel.addListenerForMessagesFromCallMachine(p.handleMessageFromCallMachine,p.callClientId,p),p}return Bh(t,rd),Un(t,[{key:"destroy",value:(Y=Ae((function*(){var o;try{yield this.leave()}catch{}var f=this._iframe;if(f){var p=f.parentElement;p&&p.removeChild(f)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Ge()){var y=this.nativeUtils();y.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),y.removeAppStateChangeListener(this.handleNativeAppStateChange),y.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Ba[this.callClientId],!((o=window)===null||o===void 0||(o=o._daily)===null||o===void 0)&&o.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)})),function(){return Y.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(o){var f=o.bodyClass,p=o.cssFile,y=o.cssText;return Ve(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(p),bodyClass:f,cssText:y}),this}},{key:"iframe",value:function(){return Ve(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return pr(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return pr(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(o,f){for(var p in f){if(!md[p])throw new Error("unrecognized updateParticipant property ".concat(p));if(md[p].validate&&!md[p].validate(f[p],this,this._participants[o]))throw new Error(md[p].help)}}},{key:"updateParticipant",value:function(o,f){return this._participants.local&&this._participants.local.session_id===o&&(o="local"),o&&f&&(this.validateParticipantProperties(o,f),this.sendMessageToCallMachine({action:"update-participant",id:o,properties:f})),this}},{key:"updateParticipants",value:function(o){var f=this._participants.local&&this._participants.local.session_id;for(var p in o)p===f&&(p="local"),p&&o[p]&&this.validateParticipantProperties(p,o[p]);return this.sendMessageToCallMachine({action:"update-participants",participants:o}),this}},{key:"updateWaitingParticipant",value:(q=Ae((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(pr(this._callObjectMode,"updateWaitingParticipant()"),ft(this._callState,"updateWaitingParticipant()"),typeof f!="string"||Ke(p)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise((function(y,w){o.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:f,updates:p},(function(T){T.error&&w(T.error),T.id||w(new Error("unknown error in updateWaitingParticipant()")),y({id:T.id})}))}))})),function(){return q.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(de=Ae((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(pr(this._callObjectMode,"updateWaitingParticipants()"),ft(this._callState,"updateWaitingParticipants()"),Ke(f)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise((function(p,y){o.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:f},(function(w){w.error&&y(w.error),w.ids||y(new Error("unknown error in updateWaitingParticipants()")),p({ids:w.ids})}))}))})),function(){return de.apply(this,arguments)})},{key:"requestAccess",value:(_e=Ae((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=f.access,y=p===void 0?{level:IV}:p,w=f.name,T=w===void 0?"":w;return pr(this._callObjectMode,"requestAccess()"),ft(this._callState,"requestAccess()"),new Promise((function(I,L){o.sendMessageToCallMachine({action:"daily-method-request-access",access:y,name:T},(function(W){W.error&&L(W.error),W.access||L(new Error("unknown error in requestAccess()")),I({access:W.access,granted:W.granted})}))}))})),function(){return _e.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in f&&(Ge()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),f={}):o&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),f={})),this.sendMessageToCallMachine({action:"local-audio",state:o,options:f}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(o){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:o}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(o){return this.sendMessageToCallMachine({action:"local-video",state:o}),this}},{key:"_setAllowLocalAudio",value:function(o){if(this._preloadCache.allowLocalAudio=o,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:o}),this}},{key:"_setAllowLocalVideo",value:function(o){if(this._preloadCache.allowLocalVideo=o,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:o}),this}},{key:"getReceiveSettings",value:(ue=Ae((function*(o){var f=this,p=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,y=p!==void 0&&p;if(pr(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ke(o)){case"string":return new Promise((function(w){f.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:o,showInheritedValues:y},(function(T){w(T.receiveSettings)}))}));case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}})),function(o){return ue.apply(this,arguments)})},{key:"updateReceiveSettings",value:(qe=Ae((function*(o){var f=this;if(pr(this._callObjectMode,"updateReceiveSettings()"),!vI(o,{allowAllParticipantsKey:!0}))throw new Error(bI({allowAllParticipantsKey:!0}));return ft(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise((function(p){f.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:o},(function(y){p({receiveSettings:y.receiveSettings})}))}))})),function(o){return qe.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(o,f){if(o){var p={};if(o.audio){var y,w,T;o.audio.settings&&(!Object.keys(o.audio.settings).length&&f||(p.audio={settings:Se({},o.audio.settings)})),f&&(y=p.audio)!==null&&y!==void 0&&(y=y.settings)!==null&&y!==void 0&&y.customTrack&&(p.audio.settings={customTrack:this._sharedTracks.audioTrack});var I=((w=o.audio.processor)===null||w===void 0?void 0:w.type)==="none"&&((T=o.audio.processor)===null||T===void 0?void 0:T._isDefaultWhenNone);if(o.audio.processor&&!I){var L=Se({},o.audio.processor);delete L._isDefaultWhenNone,p.audio=Se(Se({},p.audio),{},{processor:L})}}if(o.video){var W,Z,ae;o.video.settings&&(!Object.keys(o.video.settings).length&&f||(p.video={settings:Se({},o.video.settings)})),f&&(W=p.video)!==null&&W!==void 0&&(W=W.settings)!==null&&W!==void 0&&W.customTrack&&(p.video.settings={customTrack:this._sharedTracks.videoTrack});var Le=((Z=o.video.processor)===null||Z===void 0?void 0:Z.type)==="none"&&((ae=o.video.processor)===null||ae===void 0?void 0:ae._isDefaultWhenNone);if(o.video.processor&&!Le){var we=Se({},o.video.processor);delete we._isDefaultWhenNone,p.video=Se(Se({},p.video),{},{processor:we})}}return p}}},{key:"getInputSettings",value:function(){var o=this;return Ve(),new Promise((function(f){f(o._getInputSettings())}))}},{key:"_getInputSettings",value:function(){var o,f,p,y,w,T,I={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(o=((p=this._inputSettings)===null||p===void 0?void 0:p.video)||I,f=((y=this._inputSettings)===null||y===void 0?void 0:y.audio)||I):(o=((w=this._preloadCache)===null||w===void 0||(w=w.inputSettings)===null||w===void 0?void 0:w.video)||I,f=((T=this._preloadCache)===null||T===void 0||(T=T.inputSettings)===null||T===void 0?void 0:T.audio)||I);var L={audio:f,video:o};return this._prepInputSettingsForSharing(L,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(o,f){var p=this._inputSettings||{},y={};if(o.video){var w,T,I;y.video={},o.video.settings?(y.video.settings={},f||o.video.settings.customTrack||(I=p.video)===null||I===void 0||!I.settings?y.video.settings=o.video.settings:y.video.settings=Se(Se({},p.video.settings),o.video.settings),Object.keys(y.video.settings).length||delete y.video.settings):(w=p.video)!==null&&w!==void 0&&w.settings&&(y.video.settings=p.video.settings),o.video.processor?y.video.processor=o.video.processor:(T=p.video)!==null&&T!==void 0&&T.processor&&(y.video.processor=p.video.processor)}else p.video&&(y.video=p.video);if(o.audio){var L,W,Z;y.audio={},o.audio.settings?(y.audio.settings={},f||o.audio.settings.customTrack||(Z=p.audio)===null||Z===void 0||!Z.settings?y.audio.settings=o.audio.settings:y.audio.settings=Se(Se({},p.audio.settings),o.audio.settings),Object.keys(y.audio.settings).length||delete y.audio.settings):(L=p.audio)!==null&&L!==void 0&&L.settings&&(y.audio.settings=p.audio.settings),o.audio.processor?y.audio.processor=o.audio.processor:(W=p.audio)!==null&&W!==void 0&&W.processor&&(y.audio.processor=p.audio.processor)}else p.audio&&(y.audio=p.audio);this._maybeUpdateInputSettings(y)}},{key:"_devicesFromInputSettings",value:function(o){var f,p,y=(o==null||(f=o.video)===null||f===void 0||(f=f.settings)===null||f===void 0?void 0:f.deviceId)||null,w=(o==null||(p=o.audio)===null||p===void 0||(p=p.settings)===null||p===void 0?void 0:p.deviceId)||null,T=this._preloadCache.outputDeviceId||null;return{camera:y?{deviceId:y}:{},mic:w?{deviceId:w}:{},speaker:T?{deviceId:T}:{}}}},{key:"updateInputSettings",value:(ot=Ae((function*(o){var f=this;return Ve(),yI(o)?o.video||o.audio?(_I(o,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(o,!0),this._getInputSettings()):new Promise((function(p,y){f.sendMessageToCallMachine({action:"update-input-settings",inputSettings:o},(function(w){if(w.error)y(w.error);else{if(w.returnPreloadCache)return f._updatePreloadCacheInputSettings(o,!0),void p(f._getInputSettings());f._maybeUpdateInputSettings(w.inputSettings),p(f._prepInputSettingsForSharing(w.inputSettings,!0))}}))}))):this._getInputSettings():(console.error(E_()),Promise.reject(E_()))})),function(o){return ot.apply(this,arguments)})},{key:"setBandwidth",value:function(o){var f=o.kbs,p=o.trackConstraints;if(Ve(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:f,trackConstraints:p}),this}},{key:"getDailyLang",value:function(){var o=this;if(Ve(),this._callMachineInitialized)return new Promise((function(f){o.sendMessageToCallMachine({action:"get-daily-lang"},(function(p){delete p.action,delete p.callbackStamp,f(p)}))}))}},{key:"setDailyLang",value:function(o){return Ve(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:o}),this}},{key:"setProxyUrl",value:function(o){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:o}),this}},{key:"setIceConfig",value:function(o){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:o}),this}},{key:"meetingSessionSummary",value:function(){return[Fa,Qi].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(Tt=Ae((function*(){var o=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),ft(this._callState,"getMeetingSession()"),new Promise((function(f){o.sendMessageToCallMachine({action:"get-meeting-session"},(function(p){delete p.action,delete p.callbackStamp,f(p)}))}))})),function(){return Tt.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return ft(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";pr(this._callObjectMode,"setMeetingSessionData()"),ft(this._callState,"setMeetingSessionData");try{(function(p,y){new B6({data:p,mergeStrategy:y})})(o,f)}catch(p){throw console.error(p),p}try{this.sendMessageToCallMachine({action:"set-session-data",data:o,mergeStrategy:f})}catch(p){throw new Error("Error setting meeting session data: ".concat(p))}}},{key:"setUserName",value:function(o,f){var p=this;return this.properties.userName=o,new Promise((function(y){p.sendMessageToCallMachine({action:"set-user-name",name:o??"",thisMeetingOnly:Ge()||!!f&&!!f.thisMeetingOnly},(function(w){delete w.action,delete w.callbackStamp,y(w)}))}))}},{key:"setUserData",value:(st=Ae((function*(o){var f=this;try{gI(o)}catch(p){throw console.error(p),p}if(this.properties.userData=o,this._callMachineInitialized)return new Promise((function(p){try{f.sendMessageToCallMachine({action:"set-user-data",userData:o},(function(y){delete y.action,delete y.callbackStamp,p(y)}))}catch(y){throw new Error("Error setting user data: ".concat(y))}}))})),function(o){return st.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(o){if(o&&(o<100||typeof o!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(o){var f=this;if(typeof AudioWorkletNode>"u"&&!Ge())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(o),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise((function(p,y){f.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:o},(function(w){f._isLocalAudioLevelObserverRunning=!w.error,w.error?y({error:w.error}):p()}))}));this._preloadCache.localAudioLevelObserver={enabled:!0,interval:o}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(o){var f=this;if(this.validateAudioLevelInterval(o),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise((function(p,y){f.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:o},(function(w){f._isRemoteParticipantsAudioLevelObserverRunning=!w.error,w.error?y({error:w.error}):p()}))}));this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:o}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(He=Ae((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(pr(this._callObjectMode,"startCamera()"),zm(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(f)}catch(p){return Promise.reject(p)}else{if(this._didPreAuth){if(f.url&&f.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(f.token&&f.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(f),this.properties=Se(Se({},this.properties),f)}return new Promise((function(p){o._preloadCache.inputSettings=o._prepInputSettingsForSharing(o._inputSettings,!1),o.sendMessageToCallMachine({action:"start-camera",properties:Xs(o.properties,o.callClientId),preloadCache:Xs(o._preloadCache,o.callClientId)},(function(y){p({camera:y.camera,mic:y.mic,speaker:y.speaker})}))}))})),function(){return He.apply(this,arguments)})},{key:"validateCustomTrack",value:function(o,f,p){if(p&&p.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(f&&f!=="music"&&f!=="speech"&&!(f instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(p&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(p))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(o instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return Ve(),ft(this._callState,"startCustomTrack()"),this.validateCustomTrack(f.track,f.mode,f.trackName),new Promise((function(p,y){o._sharedTracks.customTrack=f.track,f.track=bi,o.sendMessageToCallMachine({action:"start-custom-track",properties:f},(function(w){w.error?y({error:w.error}):p(w.mediaTag)}))}))}},{key:"stopCustomTrack",value:function(o){var f=this;return Ve(),ft(this._callState,"stopCustomTrack()"),new Promise((function(p){f.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:o},(function(y){p(y.mediaTag)}))}))}},{key:"setCamera",value:function(o){var f=this;return Ic(),gd(this._callMachineInitialized,"setCamera()"),new Promise((function(p){f.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:o},(function(y){p({device:y.device})}))}))}},{key:"setAudioDevice",value:(Be=Ae((function*(o){return Ic(),this.nativeUtils().setAudioDevice(o),{deviceId:yield this.nativeUtils().getAudioDevice()}})),function(o){return Be.apply(this,arguments)})},{key:"cycleCamera",value:function(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((function(p){o.sendMessageToCallMachine({action:"cycle-camera",properties:f},(function(y){p({device:y.device})}))}))}},{key:"cycleMic",value:function(){var o=this;return Ve(),new Promise((function(f){o.sendMessageToCallMachine({action:"cycle-mic"},(function(p){f({device:p.device})}))}))}},{key:"getCameraFacingMode",value:function(){var o=this;return Ic(),new Promise((function(f){o.sendMessageToCallMachine({action:"get-camera-facing-mode"},(function(p){f(p.facingMode)}))}))}},{key:"setInputDevicesAsync",value:(le=Ae((function*(o){var f=this,p=o.audioDeviceId,y=o.videoDeviceId,w=o.audioSource,T=o.videoSource;if(Ve(),w!==void 0&&(p=w),T!==void 0&&(y=T),typeof p=="boolean"&&(this._setAllowLocalAudio(p),p=void 0),typeof y=="boolean"&&(this._setAllowLocalVideo(y),y=void 0),!p&&!y)return yield this.getInputDevices();var I={};return p&&(p instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=p,p=bi,I.audio={settings:{customTrack:p}}):(delete this._sharedTracks.audioTrack,I.audio={settings:{deviceId:p}})),y&&(y instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=y,y=bi,I.video={settings:{customTrack:y}}):(delete this._sharedTracks.videoTrack,I.video={settings:{deviceId:y}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(I,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise((function(L){f.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:p,videoDeviceId:y},(function(W){if(delete W.action,delete W.callbackStamp,W.returnPreloadCache)return f._updatePreloadCacheInputSettings(I,!1),void L(f._devicesFromInputSettings(f._inputSettings));L(W)}))}))})),function(o){return le.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(ce=Ae((function*(o){var f=this,p=o.outputDeviceId;if(Ve(),!p||typeof p!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=p,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(y,w){f.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:p},(function(T){if(delete T.action,delete T.callbackStamp,T.error){var I=new Error(T.error.message);return I.type=T.error.type,void w(I)}T.returnPreloadCache?y(f._devicesFromInputSettings(f._inputSettings)):y(T)}))}))})),function(o){return ce.apply(this,arguments)})},{key:"getInputDevices",value:(oe=Ae((function*(){var o=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(f){o.sendMessageToCallMachine({action:"get-input-devices"},(function(p){p.returnPreloadCache?f(o._devicesFromInputSettings(o._inputSettings)):f({camera:p.camera,mic:p.mic,speaker:p.speaker})}))}))})),function(){return oe.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Ic(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(o){if(Ic(),[nx,sz].includes(o)){if(o!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=o,!this.disableReactNativeAutoDeviceManagement("audio")&&qd(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",o)}},{key:"preAuth",value:(X=Ae((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(pr(this._callObjectMode,"preAuth()"),zm(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(f)),!f.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(f),this.properties=Se(Se({},this.properties),f),new Promise((function(p,y){o._preloadCache.inputSettings=o._prepInputSettingsForSharing(o._inputSettings,!1),o.sendMessageToCallMachine({action:"daily-method-preauth",properties:Xs(o.properties,o.callClientId),preloadCache:Xs(o._preloadCache,o.callClientId)},(function(w){return w.error?y(w.error):w.access?(o._didPreAuth=!0,void p({access:w.access})):y(new Error("unknown error in preAuth()"))}))}))})),function(){return X.apply(this,arguments)})},{key:"load",value:(G=Ae((function*(o){var f=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(o&&(this.validateProperties(o),this.properties=Se(Se({},this.properties),o)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(ST),this.emitDailyJSEvent({action:BV}),this._callObjectMode?new Promise((function(p,y){f._callObjectLoader.cancel();var w=Date.now();f._callObjectLoader.load(f.properties.dailyConfig,(function(T){f._bundleLoadTime=T?"no-op":Date.now()-w,f._updateCallState(ET),T&&f.emitDailyJSEvent({action:TT}),p()}),(function(T,I){if(f.emitDailyJSEvent({action:UV}),!I){f._updateCallState(Qi),f.resetMeetingDependentVars();var L={action:OT,errorMsg:T.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:T,bundleUrl:uh(f.properties.dailyConfig)}}};f._maybeSendToSentry(L),f.emitDailyJSEvent(L),y(T.msg)}}))})):(this._iframe.src=$j(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise((function(p,y){f._loadedCallback=function(w){f._callState!==Qi?(f._updateCallState(ET),(f.properties.cssFile||f.properties.cssText)&&f.loadCss(f.properties),p()):y(w)}})))}})),function(o){return G.apply(this,arguments)})},{key:"join",value:(U=Ae((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var p=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(f)}catch(y){return this.updateIsPreparingToJoin(!1),Promise.reject(y)}}else{if(p=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(f.url&&f.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(f.token&&f.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(f.url&&!this._callObjectMode&&f.url&&f.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(f.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(f),this.properties=Se(Se({},this.properties),f)}return f.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!f.showLocalVideo),f.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!f.showParticipantsBar),this._callState===Ya||this._callState===v_?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(v_,!1),this.emitDailyJSEvent({action:VV}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Xs(this.properties,this.callClientId),preloadCache:Xs(this._preloadCache,this.callClientId)}),new Promise((function(y,w){o._joinedCallback=function(T,I){if(o._callState!==Qi){if(o._updateCallState(Ya),T)for(var L in T){if(o._callObjectMode){var W=o._callMachine().store;VT(T[L],W),zT(T[L],W),HT(T[L],o._participants[L],W)}o._participants[L]=Se({},T[L]),o.toggleParticipantAudioBasedOnNativeAudioFocus()}p&&o.loadCss(o.properties),y(T)}else w(I)}})))})),function(){return U.apply(this,arguments)})},{key:"leave",value:(R=Ae((function*(){var o=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise((function(f){o._callState===Fa||o._callState===Qi?f():o._callObjectLoader&&!o._callObjectLoader.loaded?(o._callObjectLoader.cancel(),o._updateCallState(Fa),o.resetMeetingDependentVars(),o.emitDailyJSEvent({action:Fa}),f()):(o._resolveLeave=f,o.sendMessageToCallMachine({action:"leave-meeting"}))}))})),function(){return R.apply(this,arguments)})},{key:"startScreenShare",value:(D=Ae((function*(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(gd(this._callMachineInitialized,"startScreenShare()"),f.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",f.screenVideoSendSettings),f.mediaStream&&(this._sharedTracks.screenMediaStream=f.mediaStream,f.mediaStream=bi),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var p=this.nativeUtils();if(yield p.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:PT,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});p.setSystemScreenCaptureStartCallback((function(){p.setSystemScreenCaptureStartCallback(null),o.sendMessageToCallMachine({action:IT,captureOptions:f})})),p.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:IT,captureOptions:f})})),function(){return D.apply(this,arguments)})},{key:"stopScreenShare",value:function(){gd(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=o.type;if(f&&f!=="cloud"&&f!=="raw-tracks"&&f!=="local")throw new Error("invalid type: ".concat(f,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Se({action:"local-recording-start"},o))}},{key:"updateRecording",value:function(o){var f=o.layout,p=f===void 0?{preset:"default"}:f,y=o.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:p,instanceId:y})}},{key:"stopRecording",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Se({action:"local-recording-stop"},o))}},{key:"startLiveStreaming",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Se({action:"daily-method-start-live-streaming"},o))}},{key:"updateLiveStreaming",value:function(o){var f=o.layout,p=f===void 0?{preset:"default"}:f,y=o.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:p,instanceId:y})}},{key:"addLiveStreamingEndpoints",value:function(o){var f=o.endpoints,p=o.instanceId;this.sendMessageToCallMachine({action:LT,endpointsOp:j6,endpoints:f,instanceId:p})}},{key:"removeLiveStreamingEndpoints",value:function(o){var f=o.endpoints,p=o.instanceId;this.sendMessageToCallMachine({action:LT,endpointsOp:I6,endpoints:f,instanceId:p})}},{key:"stopLiveStreaming",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Se({action:"daily-method-stop-live-streaming"},o))}},{key:"validateDailyConfig",value:function(o){o.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(o.camSimulcastEncodings)),o.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),iI()&&o.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o){if(!(o instanceof Array||Array.isArray(o)))throw new Error("encodings must be an Array");if(!dx(o.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var y=0;y<o.length;y++){var w=o[y];for(var T in this._validateEncodingLayerHasValidProperties(w),w)if(Vm.includes(T)){if(typeof w[T]!="number")throw new Error("".concat(T," must be a number"));if(f){var I=f[T],L=I.min,W=I.max;if(!dx(w[T],L,W))throw new Error("".concat(T," value not in range. valid range: ").concat(L," to ").concat(W))}}else if(!["active","scalabilityMode"].includes(T))throw new Error("Invalid key ".concat(T,", valid keys are:")+Object.values(Vm));if(p&&!w.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:($=Ae((function*(o){var f=this,p=o.url,y=o.settings,w=y===void 0?{state:y_.PLAY}:y;try{(function(T){if(typeof T!="string")throw new Error('url parameter must be "string" type')})(p),ux(w),(function(T){for(var I in T)if(!ax.includes(I))throw new Error("Invalid key ".concat(I,", valid keys are: ").concat(ax));T.simulcastEncodings&&this.validateSimulcastEncodings(T.simulcastEncodings,mI,!0)})(w)}catch(T){throw console.error("invalid argument Error: ".concat(T)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),T}return new Promise((function(T,I){f.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:p,settings:w},(function(L){L.error?I({error:L.error,errorMsg:L.errorMsg}):T({session_id:L.session_id,remoteMediaPlayerState:{state:L.state,settings:L.settings}})}))}))})),function(o){return $.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(j=Ae((function*(o){var f=this;if(typeof o!="string")throw new Error(" remotePlayerID must be of type string");return new Promise((function(p,y){f.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:o},(function(w){w.error?y({error:w.error,errorMsg:w.errorMsg}):p()}))}))})),function(o){return j.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(O=Ae((function*(o){var f=this,p=o.session_id,y=o.settings;try{ux(y)}catch(w){throw console.error("invalid argument Error: ".concat(w)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),w}return new Promise((function(w,T){f.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:p,settings:y},(function(I){I.error?T({error:I.error,errorMsg:I.errorMsg}):w({session_id:I.session_id,remoteMediaPlayerState:{state:I.state,settings:I.settings}})}))}))})),function(o){return O.apply(this,arguments)})},{key:"startTranscription",value:function(o){ft(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Se({action:"daily-method-start-transcription"},o))}},{key:"updateTranscription",value:function(o){if(ft(this._callState,"updateTranscription()"),!o)throw new Error("updateTranscription Error: options is mandatory");if(Ke(o)!=="object")throw new Error("updateTranscription Error: options must be object type");if(o.participants&&!Array.isArray(o.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Se({action:"daily-method-update-transcription"},o))}},{key:"stopTranscription",value:function(o){if(ft(this._callState,"stopTranscription()"),o&&Ke(o)!=="object")throw new Error("stopTranscription Error: options must be object type");if(o&&!o.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(Se({action:"daily-method-stop-transcription"},o))}},{key:"startDialOut",value:(x=Ae((function*(o){var f=this;ft(this._callState,"startDialOut()");var p=function(I){if(I){if(!Array.isArray(I))throw new Error("Error starting dial out: audio codec must be an array");if(I.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");I.forEach((function(L){if(typeof L!="string")throw new Error("Error starting dial out: audio codec must be a string");if(L!=="OPUS"&&L!=="PCMU"&&L!=="PCMA"&&L!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")}))}};if(!o.sipUri&&!o.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(o.sipUri&&o.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(o.sipUri){if(typeof o.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!o.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(o.video&&typeof o.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(I){if(I&&(p(I.audio),I.video)){if(!Array.isArray(I.video))throw new Error("Error starting dial out: video codec must be an array");if(I.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");I.video.forEach((function(L){if(typeof L!="string")throw new Error("Error starting dial out: video codec must be a string");if(L!=="H264"&&L!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")}))}})(o.codecs)}if(o.phoneNumber){if(typeof o.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(o.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");o.codecs&&p(o.codecs.audio)}if(o.callerId){if(typeof o.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(o.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(o.displayName){if(typeof o.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(o.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(o.userId){if(typeof o.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(o.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(o.permissions&&o.permissions.canReceive){var y=cn(fI.validateJSONObject(o.permissions.canReceive),2),w=y[0],T=y[1];if(!w)throw new Error(T)}return new Promise((function(I,L){f.sendMessageToCallMachine(Se({action:"dialout-start"},o),(function(W){W.error?L(W.error):I(W)}))}))})),function(o){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(o){var f=this;return ft(this._callState,"stopDialOut()"),new Promise((function(p,y){f.sendMessageToCallMachine(Se({action:"dialout-stop"},o),(function(w){w.error?y(w.error):p(w)}))}))}},{key:"sipCallTransfer",value:(S=Ae((function*(o){var f=this;if(ft(this._callState,"sipCallTransfer()"),!o)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return o.useSipRefer=!1,lx(o,"sipCallTransfer"),new Promise((function(p,y){f.sendMessageToCallMachine(Se({action:NT},o),(function(w){w.error?y(w.error):p(w)}))}))})),function(o){return S.apply(this,arguments)})},{key:"sipRefer",value:(C=Ae((function*(o){var f=this;if(ft(this._callState,"sipRefer()"),!o)throw new Error("sessionId and toEndPoint are mandatory parameter");return o.useSipRefer=!0,lx(o,"sipRefer"),new Promise((function(p,y){f.sendMessageToCallMachine(Se({action:NT},o),(function(w){w.error?y(w.error):p(w)}))}))})),function(o){return C.apply(this,arguments)})},{key:"sendDTMF",value:(P=Ae((function*(o){var f=this;return ft(this._callState,"sendDTMF()"),(function(p){var y=p.sessionId,w=p.tones;if(!y||!w)throw new Error("sessionId and tones are mandatory parameter");if(typeof y!="string"||typeof w!="string")throw new Error("sessionId and tones should be of string type");if(w.length>20)throw new Error("tones string must be upto 20 characters");var T=/[^0-9A-D*#]/g,I=w.match(T);if(I&&I[0])throw new Error("".concat(I[0]," is not valid DTMF tone"))})(o),new Promise((function(p,y){f.sendMessageToCallMachine(Se({action:"send-dtmf"},o),(function(w){w.error?y(w.error):p(w)}))}))})),function(o){return P.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var o=this;return this._callState!==Ya?Promise.resolve(Se({stats:{latest:{}}},this._network)):new Promise((function(f){o.sendMessageToCallMachine({action:"get-calc-stats"},(function(p){f(Se(Se({},o._network),{},{stats:p.stats}))}))}))}},{key:"testWebsocketConnectivity",value:(E=Ae((function*(){var o=this;if(Hm(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(f){return Promise.reject(f)}return new Promise((function(f,p){o.sendMessageToCallMachine({action:"test-websocket-connectivity"},(function(y){y.error?p(y.error):f(y.results)}))}))})),function(){return E.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(o){return o?o instanceof MediaStreamTrack?!!tz(o)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(_=Ae((function*(){var o=this;Ve(),pr(this._callObjectMode,"testCallQuality()"),gd(this._callMachineInitialized,"testCallQuality()",null,!0),zm(this._callState,this._isPreparingToJoin,"testCallQuality()");var f=this._testCallAlreadyInProgress,p=function(w){f||(o._testCallInProgress=w)};if(p(!0),this.needsLoad())try{var y=this._callState;yield this.load(),this._callState=y}catch(w){return p(!1),Promise.reject(w)}return new Promise((function(w){o.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:o.properties.dailyJsVersion},(function(T){var I=T.results,L=I.result,W=v1(I,iz);if(L==="failed"){var Z,ae=Se({},W);(Z=W.error)!==null&&Z!==void 0&&Z.details?(W.error.details=JSON.parse(W.error.details),ae.error=Se(Se({},ae.error),{},{details:Se({},ae.error.details)}),ae.error.details.duringTest="testCallQuality"):(ae.error=ae.error?Se({},ae.error):{},ae.error.details={duringTest:"testCallQuality"}),o._maybeSendToSentry(ae)}p(!1),w(Se({result:L},W))}))}))})),function(){return _.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(v=Ae((function*(o){var f;Ge()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),f=yield this.testPeerToPeerCallQuality(o)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),f=yield this.testCallQuality());var p={result:f.result,secondsElapsed:f.secondsElapsed};return f.data&&(p.data={maxRTT:f.data.maxRoundTripTime,packetLoss:f.data.avgRecvPacketLoss}),p})),function(o){return v.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(m=Ae((function*(o){var f=this;if(Hm(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(w){return Promise.reject(w)}var p=o.videoTrack,y=o.duration;if(!this._validateVideoTrackForNetworkTests(p))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=p,new Promise((function(w,T){f.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:y},(function(I){I.error?T(I.error):w(I.results)}))}))})),function(o){return m.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Ge()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(d=Ae((function*(o){var f=this;if(Hm(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(p){return Promise.reject(p)}if(!this._validateVideoTrackForNetworkTests(o))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=o,new Promise((function(p,y){f.sendMessageToCallMachine({action:"test-network-connectivity"},(function(w){w.error?y(w.error):p(w.results)}))}))})),function(o){return d.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var o=this;return new Promise((function(f){o._callState===Ya?o.sendMessageToCallMachine({action:"get-cpu-load-stats"},(function(p){f(p.cpuStats)})):f({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})}))}},{key:"_validateEncodingLayerHasValidProperties",value:function(o){var f;if(!(((f=Object.keys(o))===null||f===void 0?void 0:f.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Vm))}},{key:"_validateVideoSendSettings",value:function(o,f){var p=o==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],y="Video send settings should be either an object or one of the supported presets: ".concat(p.join());if(typeof f=="string"){if(!p.includes(f))throw new Error(y)}else{if(Ke(f)!=="object")throw new Error(y);if(!f.maxQuality&&!f.encodings&&f.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(f.maxQuality&&["low","medium","high"].indexOf(f.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(f.encodings){var w=!1;switch(Object.keys(f.encodings).length){case 1:w=!f.encodings.low;break;case 2:w=!f.encodings.low||!f.encodings.medium;break;case 3:w=!f.encodings.low||!f.encodings.medium||!f.encodings.high;break;default:w=!0}if(w)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");f.encodings.low&&this._validateEncodingLayerHasValidProperties(f.encodings.low),f.encodings.medium&&this._validateEncodingLayerHasValidProperties(f.encodings.medium),f.encodings.high&&this._validateEncodingLayerHasValidProperties(f.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(o){var f=this;if(!o||Object.keys(o).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(o).forEach((function(p){var y=cn(p,2),w=y[0],T=y[1];f._validateVideoSendSettings(w,T)}))}},{key:"updateSendSettings",value:function(o){var f=this;return this.validateUpdateSendSettings(o),this.needsLoad()?(this._preloadCache.sendSettings=o,{sendSettings:this._preloadCache.sendSettings}):new Promise((function(p,y){f.sendMessageToCallMachine({action:"update-send-settings",sendSettings:o},(function(w){w.error?y(w.error):p(w.sendSettings)}))}))}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Ve(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(o){return Ve(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:o}),this}},{key:"activeSpeakerMode",value:function(){return Ve(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(o){return ft(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=o,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:o}),this}},{key:"enumerateDevices",value:(u=Ae((function*(){var o=this;if(this._callObjectMode){var f=yield navigator.mediaDevices.enumerateDevices();return ys()==="Firefox"&&gh().major>115&&gh().major<123&&(f=f.filter((function(p){return p.kind!=="audiooutput"}))),{devices:f.map((function(p){var y=JSON.parse(JSON.stringify(p));if(!Ge()&&p.kind==="videoinput"&&p.getCapabilities){var w,T=p.getCapabilities();y.facing=(T==null||(w=T.facingMode)===null||w===void 0?void 0:w.length)>=1?T.facingMode[0]:void 0}return y}))}}return new Promise((function(p){o.sendMessageToCallMachine({action:"enumerate-devices"},(function(y){p({devices:y.devices})}))}))})),function(){return u.apply(this,arguments)})},{key:"sendAppMessage",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(ft(this._callState,"sendAppMessage()"),JSON.stringify(o).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:o,to:f}),this}},{key:"addFakeParticipant",value:function(o){return Ve(),ft(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Se({action:"add-fake-participant"},o)),this}},{key:"setShowNamesMode",value:function(o){return Ln(this._callObjectMode,"setShowNamesMode()"),Ve(),o&&o!=="always"&&o!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:o}),this)}},{key:"setShowLocalVideo",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ln(this._callObjectMode,"setShowLocalVideo()"),Ve(),ft(this._callState,"setShowLocalVideo()"),typeof o!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:o}),this._showLocalVideo=o,this)}},{key:"showLocalVideo",value:function(){return Ln(this._callObjectMode,"showLocalVideo()"),Ve(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ln(this._callObjectMode,"setShowParticipantsBar()"),Ve(),ft(this._callState,"setShowParticipantsBar()"),typeof o!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:o}),this._showParticipantsBar=o,this)}},{key:"showParticipantsBar",value:function(){return Ln(this._callObjectMode,"showParticipantsBar()"),Ve(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Ve(),Ln(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(o){return Ve(),Ln(this._callObjectMode,"setCustomIntegrations()"),ft(this._callState,"setCustomIntegrations()"),SI(o)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:o}),this._customIntegrations=o,this):this}},{key:"startCustomIntegrations",value:function(o){var f=this;if(Ve(),Ln(this._callObjectMode,"startCustomIntegrations()"),ft(this._callState,"startCustomIntegrations()"),Array.isArray(o)&&o.some((function(w){return typeof w!="string"}))||!Array.isArray(o)&&typeof o!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var p=typeof o=="string"?[o]:o,y=p.filter((function(w){return!(w in f._customIntegrations)}));return y.length?(console.error(`Can't find custom integration(s): "`.concat(y.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:p}),this)}},{key:"stopCustomIntegrations",value:function(o){var f=this;if(Ve(),Ln(this._callObjectMode,"stopCustomIntegrations()"),ft(this._callState,"stopCustomIntegrations()"),Array.isArray(o)&&o.some((function(w){return typeof w!="string"}))||!Array.isArray(o)&&typeof o!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var p=typeof o=="string"?[o]:o,y=p.filter((function(w){return!(w in f._customIntegrations)}));return y.length?(console.error(`Can't find custom integration(s): "`.concat(y.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:p}),this)}},{key:"customTrayButtons",value:function(){return Ln(this._callObjectMode,"customTrayButtons()"),Ve(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(o){return Ln(this._callObjectMode,"updateCustomTrayButtons()"),Ve(),ft(this._callState,"updateCustomTrayButtons()"),kI(o)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:o}),this._customTrayButtons=o,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(yh))),this)}},{key:"theme",value:function(){return Ln(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(o){var f=this;return Ln(this._callObjectMode,"setTheme()"),new Promise((function(p,y){try{f.validateProperties({theme:o}),f.properties.theme=Se({},o),f.sendMessageToCallMachine({action:"set-theme",theme:f.properties.theme});try{f.emitDailyJSEvent({action:FV,theme:f.properties.theme})}catch(w){console.log("could not emit 'theme-updated'",w)}p(f.properties.theme)}catch(w){y(w)}}))}},{key:"requestFullscreen",value:(l=Ae((function*(){if(Ve(),this._iframe&&!document.fullscreenElement&&DT())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(o){console.log("could not make video call fullscreen",o)}})),function(){return l.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Ve(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(s=Ae((function*(){var o=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise((function(f){o.sendMessageToCallMachine({action:"get-sidebar-view"},(function(p){f(p.view)}))}))})),function(){return s.apply(this,arguments)})},{key:"setSidebarView",value:function(o){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:o}),this)}},{key:"room",value:(i=Ae((function*(){var o=this,f=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,p=f===void 0||f;return this._accessState.access===$m||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise((function(y){o.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:p},(function(w){delete w.action,delete w.callbackStamp,y(w)}))}))})),function(){return i.apply(this,arguments)})},{key:"geo",value:(r=Ae((function*(){try{var o=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield o.json()).geo}}catch(f){return console.error("geo lookup failed",f),{current:""}}})),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=Ae((function*(o){var f=this;return Ve(),ft(this._callState,"setNetworkTopology()"),new Promise((function(p,y){f.sendMessageToCallMachine({action:"set-network-topology",opts:o},(function(w){w.error?y({error:w.error}):p({workerId:w.workerId})}))}))})),function(o){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=Ae((function*(){var o=this;return new Promise((function(f,p){o.needsLoad()&&f({topology:"none"}),o.sendMessageToCallMachine({action:"get-network-topology"},(function(y){y.error?p({error:y.error}):f({topology:y.topology})}))}))})),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(o){if(Ve(),typeof o!="number"&&o!==!0&&o!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(o));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:o})}},{key:"on",value:function(o,f){return rd.prototype.on.call(this,o,f)}},{key:"once",value:function(o,f){return rd.prototype.once.call(this,o,f)}},{key:"off",value:function(o,f){return rd.prototype.off.call(this,o,f)}},{key:"validateProperties",value:function(o){var f,p;if(o!=null&&(f=o.dailyConfig)!==null&&f!==void 0&&f.userMediaAudioConstraints){var y,w;Ge()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var T=o.inputSettings||{};T.audio=((y=o.inputSettings)===null||y===void 0?void 0:y.audio)||{},T.audio.settings=((w=o.inputSettings)===null||w===void 0||(w=w.audio)===null||w===void 0?void 0:w.settings)||{},T.audio.settings=Se(Se({},T.audio.settings),o.dailyConfig.userMediaAudioConstraints),o.inputSettings=T,delete o.dailyConfig.userMediaAudioConstraints}if(o!=null&&(p=o.dailyConfig)!==null&&p!==void 0&&p.userMediaVideoConstraints){var I,L;Ge()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var W=o.inputSettings||{};W.video=((I=o.inputSettings)===null||I===void 0?void 0:I.video)||{},W.video.settings=((L=o.inputSettings)===null||L===void 0||(L=L.video)===null||L===void 0?void 0:L.settings)||{},W.video.settings=Se(Se({},W.video.settings),o.dailyConfig.userMediaVideoConstraints),o.inputSettings=W,delete o.dailyConfig.userMediaVideoConstraints}for(var Z in o){if(!Ua[Z])throw new Error("unrecognized property '".concat(Z,"'"));if(Ua[Z].validate&&!Ua[Z].validate(o[Z],this))throw new Error("property '".concat(Z,"': ").concat(Ua[Z].help))}}},{key:"assembleMeetingUrl",value:function(){var o,f,p=Se(Se({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(o=this.properties.dailyConfig)!==null&&o!==void 0&&o.proxyUrl?encodeURIComponent((f=this.properties.dailyConfig)===null||f===void 0?void 0:f.proxyUrl):void 0}),y=p.url.match(/\?/)?"&":"?";return p.url+y+Object.keys(Ua).filter((function(w){return Ua[w].queryString&&p[w]!==void 0})).map((function(w){return"".concat(Ua[w].queryString,"=").concat(p[w])})).join("&")}},{key:"needsLoad",value:function(){return[kT,ST,Fa,Qi].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(o,f){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(o,f,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(o){this._messageChannel.forwardPackagedMessageToCallMachine(o,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(o){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(o,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(o){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(o)}},{key:"handleMessageFromCallMachine",value:function(o){switch(o.action){case RV:this.sendMessageToCallMachine(Se({action:$V},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var f={action:fd,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:uh(this.properties.dailyConfig)}};this.sendMessageToCallMachine(f),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case TT:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(o);break;case zV:var p,y=Se({},o);delete y.internal,this._maxAppMessageSize=((p=o.internal)===null||p===void 0?void 0:p._maxAppMessageSize)||Fm,this._joinedCallback&&(this._joinedCallback(o.participants),this._joinedCallback=null),this.emitDailyJSEvent(y);break;case JV:case GV:if(this._callState===Fa)return;if(o.participant&&o.participant.session_id){var w=o.participant.local?"local":o.participant.session_id;if(this._callObjectMode){var T=this._callMachine().store;VT(o.participant,T),zT(o.participant,T),HT(o.participant,this._participants[w],T)}try{this.maybeParticipantTracksStopped(this._participants[w],o.participant),this.maybeParticipantTracksStarted(this._participants[w],o.participant),this.maybeEventRecordingStopped(this._participants[w],o.participant),this.maybeEventRecordingStarted(this._participants[w],o.participant)}catch(xi){console.error("track events error",xi)}this.compareEqualForParticipantUpdateEvent(o.participant,this._participants[w])||(this._participants[w]=Se({},o.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(o))}break;case YV:if(o.participant&&o.participant.session_id){var I=this._participants[o.participant.session_id];I&&this.maybeParticipantTracksStopped(I,null),delete this._participants[o.participant.session_id],this.emitDailyJSEvent(o)}break;case QV:gn(this._participantCounts,o.participantCounts)||(this._participantCounts=o.participantCounts,this.emitDailyJSEvent(o));break;case KV:var L={access:o.access};o.awaitingAccess&&(L.awaitingAccess=o.awaitingAccess),gn(this._accessState,L)||(this._accessState=L,this.emitDailyJSEvent(o));break;case XV:if(o.meetingSession){this._meetingSessionSummary=o.meetingSession,this.emitDailyJSEvent(o);var W=Se(Se({},o),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(W)}break;case OT:var Z;this._iframe&&!o.preserveIframe&&(this._iframe.src=""),this._updateCallState(Qi),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(o.errorMsg),this._loadedCallback=null),o.preserveIframe;var ae=v1(o,az);ae!=null&&(Z=ae.error)!==null&&Z!==void 0&&Z.details&&(ae.error.details=JSON.parse(ae.error.details)),this._maybeSendToSentry(o),this._joinedCallback&&(this._joinedCallback(null,ae),this._joinedCallback=null),this.emitDailyJSEvent(ae);break;case HV:this._callState!==Qi&&this._updateCallState(Fa),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(o);break;case"selected-devices-updated":o.devices&&this.emitDailyJSEvent(o);break;case k6:var Le=o.state,we=o.threshold,Re=o.quality,fe=Le.state,Te=Le.reasons;fe===this._network.networkState&&gn(Te,this._network.networkStateReasons)&&we===this._network.threshold&&Re===this._network.quality||(this._network.networkState=fe,this._network.networkStateReasons=Te,this._network.quality=Re,this._network.threshold=we,o.networkState=fe,Te.length&&(o.networkStateReasons=Te),delete o.state,this.emitDailyJSEvent(o));break;case E6:o&&o.cpuLoadState&&this.emitDailyJSEvent(o);break;case C6:o&&o.faceCounts!==void 0&&this.emitDailyJSEvent(o);break;case b6:var Fe=o.activeSpeaker;this._activeSpeaker.peerId!==Fe.peerId&&(this._activeSpeaker.peerId=Fe.peerId,this.emitDailyJSEvent({action:o.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var ct=o.show;this._showLocalVideo=ct,this.emitDailyJSEvent({action:o.action,show:ct});break;case w6:var pt=o.enabled;this._activeSpeakerMode!==pt&&(this._activeSpeakerMode=pt,this.emitDailyJSEvent({action:o.action,enabled:this._activeSpeakerMode}));break;case e6:case t6:case n6:this._waitingParticipants=o.allWaitingParticipants,this.emitDailyJSEvent({action:o.action,participant:o.participant});break;case O6:gn(this._receiveSettings,o.receiveSettings)||(this._receiveSettings=o.receiveSettings,this.emitDailyJSEvent({action:o.action,receiveSettings:o.receiveSettings}));break;case AT:this._maybeUpdateInputSettings(o.inputSettings);break;case"send-settings-updated":gn(this._sendSettings,o.sendSettings)||(this._sendSettings=o.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:o.action,sendSettings:o.sendSettings}));break;case"local-audio-level":this._localAudioLevel=o.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(o);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=o.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(o);break;case p6:var pe=o.session_id;this._rmpPlayerState[pe]=o.playerState,this.emitDailyJSEvent(o);break;case g6:delete this._rmpPlayerState[o.session_id],this.emitDailyJSEvent(o);break;case m6:var Ze=o.session_id,xn=this._rmpPlayerState[Ze];xn&&this.compareEqualForRMPUpdateEvent(xn,o.remoteMediaPlayerState)||(this._rmpPlayerState[Ze]=o.remoteMediaPlayerState,this.emitDailyJSEvent(o));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(o);break;case ZV:var nr=this._meetingSessionState.topology!==(o.meetingSessionState&&o.meetingSessionState.topology);this._meetingSessionState=Jm(o.meetingSessionState,this._callObjectMode),(this._callObjectMode||nr)&&this.emitDailyJSEvent(o);break;case v6:this._isScreenSharing=!0,this.emitDailyJSEvent(o);break;case y6:case _6:this._isScreenSharing=!1,this.emitDailyJSEvent(o);break;case xT:case MT:case c6:case l6:case u6:case a6:case s6:case o6:case qV:case WV:case h6:case f6:case"test-completed":case S6:case d6:case T6:case x6:case M6:case A6:case PT:case P6:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(o);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(o,f){var p="record";o&&(f.local||f[p]!==!1||o[p]===f[p]||this.emitDailyJSEvent({action:MT}))}},{key:"maybeEventRecordingStarted",value:function(o,f){var p="record";o&&(f.local||f[p]!==!0||o[p]===f[p]||this.emitDailyJSEvent({action:xT}))}},{key:"_trackStatePlayable",value:function(o){return!(!o||o.state!==jV)}},{key:"_trackChanged",value:function(o,f){return o?.id!==f?.id}},{key:"maybeEventTrackStopped",value:function(o,f,p){var y,w,T=(y=f?.tracks[o])!==null&&y!==void 0?y:null,I=(w=p?.tracks[o])!==null&&w!==void 0?w:null,L=T?.track;if(L){var W=this._trackStatePlayable(T),Z=this._trackStatePlayable(I),ae=this._trackChanged(L,I?.track);W&&(Z&&!ae||this.emitDailyJSEvent({action:i6,track:L,participant:p??f,type:o}))}}},{key:"maybeEventTrackStarted",value:function(o,f,p){var y,w,T=(y=f?.tracks[o])!==null&&y!==void 0?y:null,I=(w=p?.tracks[o])!==null&&w!==void 0?w:null,L=I?.track;if(L){var W=this._trackStatePlayable(T),Z=this._trackStatePlayable(I),ae=this._trackChanged(T?.track,L);Z&&(W&&!ae||this.emitDailyJSEvent({action:r6,track:L,participant:p,type:o}))}}},{key:"maybeParticipantTracksStopped",value:function(o,f){if(o)for(var p in o.tracks)this.maybeEventTrackStopped(p,o,f)}},{key:"maybeParticipantTracksStarted",value:function(o,f){if(f)for(var p in f.tracks)this.maybeEventTrackStarted(p,o,f)}},{key:"compareEqualForRMPUpdateEvent",value:function(o,f){var p,y;return o.state===f.state&&((p=o.settings)===null||p===void 0?void 0:p.volume)===((y=f.settings)===null||y===void 0?void 0:y.volume)}},{key:"emitDailyJSEvent",value:function(o){try{o.callClientId=this.callClientId,this.emit(o.action,o)}catch(f){console.log("could not emit",o,f)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(o,f){return!!gn(o,f)&&(!o.videoTrack||!f.videoTrack||o.videoTrack.id===f.videoTrack.id&&o.videoTrack.muted===f.videoTrack.muted&&o.videoTrack.enabled===f.videoTrack.enabled)&&(!o.audioTrack||!f.audioTrack||o.audioTrack.id===f.audioTrack.id&&o.audioTrack.muted===f.audioTrack.muted&&o.audioTrack.enabled===f.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Ge()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(o){this._updateCallState(this._callState,o)}},{key:"_updateCallState",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(o!==this._callState||f!==this._isPreparingToJoin){var p=this._callState,y=this._isPreparingToJoin;this._callState=o,this._isPreparingToJoin=f;var w=this._callState===Ya;this.updateShowAndroidOngoingMeetingNotification(w);var T=qd(p,y),I=qd(this._callState,this._isPreparingToJoin);T!==I&&(this.updateKeepDeviceAwake(I),this.updateDeviceAudioMode(I),this.updateNoOpRecordingEnsuringBackgroundContinuity(I))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=ix,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:$m},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Jm(rx,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Fm,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(o){Ge()&&this.nativeUtils().setKeepDeviceAwake(o,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(o){if(Ge()&&!this.disableReactNativeAutoDeviceManagement("audio")){var f=o?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(f)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(o){if(Ge()&&this.nativeUtils().setShowOngoingMeetingNotification){var f,p,y,w;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var T=this.properties.reactNativeConfig.androidInCallNotification;f=T.title,p=T.subtitle,y=T.iconName,w=T.disableForCustomOverride}w&&(o=!1),this.nativeUtils().setShowOngoingMeetingNotification(o,f,p,y,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(o){Ge()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(o)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var o;if(Ge()){var f=(o=this._callMachine())===null||o===void 0||(o=o.store)===null||o===void 0?void 0:o.getState();for(var p in f?.streams){var y=f.streams[p];y&&y.pendingTrack&&y.pendingTrack.kind==="audio"&&(y.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(o){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[o]}},{key:"absoluteUrl",value:function(o){if(o!==void 0){var f=document.createElement("a");return f.href=o,f.href}}},{key:"sayHello",value:function(){var o="hello, world.";return console.log(o),o}},{key:"_logUseAfterDestroy",value:function(){var o=Object.values(Ba)[0];if(this.needsLoad())if(o&&!o.needsLoad()){var f={action:fd,level:"error",code:this.strictMode?9995:9997};o.sendMessageToCallMachine(f)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var p={action:fd,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(p,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var o=0,f=Object.values(Ba);o<f.length;o++){var p=f[o];p._callMachineInitialized?(p.sendMessageToCallMachine({action:fd,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),p._delayDuplicateInstanceLog=!1):p._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(o){var f,p,y,w;if(!((f=o.error)!==null&&f!==void 0&&f.type&&(![DV,NV,CT].includes(o.error.type)||o.error.type===CT&&o.error.msg.includes("deleted")))){var T=(p=this.properties)!==null&&p!==void 0&&p.url?new URL(this.properties.url):void 0,I="production";T&&T.host.includes(".staging.daily")&&(I="staging");var L,W,Z,ae,Le,we=(function(pe){const Ze=[XW(),QW(),EV(),kV(),AV(),OV(),nV(),PV()];return pe.autoSessionTracking!==!1&&Ze.push(MV()),Ze})({}).filter((function(pe){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(pe.name)})),Re=new uV({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:mV,stackParser:wV,integrations:we,environment:I}),fe=new ma;if(fe.setClient(Re),Re.init(),this.session_id&&fe.setExtra("sessionId",this.session_id),this.properties){var Te=Se({},this.properties);Te.userName=Te.userName?"[Filtered]":void 0,Te.userData=Te.userData?"[Filtered]":void 0,Te.token=Te.token?"[Filtered]":void 0,fe.setExtra("properties",Te)}if(T){var Fe=T.searchParams.get("domain");if(!Fe){var ct=T.host.match(/(.*?)\./);Fe=ct&&ct[1]||""}Fe&&fe.setTag("domain",Fe)}o.error&&(fe.setTag("fatalErrorType",o.error.type),fe.setExtra("errorDetails",o.error.details),!((L=o.error.details)===null||L===void 0)&&L.uri&&fe.setTag("serverAddress",o.error.details.uri),!((W=o.error.details)===null||W===void 0)&&W.workerGroup&&fe.setTag("workerGroup",o.error.details.workerGroup),!((Z=o.error.details)===null||Z===void 0)&&Z.geoGroup&&fe.setTag("geoGroup",o.error.details.geoGroup),!((ae=o.error.details)===null||ae===void 0)&&ae.on&&fe.setTag("connectionAttempt",o.error.details.on),(Le=o.error.details)!==null&&Le!==void 0&&Le.bundleUrl&&(fe.setTag("bundleUrl",o.error.details.bundleUrl),fe.setTag("bundleError",o.error.details.sourceError.type))),fe.setTags({callMode:this._callObjectMode?Ge()?"reactNative":(y=this.properties)!==null&&y!==void 0&&(y=y.dailyConfig)!==null&&y!==void 0&&(y=y.callMode)!==null&&y!==void 0&&y.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:t.version()});var pt=((w=o.error)===null||w===void 0?void 0:w.msg)||o.errorMsg;fe.captureException(new Error(pt))}}},{key:"_callMachine",value:function(){var o;return(o=window._daily)===null||o===void 0||(o=o.instances)===null||o===void 0||(o=o[this.callClientId])===null||o===void 0?void 0:o.callMachine}},{key:"_maybeUpdateInputSettings",value:function(o){if(!gn(this._inputSettings,o)){var f=this._getInputSettings();this._inputSettings=o;var p=this._getInputSettings();gn(f,p)||this.emitDailyJSEvent({action:AT,inputSettings:p})}}}],[{key:"supportedBrowser",value:function(){if(Ge())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var o=yW.getParser(tr());return{supported:!!RT(),mobile:o.getPlatformType()==="mobile",name:o.getBrowserName(),version:o.getBrowserVersion(),supportsFullscreen:!!DT(),supportsScreenShare:!!L6(),supportsSfu:!!RT(),supportsVideoProcessing:nI(),supportsAudioProcessing:rI()}}},{key:"version",value:function(){return"0.83.1"}},{key:"createCallObject",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o.layout="none",new t(null,o)}},{key:"wrap",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ve(),!o||!o.contentWindow||typeof o.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return f.layout||(f.customLayout?f.layout="custom-v1":f.layout="browser"),new t(o,f)}},{key:"createFrame",value:function(o,f){var p,y;Ve(),o&&f?(p=o,y=f):o&&o.append?(p=o,y={}):(p=document.body,y=o||{});var w=y.iframeStyle;w||(w=p===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var T=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?T.allow="microphone, camera":T.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",T.style.visibility="hidden",p.appendChild(T),T.style.visibility=null,Object.keys(w).forEach((function(I){return T.style[I]=w[I]})),y.layout||(y.customLayout?y.layout="custom-v1":y.layout="browser");try{return new t(T,y)}catch(I){throw p.removeChild(T),I}}},{key:"createTransparentFrame",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ve();var f=document.createElement("iframe");return f.allow="microphone; camera; autoplay",f.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(f),o.layout||(o.layout="custom-v1"),t.wrap(f,o)}},{key:"getCallInstance",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return o?Ba[o]:Object.values(Ba)[0]}}]);var e,n,r,i,s,l,u,d,m,v,_,E,P,C,S,x,O,j,$,D,R,U,G,X,oe,ce,le,Be,He,st,Tt,ot,qe,ue,_e,de,q,Y})();function Xs(t,e){var n={};for(var r in t)if(t[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=bi;else if(r==="dailyConfig"){if(t[r].modifyLocalSdpHook){var i=window._daily.instances[e].customCallbacks||{};i.modifyLocalSdpHook=t[r].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=i,delete t[r].modifyLocalSdpHook}if(t[r].modifyRemoteSdpHook){var s=window._daily.instances[e].customCallbacks||{};s.modifyRemoteSdpHook=t[r].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=s,delete t[r].modifyRemoteSdpHook}n[r]=t[r]}else n[r]=t[r];return n}function ft(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==Ya){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(n+=" ".concat(e)),console.error(n),new Error(n)}}function qd(t,e){return[v_,Ya].includes(t)||e}function zm(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(qd(t,e)){var i="".concat(n," not supported after joining a meeting.");throw r&&(i+=" ".concat(r)),console.error(i),new Error(i)}}function gd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!t){var r="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function Hm(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function pr(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function Ln(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function Ve(){if(Ge())throw new Error("This daily-js method is not currently supported in React Native")}function Ic(){if(!Ge())throw new Error("This daily-js method is only supported in React Native")}function gI(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),gn(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function vI(t,e){for(var n=e.allowAllParticipantsKey,r=function(_){var E=["local"];return n||E.push("*"),_&&!E.includes(_)},i=function(_){return!!(_.layer===void 0||Number.isInteger(_.layer)&&_.layer>=0||_.layer==="inherit")},s=function(_){return!!_&&!(_.video&&!i(_.video))&&!(_.screenVideo&&!i(_.screenVideo))},l=0,u=Object.entries(t);l<u.length;l++){var d=cn(u[l],2),m=d[0],v=d[1];if(!r(m)||!s(v))return!1}return!0}function yI(t){if(Ke(t)!=="object")return!1;for(var e=0,n=Object.entries(t);e<n.length;e++){var r=cn(n[e],2),i=r[0],s=r[1];switch(i){case"video":if(Ke(s)!=="object")return!1;for(var l=0,u=Object.entries(s);l<u.length;l++){var d=cn(u[l],2),m=d[0],v=d[1];switch(m){case"processor":if(!cz(v))return!1;break;case"settings":if(!cx(v))return!1;break;default:return!1}}break;case"audio":if(Ke(s)!=="object")return!1;for(var _=0,E=Object.entries(s);_<E.length;_++){var P=cn(E[_],2),C=P[0],S=P[1];switch(C){case"processor":if(!oz(S))return!1;break;case"settings":if(!cx(S))return!1;break;default:return!1}}break;default:return!1}}return!0}function _I(t,e,n){var r,i=[];t.video&&t.video.processor&&(nI((r=e?.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(t.video.settings?delete t.video.processor:delete t.video,i.push("video"))),t.audio&&t.audio.processor&&(rI()||(t.audio.settings?delete t.audio.processor:delete t.audio,i.push("audio"))),i.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(i.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(n.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:bi}):delete n.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(n.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:bi}):delete n.videoTrack)}function oz(t){if(Ge())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&Ke(t)==="object"&&(Object.keys(t).filter((function(n){return!e.includes(n)})).forEach((function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete t[n]})),!!(function(n){return typeof n!="string"?!1:Object.values(eI).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)})(t.type))}function cz(t){if(Ge())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||Ke(t)!=="object"||!(function(n){return typeof n!="string"?!1:Object.values(Ud).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)})(t.type)||t.config&&(Ke(t.config)!=="object"||!(function(n,r){var i=Object.keys(r);if(i.length===0)return!0;var s="invalid object in inputSettings -> video -> processor -> config";switch(n){case Ud.BGBLUR:return i.length>1||i[0]!=="strength"?(console.error(s),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(s,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Ud.BGIMAGE:return!(r.source!==void 0&&!(function(l){if(l.source==="default")return l.type="default",!0;if(l.source instanceof ArrayBuffer)return!0;if(dh(l.source))return l.type="url",!!(function(m){var v=new URL(m),_=v.pathname;if(v.protocol==="data:")try{var E=_.substring(_.indexOf(":")+1,_.indexOf(";")).split("/")[1];return Um.includes(E)}catch(C){return console.error("failed to deduce blob content type",C),!1}var P=_.split(".").at(-1).toLowerCase().trim();return Um.includes(P)})(l.source)||(console.error("invalid image type; supported types: [".concat(Um.join(", "),"]")),!1);return u=l.source,d=Number(u),isNaN(d)||!Number.isInteger(d)||d<=0||d>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(l.type="daily-preselect",!0);var u,d})(r));default:return!0}})(t.type,t.config))?!1:(Object.keys(t).filter((function(n){return!e.includes(n)})).forEach((function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete t[n]})),!0)}function cx(t){return Ke(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function E_(){var t=Object.values(Ud).join(" | "),e=Object.values(eI).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function bI(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(LV).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function wI(){return"customIntegrations should be an object of type ".concat(JSON.stringify(S_),".")}function kI(t){if(t&&Ke(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(yh),".")),!1;if(t)for(var e=0,n=Object.entries(t);e<n.length;e++)for(var r=cn(n[e],1)[0],i=0,s=Object.entries(t[r]);i<s.length;i++){var l=cn(s[i],2),u=l[0],d=l[1],m=yh.id[u];if(!m)return console.error("customTrayButton does not support key ".concat(u)),!1;switch(u){case"iconPath":case"iconPathDarkMode":if(!dh(d))return console.error("customTrayButton ".concat(u," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(d))return console.error("customTrayButton ".concat(u," should be ").concat(m,". Got: ").concat(d)),!1;break;default:if(Ke(d)!==m)return console.error("customTrayButton ".concat(u," should be a ").concat(m,".")),!1}}return!0}function SI(t){if(!t||t&&Ke(t)!=="object"||Array.isArray(t))return console.error(wI()),!1;for(var e=function(_){return"".concat(_," should be ").concat(S_.id[_])},n=function(_,E){return console.error("customIntegration ".concat(_,": ").concat(E))},r=0,i=Object.entries(t);r<i.length;r++){var s=cn(i[r],1)[0];if(!("label"in t[s]))return n(s,"label is required"),!1;if(!("location"in t[s]))return n(s,"location is required"),!1;if(!("src"in t[s])&&!("srcdoc"in t[s]))return n(s,"src or srcdoc is required"),!1;for(var l=0,u=Object.entries(t[s]);l<u.length;l++){var d=cn(u[l],2),m=d[0],v=d[1];switch(m){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof v!="string")return n(s,e(m)),!1;break;case"iconURL":if(!dh(v))return n(s,"".concat(m," should be a url")),!1;break;case"src":if("srcdoc"in t[s])return n(s,"cannot have both src and srcdoc"),!1;if(!dh(v))return n(s,'src "'.concat(v,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[s])return n(s,"cannot have both src and srcdoc"),!1;if(typeof v!="string")return n(s,e(m)),!1;break;case"location":if(!["main","sidebar"].includes(v))return n(s,e(m)),!1;break;case"controlledBy":if(v!=="*"&&v!=="owners"&&(!Array.isArray(v)||v.some((function(_){return typeof _!="string"}))))return n(s,e(m)),!1;break;case"shared":if((!Array.isArray(v)||v.some((function(_){return typeof _!="string"})))&&v!=="owners"&&typeof v!="boolean")return n(s,e(m)),!1;break;default:if(!S_.id[m])return console.error("customIntegration does not support key ".concat(m)),!1}}}return!0}function EI(t,e){if(e===void 0)return!1;switch(Ke(e)){case"string":return Ke(t)===e;case"object":if(Ke(t)!=="object")return!1;for(var n in t)if(!EI(t[n],e[n]))return!1;return!0;default:return!1}}function lx(t,e){var n=t.sessionId,r=t.toEndPoint,i=t.callerId,s=t.useSipRefer;if(!n||!r)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(s&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(i&&typeof i!="string")throw new Error("callerId must be of type string");if(i&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function ux(t){if(Ke(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(y_).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(y_));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function dx(t,e,n){return!(typeof t!="number"||t<e||t>n)}function Jm(t,e){return t&&!e&&delete t.data,t}var Gm,hx;function lz(){if(hx)return Gm;hx=1;function t(){this.__data__=[],this.size=0}return Gm=t,Gm}var Ym,fx;function CI(){if(fx)return Ym;fx=1;function t(e,n){return e===n||e!==e&&n!==n}return Ym=t,Ym}var Qm,px;function Jh(){if(px)return Qm;px=1;var t=CI();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Qm=e,Qm}var Km,mx;function uz(){if(mx)return Km;mx=1;var t=Jh(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,l=t(s,i);if(l<0)return!1;var u=s.length-1;return l==u?s.pop():n.call(s,l,1),--this.size,!0}return Km=r,Km}var Xm,gx;function dz(){if(gx)return Xm;gx=1;var t=Jh();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Xm=e,Xm}var Zm,vx;function hz(){if(vx)return Zm;vx=1;var t=Jh();function e(n){return t(this.__data__,n)>-1}return Zm=e,Zm}var eg,yx;function fz(){if(yx)return eg;yx=1;var t=Jh();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return eg=e,eg}var tg,_x;function Gh(){if(_x)return tg;_x=1;var t=lz(),e=uz(),n=dz(),r=hz(),i=fz();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var m=l[u];this.set(m[0],m[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,tg=s,tg}var ng,bx;function pz(){if(bx)return ng;bx=1;var t=Gh();function e(){this.__data__=new t,this.size=0}return ng=e,ng}var rg,wx;function mz(){if(wx)return rg;wx=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return rg=t,rg}var ig,kx;function gz(){if(kx)return ig;kx=1;function t(e){return this.__data__.get(e)}return ig=t,ig}var ag,Sx;function vz(){if(Sx)return ag;Sx=1;function t(e){return this.__data__.has(e)}return ag=t,ag}var sg,Ex;function TI(){if(Ex)return sg;Ex=1;var t=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;return sg=t,sg}var og,Cx;function Kr(){if(Cx)return og;Cx=1;var t=TI(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return og=n,og}var cg,Tx;function Ob(){if(Tx)return cg;Tx=1;var t=Kr(),e=t.Symbol;return cg=e,cg}var lg,xx;function yz(){if(xx)return lg;xx=1;var t=Ob(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(l){var u=n.call(l,i),d=l[i];try{l[i]=void 0;var m=!0}catch{}var v=r.call(l);return m&&(u?l[i]=d:delete l[i]),v}return lg=s,lg}var ug,Mx;function _z(){if(Mx)return ug;Mx=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return ug=n,ug}var dg,Ax;function Yh(){if(Ax)return dg;Ax=1;var t=Ob(),e=yz(),n=_z(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function l(u){return u==null?u===void 0?i:r:s&&s in Object(u)?e(u):n(u)}return dg=l,dg}var hg,Px;function vl(){if(Px)return hg;Px=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return hg=t,hg}var fg,Ox;function xI(){if(Ox)return fg;Ox=1;var t=Yh(),e=vl(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(u){if(!e(u))return!1;var d=t(u);return d==r||d==i||d==n||d==s}return fg=l,fg}var pg,jx;function bz(){if(jx)return pg;jx=1;var t=Kr(),e=t["__core-js_shared__"];return pg=e,pg}var mg,Ix;function wz(){if(Ix)return mg;Ix=1;var t=bz(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return mg=n,mg}var gg,Lx;function MI(){if(Lx)return gg;Lx=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return gg=n,gg}var vg,Nx;function kz(){if(Nx)return vg;Nx=1;var t=xI(),e=wz(),n=vl(),r=MI(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,m=u.hasOwnProperty,v=RegExp("^"+d.call(m).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _(E){if(!n(E)||e(E))return!1;var P=t(E)?v:s;return P.test(r(E))}return vg=_,vg}var yg,Dx;function Sz(){if(Dx)return yg;Dx=1;function t(e,n){return e?.[n]}return yg=t,yg}var _g,Rx;function Ss(){if(Rx)return _g;Rx=1;var t=kz(),e=Sz();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return _g=n,_g}var bg,$x;function jb(){if($x)return bg;$x=1;var t=Ss(),e=Kr(),n=t(e,"Map");return bg=n,bg}var wg,Fx;function Qh(){if(Fx)return wg;Fx=1;var t=Ss(),e=t(Object,"create");return wg=e,wg}var kg,Bx;function Ez(){if(Bx)return kg;Bx=1;var t=Qh();function e(){this.__data__=t?t(null):{},this.size=0}return kg=e,kg}var Sg,Ux;function Cz(){if(Ux)return Sg;Ux=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Sg=t,Sg}var Eg,qx;function Tz(){if(qx)return Eg;qx=1;var t=Qh(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var l=this.__data__;if(t){var u=l[s];return u===e?void 0:u}return r.call(l,s)?l[s]:void 0}return Eg=i,Eg}var Cg,Wx;function xz(){if(Wx)return Cg;Wx=1;var t=Qh(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return Cg=r,Cg}var Tg,Vx;function Mz(){if(Vx)return Tg;Vx=1;var t=Qh(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return Tg=n,Tg}var xg,zx;function Az(){if(zx)return xg;zx=1;var t=Ez(),e=Cz(),n=Tz(),r=xz(),i=Mz();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var m=l[u];this.set(m[0],m[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,xg=s,xg}var Mg,Hx;function Pz(){if(Hx)return Mg;Hx=1;var t=Az(),e=Gh(),n=jb();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Mg=r,Mg}var Ag,Jx;function Oz(){if(Jx)return Ag;Jx=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Ag=t,Ag}var Pg,Gx;function Kh(){if(Gx)return Pg;Gx=1;var t=Oz();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Pg=e,Pg}var Og,Yx;function jz(){if(Yx)return Og;Yx=1;var t=Kh();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Og=e,Og}var jg,Qx;function Iz(){if(Qx)return jg;Qx=1;var t=Kh();function e(n){return t(this,n).get(n)}return jg=e,jg}var Ig,Kx;function Lz(){if(Kx)return Ig;Kx=1;var t=Kh();function e(n){return t(this,n).has(n)}return Ig=e,Ig}var Lg,Xx;function Nz(){if(Xx)return Lg;Xx=1;var t=Kh();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return Lg=e,Lg}var Ng,Zx;function Dz(){if(Zx)return Ng;Zx=1;var t=Pz(),e=jz(),n=Iz(),r=Lz(),i=Nz();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var m=l[u];this.set(m[0],m[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Ng=s,Ng}var Dg,eM;function Rz(){if(eM)return Dg;eM=1;var t=Gh(),e=jb(),n=Dz(),r=200;function i(s,l){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<r-1)return d.push([s,l]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(s,l),this.size=u.size,this}return Dg=i,Dg}var Rg,tM;function $z(){if(tM)return Rg;tM=1;var t=Gh(),e=pz(),n=mz(),r=gz(),i=vz(),s=Rz();function l(u){var d=this.__data__=new t(u);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=s,Rg=l,Rg}var $g,nM;function Fz(){if(nM)return $g;nM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return $g=t,$g}var Fg,rM;function Bz(){if(rM)return Fg;rM=1;var t=Ss(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Fg=e,Fg}var Bg,iM;function AI(){if(iM)return Bg;iM=1;var t=Bz();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Bg=e,Bg}var Ug,aM;function PI(){if(aM)return Ug;aM=1;var t=AI(),e=CI(),n=Object.prototype,r=n.hasOwnProperty;function i(s,l,u){var d=s[l];(!(r.call(s,l)&&e(d,u))||u===void 0&&!(l in s))&&t(s,l,u)}return Ug=i,Ug}var qg,sM;function Xh(){if(sM)return qg;sM=1;var t=PI(),e=AI();function n(r,i,s,l){var u=!s;s||(s={});for(var d=-1,m=i.length;++d<m;){var v=i[d],_=l?l(s[v],r[v],v,s,r):void 0;_===void 0&&(_=r[v]),u?e(s,v,_):t(s,v,_)}return s}return qg=n,qg}var Wg,oM;function Uz(){if(oM)return Wg;oM=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Wg=t,Wg}var Vg,cM;function yl(){if(cM)return Vg;cM=1;function t(e){return e!=null&&typeof e=="object"}return Vg=t,Vg}var zg,lM;function qz(){if(lM)return zg;lM=1;var t=Yh(),e=yl(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return zg=r,zg}var Hg,uM;function Wz(){if(uM)return Hg;uM=1;var t=qz(),e=yl(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return Hg=s,Hg}var Jg,dM;function Ib(){if(dM)return Jg;dM=1;var t=Array.isArray;return Jg=t,Jg}var Uc={exports:{}},Gg,hM;function Vz(){if(hM)return Gg;hM=1;function t(){return!1}return Gg=t,Gg}Uc.exports;var fM;function OI(){return fM||(fM=1,(function(t,e){var n=Kr(),r=Vz(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===i,u=l?n.Buffer:void 0,d=u?u.isBuffer:void 0,m=d||r;t.exports=m})(Uc,Uc.exports)),Uc.exports}var Yg,pM;function zz(){if(pM)return Yg;pM=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Yg=n,Yg}var Qg,mM;function jI(){if(mM)return Qg;mM=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Qg=e,Qg}var Kg,gM;function Hz(){if(gM)return Kg;gM=1;var t=Yh(),e=jI(),n=yl(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",m="[object Map]",v="[object Number]",_="[object Object]",E="[object RegExp]",P="[object Set]",C="[object String]",S="[object WeakMap]",x="[object ArrayBuffer]",O="[object DataView]",j="[object Float32Array]",$="[object Float64Array]",D="[object Int8Array]",R="[object Int16Array]",U="[object Int32Array]",G="[object Uint8Array]",X="[object Uint8ClampedArray]",oe="[object Uint16Array]",ce="[object Uint32Array]",le={};le[j]=le[$]=le[D]=le[R]=le[U]=le[G]=le[X]=le[oe]=le[ce]=!0,le[r]=le[i]=le[x]=le[s]=le[O]=le[l]=le[u]=le[d]=le[m]=le[v]=le[_]=le[E]=le[P]=le[C]=le[S]=!1;function Be(He){return n(He)&&e(He.length)&&!!le[t(He)]}return Kg=Be,Kg}var Xg,vM;function Lb(){if(vM)return Xg;vM=1;function t(e){return function(n){return e(n)}}return Xg=t,Xg}var qc={exports:{}};qc.exports;var yM;function Nb(){return yM||(yM=1,(function(t,e){var n=TI(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s&&n.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();t.exports=u})(qc,qc.exports)),qc.exports}var Zg,_M;function Jz(){if(_M)return Zg;_M=1;var t=Hz(),e=Lb(),n=Nb(),r=n&&n.isTypedArray,i=r?e(r):t;return Zg=i,Zg}var ev,bM;function II(){if(bM)return ev;bM=1;var t=Uz(),e=Wz(),n=Ib(),r=OI(),i=zz(),s=Jz(),l=Object.prototype,u=l.hasOwnProperty;function d(m,v){var _=n(m),E=!_&&e(m),P=!_&&!E&&r(m),C=!_&&!E&&!P&&s(m),S=_||E||P||C,x=S?t(m.length,String):[],O=x.length;for(var j in m)(v||u.call(m,j))&&!(S&&(j=="length"||P&&(j=="offset"||j=="parent")||C&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||i(j,O)))&&x.push(j);return x}return ev=d,ev}var tv,wM;function Db(){if(wM)return tv;wM=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return tv=e,tv}var nv,kM;function LI(){if(kM)return nv;kM=1;function t(e,n){return function(r){return e(n(r))}}return nv=t,nv}var rv,SM;function Gz(){if(SM)return rv;SM=1;var t=LI(),e=t(Object.keys,Object);return rv=e,rv}var iv,EM;function Yz(){if(EM)return iv;EM=1;var t=Db(),e=Gz(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var l=[];for(var u in Object(s))r.call(s,u)&&u!="constructor"&&l.push(u);return l}return iv=i,iv}var av,CM;function NI(){if(CM)return av;CM=1;var t=xI(),e=jI();function n(r){return r!=null&&e(r.length)&&!t(r)}return av=n,av}var sv,TM;function Rb(){if(TM)return sv;TM=1;var t=II(),e=Yz(),n=NI();function r(i){return n(i)?t(i):e(i)}return sv=r,sv}var ov,xM;function Qz(){if(xM)return ov;xM=1;var t=Xh(),e=Rb();function n(r,i){return r&&t(i,e(i),r)}return ov=n,ov}var cv,MM;function Kz(){if(MM)return cv;MM=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return cv=t,cv}var lv,AM;function Xz(){if(AM)return lv;AM=1;var t=vl(),e=Db(),n=Kz(),r=Object.prototype,i=r.hasOwnProperty;function s(l){if(!t(l))return n(l);var u=e(l),d=[];for(var m in l)m=="constructor"&&(u||!i.call(l,m))||d.push(m);return d}return lv=s,lv}var uv,PM;function $b(){if(PM)return uv;PM=1;var t=II(),e=Xz(),n=NI();function r(i){return n(i)?t(i,!0):e(i)}return uv=r,uv}var dv,OM;function Zz(){if(OM)return dv;OM=1;var t=Xh(),e=$b();function n(r,i){return r&&t(i,e(i),r)}return dv=n,dv}var Wc={exports:{}};Wc.exports;var jM;function e4(){return jM||(jM=1,(function(t,e){var n=Kr(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function d(m,v){if(v)return m.slice();var _=m.length,E=u?u(_):new m.constructor(_);return m.copy(E),E}t.exports=d})(Wc,Wc.exports)),Wc.exports}var hv,IM;function t4(){if(IM)return hv;IM=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return hv=t,hv}var fv,LM;function n4(){if(LM)return fv;LM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,l=[];++r<i;){var u=e[r];n(u,r,e)&&(l[s++]=u)}return l}return fv=t,fv}var pv,NM;function DI(){if(NM)return pv;NM=1;function t(){return[]}return pv=t,pv}var mv,DM;function Fb(){if(DM)return mv;DM=1;var t=n4(),e=DI(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(u){return r.call(l,u)}))}:e;return mv=s,mv}var gv,RM;function r4(){if(RM)return gv;RM=1;var t=Xh(),e=Fb();function n(r,i){return t(r,e(r),i)}return gv=n,gv}var vv,$M;function RI(){if($M)return vv;$M=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return vv=t,vv}var yv,FM;function $I(){if(FM)return yv;FM=1;var t=LI(),e=t(Object.getPrototypeOf,Object);return yv=e,yv}var _v,BM;function FI(){if(BM)return _v;BM=1;var t=RI(),e=$I(),n=Fb(),r=DI(),i=Object.getOwnPropertySymbols,s=i?function(l){for(var u=[];l;)t(u,n(l)),l=e(l);return u}:r;return _v=s,_v}var bv,UM;function i4(){if(UM)return bv;UM=1;var t=Xh(),e=FI();function n(r,i){return t(r,e(r),i)}return bv=n,bv}var wv,qM;function BI(){if(qM)return wv;qM=1;var t=RI(),e=Ib();function n(r,i,s){var l=i(r);return e(r)?l:t(l,s(r))}return wv=n,wv}var kv,WM;function a4(){if(WM)return kv;WM=1;var t=BI(),e=Fb(),n=Rb();function r(i){return t(i,n,e)}return kv=r,kv}var Sv,VM;function s4(){if(VM)return Sv;VM=1;var t=BI(),e=FI(),n=$b();function r(i){return t(i,n,e)}return Sv=r,Sv}var Ev,zM;function o4(){if(zM)return Ev;zM=1;var t=Ss(),e=Kr(),n=t(e,"DataView");return Ev=n,Ev}var Cv,HM;function c4(){if(HM)return Cv;HM=1;var t=Ss(),e=Kr(),n=t(e,"Promise");return Cv=n,Cv}var Tv,JM;function l4(){if(JM)return Tv;JM=1;var t=Ss(),e=Kr(),n=t(e,"Set");return Tv=n,Tv}var xv,GM;function u4(){if(GM)return xv;GM=1;var t=Ss(),e=Kr(),n=t(e,"WeakMap");return xv=n,xv}var Mv,YM;function Bb(){if(YM)return Mv;YM=1;var t=o4(),e=jb(),n=c4(),r=l4(),i=u4(),s=Yh(),l=MI(),u="[object Map]",d="[object Object]",m="[object Promise]",v="[object Set]",_="[object WeakMap]",E="[object DataView]",P=l(t),C=l(e),S=l(n),x=l(r),O=l(i),j=s;return(t&&j(new t(new ArrayBuffer(1)))!=E||e&&j(new e)!=u||n&&j(n.resolve())!=m||r&&j(new r)!=v||i&&j(new i)!=_)&&(j=function($){var D=s($),R=D==d?$.constructor:void 0,U=R?l(R):"";if(U)switch(U){case P:return E;case C:return u;case S:return m;case x:return v;case O:return _}return D}),Mv=j,Mv}var Av,QM;function d4(){if(QM)return Av;QM=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return Av=n,Av}var Pv,KM;function h4(){if(KM)return Pv;KM=1;var t=Kr(),e=t.Uint8Array;return Pv=e,Pv}var Ov,XM;function Ub(){if(XM)return Ov;XM=1;var t=h4();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return Ov=e,Ov}var jv,ZM;function f4(){if(ZM)return jv;ZM=1;var t=Ub();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return jv=e,jv}var Iv,eA;function p4(){if(eA)return Iv;eA=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return Iv=e,Iv}var Lv,tA;function m4(){if(tA)return Lv;tA=1;var t=Ob(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Lv=r,Lv}var Nv,nA;function g4(){if(nA)return Nv;nA=1;var t=Ub();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Nv=e,Nv}var Dv,rA;function v4(){if(rA)return Dv;rA=1;var t=Ub(),e=f4(),n=p4(),r=m4(),i=g4(),s="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",m="[object RegExp]",v="[object Set]",_="[object String]",E="[object Symbol]",P="[object ArrayBuffer]",C="[object DataView]",S="[object Float32Array]",x="[object Float64Array]",O="[object Int8Array]",j="[object Int16Array]",$="[object Int32Array]",D="[object Uint8Array]",R="[object Uint8ClampedArray]",U="[object Uint16Array]",G="[object Uint32Array]";function X(oe,ce,le){var Be=oe.constructor;switch(ce){case P:return t(oe);case s:case l:return new Be(+oe);case C:return e(oe,le);case S:case x:case O:case j:case $:case D:case R:case U:case G:return i(oe,le);case u:return new Be;case d:case _:return new Be(oe);case m:return n(oe);case v:return new Be;case E:return r(oe)}}return Dv=X,Dv}var Rv,iA;function y4(){if(iA)return Rv;iA=1;var t=vl(),e=Object.create,n=(function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}})();return Rv=n,Rv}var $v,aA;function _4(){if(aA)return $v;aA=1;var t=y4(),e=$I(),n=Db();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return $v=r,$v}var Fv,sA;function b4(){if(sA)return Fv;sA=1;var t=Bb(),e=yl(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return Fv=r,Fv}var Bv,oA;function w4(){if(oA)return Bv;oA=1;var t=b4(),e=Lb(),n=Nb(),r=n&&n.isMap,i=r?e(r):t;return Bv=i,Bv}var Uv,cA;function k4(){if(cA)return Uv;cA=1;var t=Bb(),e=yl(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return Uv=r,Uv}var qv,lA;function S4(){if(lA)return qv;lA=1;var t=k4(),e=Lb(),n=Nb(),r=n&&n.isSet,i=r?e(r):t;return qv=i,qv}var Wv,uA;function E4(){if(uA)return Wv;uA=1;var t=$z(),e=Fz(),n=PI(),r=Qz(),i=Zz(),s=e4(),l=t4(),u=r4(),d=i4(),m=a4(),v=s4(),_=Bb(),E=d4(),P=v4(),C=_4(),S=Ib(),x=OI(),O=w4(),j=vl(),$=S4(),D=Rb(),R=$b(),U=1,G=2,X=4,oe="[object Arguments]",ce="[object Array]",le="[object Boolean]",Be="[object Date]",He="[object Error]",st="[object Function]",Tt="[object GeneratorFunction]",ot="[object Map]",qe="[object Number]",ue="[object Object]",_e="[object RegExp]",de="[object Set]",q="[object String]",Y="[object Symbol]",o="[object WeakMap]",f="[object ArrayBuffer]",p="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",L="[object Int32Array]",W="[object Uint8Array]",Z="[object Uint8ClampedArray]",ae="[object Uint16Array]",Le="[object Uint32Array]",we={};we[oe]=we[ce]=we[f]=we[p]=we[le]=we[Be]=we[y]=we[w]=we[T]=we[I]=we[L]=we[ot]=we[qe]=we[ue]=we[_e]=we[de]=we[q]=we[Y]=we[W]=we[Z]=we[ae]=we[Le]=!0,we[He]=we[st]=we[o]=!1;function Re(fe,Te,Fe,ct,pt,pe){var Ze,xn=Te&U,nr=Te&G,xi=Te&X;if(Fe&&(Ze=pt?Fe(fe,ct,pt,pe):Fe(fe)),Ze!==void 0)return Ze;if(!j(fe))return fe;var Es=S(fe);if(Es){if(Ze=E(fe),!xn)return l(fe,Ze)}else{var rr=_(fe),Bo=rr==st||rr==Tt;if(x(fe))return s(fe,xn);if(rr==ue||rr==oe||Bo&&!pt){if(Ze=nr||Bo?{}:C(fe),!xn)return nr?d(fe,i(Ze,fe)):u(fe,r(Ze,fe))}else{if(!we[rr])return pt?fe:{};Ze=P(fe,rr,xn)}}pe||(pe=new t);var Mi=pe.get(fe);if(Mi)return Mi;pe.set(fe,Ze),$(fe)?fe.forEach(function(ir){Ze.add(Re(ir,Te,Fe,ir,fe,pe))}):O(fe)&&fe.forEach(function(ir,jr){Ze.set(jr,Re(ir,Te,Fe,jr,fe,pe))});var va=xi?nr?v:m:nr?R:D,_l=Es?void 0:va(fe);return e(_l||fe,function(ir,jr){_l&&(jr=ir,ir=fe[jr]),n(Ze,jr,Re(ir,Te,Fe,jr,fe,pe))}),Ze}return Wv=Re,Wv}var Vv,dA;function C4(){if(dA)return Vv;dA=1;var t=E4(),e=1,n=4;function r(i){return t(i,e|n)}return Vv=r,Vv}var T4=C4();const x4=bh(T4);function M4(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}class wr{static floatTo16BitPCM(e){const n=new ArrayBuffer(e.length*2),r=new DataView(n);let i=0;for(let s=0;s<e.length;s++,i+=2){let l=Math.max(-1,Math.min(1,e[s]));r.setInt16(i,l<0?l*32768:l*32767,!0)}return n}static mergeBuffers(e,n){const r=new Uint8Array(e.byteLength+n.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(n),e.byteLength),r.buffer}_packData(e,n){return[new Uint8Array([n,n>>8]),new Uint8Array([n,n>>8,n>>16,n>>24])][e]}pack(e,n){if(n?.bitsPerSample)if(n?.channels){if(!n?.data)throw new Error('Missing "data"')}else throw new Error('Missing "channels"');else throw new Error('Missing "bitsPerSample"');const{bitsPerSample:r,channels:i,data:s}=n,l=["RIFF",this._packData(1,52),"WAVE","fmt ",this._packData(1,16),this._packData(0,1),this._packData(0,i.length),this._packData(1,e),this._packData(1,e*i.length*r/8),this._packData(0,i.length*r/8),this._packData(0,r),"data",this._packData(1,i[0].length*i.length*r/8),s],u=new Blob(l,{type:"audio/mpeg"}),d=URL.createObjectURL(u);return{blob:u,url:d,channelCount:i.length,sampleRate:e,duration:s.byteLength/(i.length*e*2)}}}globalThis.WavPacker=wr;const hA=[4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13],A4=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],ua=[],qb=[];for(let t=1;t<=8;t++)for(let e=0;e<hA.length;e++){const n=hA[e];ua.push(n/Math.pow(2,8-t)),qb.push(A4[e]+t)}const _h=[32,2e3],fA=ua.filter((t,e)=>ua[e]>_h[0]&&ua[e]<_h[1]),P4=qb.filter((t,e)=>ua[e]>_h[0]&&ua[e]<_h[1]);class Fo{static getFrequencies(e,n,r,i="frequency",s=-100,l=-30){r||(r=new Float32Array(e.frequencyBinCount),e.getFloatFrequencyData(r));const u=n/2,d=1/r.length*u;let m,v,_;if(i==="music"||i==="voice"){const C=i==="voice"?fA:ua,S=Array(C.length).fill(s);for(let x=0;x<r.length;x++){const O=x*d,j=r[x];for(let $=C.length-1;$>=0;$--)if(O>C[$]){S[$]=Math.max(S[$],j);break}}m=S,v=i==="voice"?fA:ua,_=i==="voice"?P4:qb}else m=Array.from(r),v=m.map((C,S)=>d*S),_=v.map(C=>`${C.toFixed(2)} Hz`);const E=m.map(C=>Math.max(0,Math.min((C-s)/(l-s),1)));return{values:new Float32Array(E),frequencies:v,labels:_}}constructor(e,n=null){if(this.fftResults=[],n){const{length:r,sampleRate:i}=n,s=new OfflineAudioContext({length:r,sampleRate:i}),l=s.createBufferSource();l.buffer=n;const u=s.createAnalyser();u.fftSize=8192,u.smoothingTimeConstant=.1,l.connect(u);const d=1/60,m=r/i,v=_=>{const E=d*_;E<m&&s.suspend(E).then(()=>{const P=new Float32Array(u.frequencyBinCount);u.getFloatFrequencyData(P),this.fftResults.push(P),v(_+1)}),_===1?s.startRendering():s.resume()};l.start(0),v(1),this.audio=e,this.context=s,this.analyser=u,this.sampleRate=i,this.audioBuffer=n}else{const r=new AudioContext,i=r.createMediaElementSource(e),s=r.createAnalyser();s.fftSize=8192,s.smoothingTimeConstant=.1,i.connect(s),s.connect(r.destination),this.audio=e,this.context=r,this.analyser=s,this.sampleRate=this.context.sampleRate,this.audioBuffer=null}}getFrequencies(e="frequency",n=-100,r=-30){let i=null;if(this.audioBuffer&&this.fftResults.length){const s=this.audio.currentTime/this.audio.duration,l=Math.min(s*this.fftResults.length|0,this.fftResults.length-1);i=this.fftResults[l]}return Fo.getFrequencies(this.analyser,this.sampleRate,i,e,n,r)}async resumeIfSuspended(){return this.context.state==="suspended"&&await this.context.resume(),!0}}globalThis.AudioAnalysis=Fo;const O4=`
class StreamProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.hasStarted = false;
    this.hasInterrupted = false;
    this.outputBuffers = [];
    this.bufferLength = 128;
    this.write = { buffer: new Float32Array(this.bufferLength), trackId: null };
    this.writeOffset = 0;
    this.trackSampleOffsets = {};
    this.port.onmessage = (event) => {
      if (event.data) {
        const payload = event.data;
        if (payload.event === 'write') {
          const int16Array = payload.buffer;
          const float32Array = new Float32Array(int16Array.length);
          for (let i = 0; i < int16Array.length; i++) {
            float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32
          }
          this.writeData(float32Array, payload.trackId);
        } else if (
          payload.event === 'offset' ||
          payload.event === 'interrupt'
        ) {
          const requestId = payload.requestId;
          const trackId = this.write.trackId;
          const offset = this.trackSampleOffsets[trackId] || 0;
          this.port.postMessage({
            event: 'offset',
            requestId,
            trackId,
            offset,
          });
          if (payload.event === 'interrupt') {
            this.hasInterrupted = true;
          }
        } else {
          throw new Error(\`Unhandled event "\${payload.event}"\`);
        }
      }
    };
  }

  writeData(float32Array, trackId = null) {
    let { buffer } = this.write;
    let offset = this.writeOffset;
    for (let i = 0; i < float32Array.length; i++) {
      buffer[offset++] = float32Array[i];
      if (offset >= buffer.length) {
        this.outputBuffers.push(this.write);
        this.write = { buffer: new Float32Array(this.bufferLength), trackId };
        buffer = this.write.buffer;
        offset = 0;
      }
    }
    this.writeOffset = offset;
    return true;
  }

  process(inputs, outputs, parameters) {
    const output = outputs[0];
    const outputChannelData = output[0];
    const outputBuffers = this.outputBuffers;
    if (this.hasInterrupted) {
      this.port.postMessage({ event: 'stop' });
      return false;
    } else if (outputBuffers.length) {
      this.hasStarted = true;
      const { buffer, trackId } = outputBuffers.shift();
      for (let i = 0; i < outputChannelData.length; i++) {
        outputChannelData[i] = buffer[i] || 0;
      }
      if (trackId) {
        this.trackSampleOffsets[trackId] =
          this.trackSampleOffsets[trackId] || 0;
        this.trackSampleOffsets[trackId] += buffer.length;
      }
      return true;
    } else if (this.hasStarted) {
      this.port.postMessage({ event: 'stop' });
      return false;
    } else {
      return true;
    }
  }
}

registerProcessor('stream_processor', StreamProcessor);
`,j4=new Blob([O4],{type:"application/javascript"}),I4=URL.createObjectURL(j4),L4=I4;class Wb{constructor({sampleRate:e=44100}={}){this.scriptSrc=L4,this.sampleRate=e,this.context=null,this.stream=null,this.analyser=null,this.trackSampleOffsets={},this.interruptedTrackIds={}}async connect(){this.context=new AudioContext({sampleRate:this.sampleRate}),this._speakerID&&this.context.setSinkId(this._speakerID),this.context.state==="suspended"&&await this.context.resume();try{await this.context.audioWorklet.addModule(this.scriptSrc)}catch(n){throw console.error(n),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const e=this.context.createAnalyser();return e.fftSize=8192,e.smoothingTimeConstant=.1,this.analyser=e,!0}getFrequencies(e="frequency",n=-100,r=-30){if(!this.analyser)throw new Error("Not connected, please call .connect() first");return Fo.getFrequencies(this.analyser,this.sampleRate,null,e,n,r)}async updateSpeaker(e){const n=this._speakerID;if(this._speakerID=e,this.context)try{e==="default"?await this.context.setSinkId():await this.context.setSinkId(e)}catch(r){console.error(`Could not set sinkId to ${e}: ${r}`),this._speakerID=n}}_start(){const e=new AudioWorkletNode(this.context,"stream_processor");return e.connect(this.context.destination),e.port.onmessage=n=>{const{event:r}=n.data;if(r==="stop")e.disconnect(),this.stream=null;else if(r==="offset"){const{requestId:i,trackId:s,offset:l}=n.data,u=l/this.sampleRate;this.trackSampleOffsets[i]={trackId:s,offset:l,currentTime:u}}},this.analyser.disconnect(),e.connect(this.analyser),this.stream=e,!0}add16BitPCM(e,n="default"){if(typeof n!="string")throw new Error("trackId must be a string");if(this.interruptedTrackIds[n])return;this.stream||this._start();let r;if(e instanceof Int16Array)r=e;else if(e instanceof ArrayBuffer)r=new Int16Array(e);else throw new Error("argument must be Int16Array or ArrayBuffer");return this.stream.port.postMessage({event:"write",buffer:r,trackId:n}),r}async getTrackSampleOffset(e=!1){if(!this.stream)return null;const n=crypto.randomUUID();this.stream.port.postMessage({event:e?"interrupt":"offset",requestId:n});let r;for(;!r;)r=this.trackSampleOffsets[n],await new Promise(s=>setTimeout(()=>s(),1));const{trackId:i}=r;return e&&i&&(this.interruptedTrackIds[i]=!0),r}async interrupt(){return this.getTrackSampleOffset(!0)}}globalThis.WavStreamPlayer=Wb;const N4=`
class AudioProcessor extends AudioWorkletProcessor {

  constructor() {
    super();
    this.port.onmessage = this.receive.bind(this);
    this.initialize();
  }

  initialize() {
    this.foundAudio = false;
    this.recording = false;
    this.chunks = [];
  }

  /**
   * Concatenates sampled chunks into channels
   * Format is chunk[Left[], Right[]]
   */
  readChannelData(chunks, channel = -1, maxChannels = 9) {
    let channelLimit;
    if (channel !== -1) {
      if (chunks[0] && chunks[0].length - 1 < channel) {
        throw new Error(
          \`Channel \${channel} out of range: max \${chunks[0].length}\`
        );
      }
      channelLimit = channel + 1;
    } else {
      channel = 0;
      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);
    }
    const channels = [];
    for (let n = channel; n < channelLimit; n++) {
      const length = chunks.reduce((sum, chunk) => {
        return sum + chunk[n].length;
      }, 0);
      const buffers = chunks.map((chunk) => chunk[n]);
      const result = new Float32Array(length);
      let offset = 0;
      for (let i = 0; i < buffers.length; i++) {
        result.set(buffers[i], offset);
        offset += buffers[i].length;
      }
      channels[n] = result;
    }
    return channels;
  }

  /**
   * Combines parallel audio data into correct format,
   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]
   */
  formatAudioData(channels) {
    if (channels.length === 1) {
      // Simple case is only one channel
      const float32Array = channels[0].slice();
      const meanValues = channels[0].slice();
      return { float32Array, meanValues };
    } else {
      const float32Array = new Float32Array(
        channels[0].length * channels.length
      );
      const meanValues = new Float32Array(channels[0].length);
      for (let i = 0; i < channels[0].length; i++) {
        const offset = i * channels.length;
        let meanValue = 0;
        for (let n = 0; n < channels.length; n++) {
          float32Array[offset + n] = channels[n][i];
          meanValue += channels[n][i];
        }
        meanValues[i] = meanValue / channels.length;
      }
      return { float32Array, meanValues };
    }
  }

  /**
   * Converts 32-bit float data to 16-bit integers
   */
  floatTo16BitPCM(float32Array) {
    const buffer = new ArrayBuffer(float32Array.length * 2);
    const view = new DataView(buffer);
    let offset = 0;
    for (let i = 0; i < float32Array.length; i++, offset += 2) {
      let s = Math.max(-1, Math.min(1, float32Array[i]));
      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);
    }
    return buffer;
  }

  /**
   * Retrieves the most recent amplitude values from the audio stream
   * @param {number} channel
   */
  getValues(channel = -1) {
    const channels = this.readChannelData(this.chunks, channel);
    const { meanValues } = this.formatAudioData(channels);
    return { meanValues, channels };
  }

  /**
   * Exports chunks as an audio/wav file
   */
  export() {
    const channels = this.readChannelData(this.chunks);
    const { float32Array, meanValues } = this.formatAudioData(channels);
    const audioData = this.floatTo16BitPCM(float32Array);
    return {
      meanValues: meanValues,
      audio: {
        bitsPerSample: 16,
        channels: channels,
        data: audioData,
      },
    };
  }

  receive(e) {
    const { event, id } = e.data;
    let receiptData = {};
    switch (event) {
      case 'start':
        this.recording = true;
        break;
      case 'stop':
        this.recording = false;
        break;
      case 'clear':
        this.initialize();
        break;
      case 'export':
        receiptData = this.export();
        break;
      case 'read':
        receiptData = this.getValues();
        break;
      default:
        break;
    }
    // Always send back receipt
    this.port.postMessage({ event: 'receipt', id, data: receiptData });
  }

  sendChunk(chunk) {
    const channels = this.readChannelData([chunk]);
    const { float32Array, meanValues } = this.formatAudioData(channels);
    const rawAudioData = this.floatTo16BitPCM(float32Array);
    const monoAudioData = this.floatTo16BitPCM(meanValues);
    this.port.postMessage({
      event: 'chunk',
      data: {
        mono: monoAudioData,
        raw: rawAudioData,
      },
    });
  }

  process(inputList, outputList, parameters) {
    // Copy input to output (e.g. speakers)
    // Note that this creates choppy sounds with Mac products
    const sourceLimit = Math.min(inputList.length, outputList.length);
    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {
      const input = inputList[inputNum];
      const output = outputList[inputNum];
      const channelCount = Math.min(input.length, output.length);
      for (let channelNum = 0; channelNum < channelCount; channelNum++) {
        input[channelNum].forEach((sample, i) => {
          output[channelNum][i] = sample;
        });
      }
    }
    const inputs = inputList[0];
    // There's latency at the beginning of a stream before recording starts
    // Make sure we actually receive audio data before we start storing chunks
    let sliceIndex = 0;
    if (!this.foundAudio) {
      for (const channel of inputs) {
        sliceIndex = 0; // reset for each channel
        if (this.foundAudio) {
          break;
        }
        if (channel) {
          for (const value of channel) {
            if (value !== 0) {
              // find only one non-zero entry in any channel
              this.foundAudio = true;
              break;
            } else {
              sliceIndex++;
            }
          }
        }
      }
    }
    if (inputs && inputs[0] && this.foundAudio && this.recording) {
      // We need to copy the TypedArray, because the \`process\`
      // internals will reuse the same buffer to hold each input
      const chunk = inputs.map((input) => input.slice(sliceIndex));
      this.chunks.push(chunk);
      this.sendChunk(chunk);
    }
    return true;
  }
}

registerProcessor('audio_processor', AudioProcessor);
`,D4=new Blob([N4],{type:"application/javascript"}),R4=URL.createObjectURL(D4),UI=R4;class qI{constructor({sampleRate:e=44100,outputToSpeakers:n=!1,debug:r=!1}={}){this.scriptSrc=UI,this.sampleRate=e,this.outputToSpeakers=n,this.debug=!!r,this._deviceChangeCallback=null,this._deviceErrorCallback=null,this._devices=[],this.deviceSelection=null,this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorSize=void 0,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)}}static async decode(e,n=44100,r=-1){const i=new AudioContext({sampleRate:n});let s,l;if(e instanceof Blob){if(r!==-1)throw new Error('Can not specify "fromSampleRate" when reading from Blob');l=e,s=await l.arrayBuffer()}else if(e instanceof ArrayBuffer){if(r!==-1)throw new Error('Can not specify "fromSampleRate" when reading from ArrayBuffer');s=e,l=new Blob([s],{type:"audio/wav"})}else{let v,_;if(e instanceof Int16Array){_=e,v=new Float32Array(e.length);for(let S=0;S<e.length;S++)v[S]=e[S]/32768}else if(e instanceof Float32Array)v=e;else if(e instanceof Array)v=new Float32Array(e);else throw new Error('"audioData" must be one of: Blob, Float32Arrray, Int16Array, ArrayBuffer, Array<number>');if(r===-1)throw new Error('Must specify "fromSampleRate" when reading from Float32Array, In16Array or Array');if(r<3e3)throw new Error('Minimum "fromSampleRate" is 3000 (3kHz)');_||(_=wr.floatTo16BitPCM(v));const E={bitsPerSample:16,channels:[v],data:_};l=new wr().pack(r,E).blob,s=await l.arrayBuffer()}const u=await i.decodeAudioData(s),d=u.getChannelData(0),m=URL.createObjectURL(l);return{blob:l,url:m,values:d,audioBuffer:u}}log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}async _event(e,n={},r=null){if(r=r||this.processor,!r)throw new Error("Can not send events without recording first");const i={event:e,id:this._lastEventId++,data:n};r.port.postMessage(i);const s=new Date().valueOf();for(;!this.eventReceipts[i.id];){if(new Date().valueOf()-s>this.eventTimeout)throw new Error(`Timeout waiting for "${e}" event`);await new Promise(u=>setTimeout(()=>u(!0),1))}const l=this.eventReceipts[i.id];return delete this.eventReceipts[i.id],l}listenForDeviceChange(e){if(e===null&&this._deviceChangeCallback)navigator.mediaDevices.removeEventListener("devicechange",this._deviceChangeCallback),this._deviceChangeCallback=null;else if(e!==null){let n=0,r=[];const i=l=>l.map(u=>u.deviceId).sort().join(","),s=async()=>{let l=++n;const u=await this.listDevices();l===n&&i(r)!==i(u)&&(r=u,e(u.slice()))};navigator.mediaDevices.addEventListener("devicechange",s),s(),this._deviceChangeCallback=s}return!0}listenForDeviceErrors(e){this._deviceErrorCallback=e}async requestPermission(){const e=await navigator.permissions.query({name:"microphone"});if(e.state==="denied")this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic"],type:"unknown",error:new Error("Microphone access denied")});else if(e.state==="prompt")try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(i=>i.stop())}catch(n){console.error("Error accessing microphone."),this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic"],type:"unknown",error:n})}return!0}async listDevices(){if(!navigator.mediaDevices||!("enumerateDevices"in navigator.mediaDevices))throw new Error("Could not request user devices");return await this.requestPermission(),(await navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="audioinput")}async begin(e){if(this.processor)throw new Error("Already connected: please call .end() to start a new session");if(!navigator.mediaDevices||!("getUserMedia"in navigator.mediaDevices))throw this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic","cam"],type:"undefined-mediadevices"}),new Error("Could not request user media");e=e??this.deviceSelection?.deviceId;try{const u={audio:!0};e&&(u.audio={deviceId:{exact:e}}),this.stream=await navigator.mediaDevices.getUserMedia(u)}catch(u){throw this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic"],type:"unknown",error:u}),new Error("Could not start media stream")}this.listDevices().then(u=>{e=this.stream.getAudioTracks()[0].getSettings().deviceId,console.log("find current device",u,e,this.stream.getAudioTracks()[0].getSettings()),this.deviceSelection=u.find(d=>d.deviceId===e),console.log("current device",this.deviceSelection)});const n=new AudioContext({sampleRate:this.sampleRate}),r=n.createMediaStreamSource(this.stream);try{await n.audioWorklet.addModule(this.scriptSrc)}catch(u){throw console.error(u),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const i=new AudioWorkletNode(n,"audio_processor");i.port.onmessage=u=>{const{event:d,id:m,data:v}=u.data;if(d==="receipt")this.eventReceipts[m]=v;else if(d==="chunk")if(this._chunkProcessorSize){const _=this._chunkProcessorBuffer;this._chunkProcessorBuffer={raw:wr.mergeBuffers(_.raw,v.raw),mono:wr.mergeBuffers(_.mono,v.mono)},this._chunkProcessorBuffer.mono.byteLength>=this._chunkProcessorSize&&(this._chunkProcessor(this._chunkProcessorBuffer),this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)})}else this._chunkProcessor(v)};const s=r.connect(i),l=n.createAnalyser();return l.fftSize=8192,l.smoothingTimeConstant=.1,s.connect(l),this.outputToSpeakers&&(console.warn(`Warning: Output to speakers may affect sound quality,
especially due to system audio feedback preventative measures.
use only for debugging`),l.connect(n.destination)),this.source=r,this.node=s,this.analyser=l,this.processor=i,console.log("begin completed"),!0}getFrequencies(e="frequency",n=-100,r=-30){if(!this.processor)throw new Error("Session ended: please call .begin() first");return Fo.getFrequencies(this.analyser,this.sampleRate,null,e,n,r)}async pause(){if(this.processor){if(!this.recording)throw new Error("Already paused: please call .record() first")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessorBuffer.raw.byteLength&&this._chunkProcessor(this._chunkProcessorBuffer),this.log("Pausing ..."),await this._event("stop"),this.recording=!1,!0}async record(e=()=>{},n=8192){if(this.processor){if(this.recording)throw new Error("Already recording: please call .pause() first");if(typeof e!="function")throw new Error("chunkProcessor must be a function")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessor=e,this._chunkProcessorSize=n,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},this.log("Recording ..."),await this._event("start"),this.recording=!0,!0}async clear(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return await this._event("clear"),!0}async read(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return this.log("Reading ..."),await this._event("read")}async save(e=!1){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!e&&this.recording)throw new Error("Currently recording: please call .pause() first, or call .save(true) to force");this.log("Exporting ...");const n=await this._event("export");return new wr().pack(this.sampleRate,n.audio)}async end(){if(!this.processor)throw new Error("Session ended: please call .begin() first");const e=this.processor;this.log("Stopping ..."),await this._event("stop"),this.recording=!1,this.stream.getTracks().forEach(l=>l.stop()),this.log("Exporting ...");const r=await this._event("export",{},e);return this.processor.disconnect(),this.source.disconnect(),this.node.disconnect(),this.analyser.disconnect(),this.stream=null,this.processor=null,this.source=null,this.node=null,new wr().pack(this.sampleRate,r.audio)}async quit(){return this.listenForDeviceChange(null),this.deviceSelection=null,this.processor&&await this.end(),!0}}globalThis.WavRecorder=qI;class $4{constructor({sampleRate:e=44100,outputToSpeakers:n=!1,debug:r=!1}={}){this.scriptSrc=UI,this.sampleRate=e,this.outputToSpeakers=n,this.debug=!!r,this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorSize=void 0,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)}}log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}async _event(e,n={},r=null){if(r=r||this.processor,!r)throw new Error("Can not send events without recording first");const i={event:e,id:this._lastEventId++,data:n};r.port.postMessage(i);const s=new Date().valueOf();for(;!this.eventReceipts[i.id];){if(new Date().valueOf()-s>this.eventTimeout)throw new Error(`Timeout waiting for "${e}" event`);await new Promise(u=>setTimeout(()=>u(!0),1))}const l=this.eventReceipts[i.id];return delete this.eventReceipts[i.id],l}async begin(e){if(this.processor)throw new Error("Already connected: please call .end() to start a new session");if(!e||e.kind!=="audio")throw new Error("No audio track provided");this.stream=new MediaStream([e]);const n=new AudioContext({sampleRate:this.sampleRate}),r=n.createMediaStreamSource(this.stream);try{await n.audioWorklet.addModule(this.scriptSrc)}catch(u){throw console.error(u),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const i=new AudioWorkletNode(n,"audio_processor");i.port.onmessage=u=>{const{event:d,id:m,data:v}=u.data;if(d==="receipt")this.eventReceipts[m]=v;else if(d==="chunk")if(this._chunkProcessorSize){const _=this._chunkProcessorBuffer;this._chunkProcessorBuffer={raw:wr.mergeBuffers(_.raw,v.raw),mono:wr.mergeBuffers(_.mono,v.mono)},this._chunkProcessorBuffer.mono.byteLength>=this._chunkProcessorSize&&(this._chunkProcessor(this._chunkProcessorBuffer),this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)})}else this._chunkProcessor(v)};const s=r.connect(i),l=n.createAnalyser();return l.fftSize=8192,l.smoothingTimeConstant=.1,s.connect(l),this.outputToSpeakers&&(console.warn(`Warning: Output to speakers may affect sound quality,
especially due to system audio feedback preventative measures.
use only for debugging`),l.connect(n.destination)),this.source=r,this.node=s,this.analyser=l,this.processor=i,!0}getFrequencies(e="frequency",n=-100,r=-30){if(!this.processor)throw new Error("Session ended: please call .begin() first");return Fo.getFrequencies(this.analyser,this.sampleRate,null,e,n,r)}async pause(){if(this.processor){if(!this.recording)throw new Error("Already paused: please call .record() first")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessorBuffer.raw.byteLength&&this._chunkProcessor(this._chunkProcessorBuffer),this.log("Pausing ..."),await this._event("stop"),this.recording=!1,!0}async record(e=()=>{},n=8192){if(this.processor){if(this.recording)throw new Error("Already recording: HELLO please call .pause() first");if(typeof e!="function")throw new Error("chunkProcessor must be a function")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessor=e,this._chunkProcessorSize=n,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},this.log("Recording ..."),await this._event("start"),this.recording=!0,!0}async clear(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return await this._event("clear"),!0}async read(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return this.log("Reading ..."),await this._event("read")}async save(e=!1){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!e&&this.recording)throw new Error("Currently recording: please call .pause() first, or call .save(true) to force");this.log("Exporting ...");const n=await this._event("export");return new wr().pack(this.sampleRate,n.audio)}async end(){if(!this.processor)throw new Error("Session ended: please call .begin() first");const e=this.processor;this.log("Stopping ..."),await this._event("stop"),this.recording=!1,this.log("Exporting ...");const n=await this._event("export",{},e);return this.processor.disconnect(),this.source.disconnect(),this.node.disconnect(),this.analyser.disconnect(),this.stream=null,this.processor=null,this.source=null,this.node=null,new wr().pack(this.sampleRate,n.audio)}async quit(){return this.listenForDeviceChange(null),this.processor&&await this.end(),!0}}globalThis.WavRecorder=WavRecorder;var F4=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),qa=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function u(v){try{m(r.next(v))}catch(_){l(_)}}function d(v){try{m(r.throw(v))}catch(_){l(_)}}function m(v){v.done?s(v.value):i(v.value).then(u,d)}m((r=r.apply(t,[])).next())})},Wa=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(m){return function(v){return d([m,v])}}function d(m){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(v){m=[6,v],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},WI=(function(){function t(){this._callbacks={},this._micEnabled=!0,this._camEnabled=!1,this._supportsScreenShare=!1}return t.prototype.setUserAudioCallback=function(e){this._userAudioCallback=e},t.prototype.setClientOptions=function(e,n){var r,i,s;n===void 0&&(n=!1),!(this._options&&!n)&&(this._options=e,this._callbacks=(r=e.callbacks)!==null&&r!==void 0?r:{},this._micEnabled=(i=e.enableMic)!==null&&i!==void 0?i:!0,this._camEnabled=(s=e.enableCam)!==null&&s!==void 0?s:!1)},Object.defineProperty(t.prototype,"supportsScreenShare",{get:function(){return this._supportsScreenShare},enumerable:!1,configurable:!0}),t})();(function(t){F4(e,t);function e(n,r){n===void 0&&(n=void 0),r===void 0&&(r=24e3);var i=t.call(this)||this;return i._initialized=!1,i._recorderChunkSize=void 0,i._recorderChunkSize=n,i._wavRecorder=new qI({sampleRate:r}),i._wavStreamPlayer=new Wb({sampleRate:24e3}),i}return e.prototype.initialize=function(){return qa(this,void 0,Promise,function(){return Wa(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this._wavRecorder.begin()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return this._wavRecorder.listenForDeviceChange(null),this._wavRecorder.listenForDeviceChange(this._handleAvailableDevicesUpdated.bind(this)),this._wavRecorder.listenForDeviceErrors(null),this._wavRecorder.listenForDeviceErrors(this._handleDeviceError.bind(this)),[4,this._wavStreamPlayer.connect()];case 4:return n.sent(),this._initialized=!0,[2]}})})},e.prototype.connect=function(){return qa(this,void 0,Promise,function(){var n;return Wa(this,function(r){switch(r.label){case 0:return this._initialized?[3,2]:[4,this.initialize()];case 1:r.sent(),r.label=2;case 2:return n=this._wavRecorder.getStatus()=="recording",this._micEnabled&&!n?[4,this._startRecording()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this._camEnabled&&console.warn("WavMediaManager does not support video input."),[2]}})})},e.prototype.disconnect=function(){return qa(this,void 0,Promise,function(){return Wa(this,function(n){switch(n.label){case 0:return this._initialized?[4,this._wavRecorder.end()]:[2];case 1:return n.sent(),[4,this._wavStreamPlayer.interrupt()];case 2:return n.sent(),this._initialized=!1,[2]}})})},e.prototype.userStartedSpeaking=function(){return qa(this,void 0,Promise,function(){return Wa(this,function(n){return[2,this._wavStreamPlayer.interrupt()]})})},e.prototype.bufferBotAudio=function(n,r){return this._wavStreamPlayer.add16BitPCM(n,r)},e.prototype.getAllMics=function(){return this._wavRecorder.listDevices()},e.prototype.getAllCams=function(){return Promise.resolve([])},e.prototype.getAllSpeakers=function(){return Promise.resolve([])},e.prototype.updateMic=function(n){return qa(this,void 0,Promise,function(){var r,i,s,l;return Wa(this,function(u){switch(u.label){case 0:return r=this._wavRecorder.deviceSelection,this._wavRecorder.getStatus()==="ended"?[3,2]:[4,this._wavRecorder.end()];case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,6,,7]),[4,this._wavRecorder.begin(n)];case 3:return u.sent(),this._micEnabled?[4,this._startRecording()]:[3,5];case 4:u.sent(),u.label=5;case 5:return i=this._wavRecorder.deviceSelection,i&&r&&r.label!==i.label&&((l=(s=this._callbacks).onMicUpdated)===null||l===void 0||l.call(s,i)),[3,7];case 6:return u.sent(),[3,7];case 7:return[2]}})})},e.prototype.updateCam=function(n){},e.prototype.updateSpeaker=function(n){},Object.defineProperty(e.prototype,"selectedMic",{get:function(){var n;return(n=this._wavRecorder.deviceSelection)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedCam",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedSpeaker",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.enableMic=function(n){return qa(this,void 0,Promise,function(){var r=this;return Wa(this,function(i){switch(i.label){case 0:return this._micEnabled=n,this._wavRecorder.stream?(this._wavRecorder.stream.getAudioTracks().forEach(function(s){var l,u;s.enabled=n,n||(u=(l=r._callbacks).onTrackStopped)===null||u===void 0||u.call(l,s,pA())}),n?[4,this._startRecording()]:[3,2]):[2];case 1:return i.sent(),[3,4];case 2:return[4,this._wavRecorder.pause()];case 3:i.sent(),i.label=4;case 4:return[2]}})})},e.prototype.enableCam=function(n){console.warn("WavMediaManager does not support video input.")},e.prototype.enableScreenShare=function(n){console.warn("WavMediaManager does not support screen sharing.")},Object.defineProperty(e.prototype,"isCamEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMicEnabled",{get:function(){return this._micEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSharingScreen",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.tracks=function(){var n,r=(n=this._wavRecorder.stream)===null||n===void 0?void 0:n.getTracks()[0];return{local:r?{audio:r}:{}}},e.prototype._startRecording=function(){return qa(this,void 0,void 0,function(){var n,r=this,i,s,l;return Wa(this,function(u){switch(u.label){case 0:return[4,this._wavRecorder.record(function(d){var m;(m=r._userAudioCallback)===null||m===void 0||m.call(r,d.mono)},this._recorderChunkSize)];case 1:return u.sent(),n=(i=this._wavRecorder.stream)===null||i===void 0?void 0:i.getAudioTracks()[0],n&&((l=(s=this._callbacks).onTrackStarted)===null||l===void 0||l.call(s,n,pA())),[2]}})})},e.prototype._handleAvailableDevicesUpdated=function(n){var r,i,s,l;(i=(r=this._callbacks).onAvailableCamsUpdated)===null||i===void 0||i.call(r,n.filter(function(m){return m.kind==="videoinput"})),(l=(s=this._callbacks).onAvailableMicsUpdated)===null||l===void 0||l.call(s,n.filter(function(m){return m.kind==="audioinput"}));var u=n.find(function(m){return m.deviceId==="default"}),d=this._wavRecorder.deviceSelection;d&&(!n.some(function(m){return m.deviceId===d.deviceId})||d.deviceId==="default"&&d.label!==u?.label)&&this.updateMic("")},e.prototype._handleDeviceError=function(n){var r,i,s=n.devices,l=n.type,u=n.error,d=new Xt(s,l,u?.message,u?{sourceError:u}:void 0);(i=(r=this._callbacks).onDeviceError)===null||i===void 0||i.call(r,d)},e})(WI);var pA=function(){return{id:"local",name:"",local:!0}},B4=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),mr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function u(v){try{m(r.next(v))}catch(_){l(_)}}function d(v){try{m(r.throw(v))}catch(_){l(_)}}function m(v){v.done?s(v.value):i(v.value).then(u,d)}m((r=r.apply(t,[])).next())})},gr=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(m){return function(v){return d([m,v])}}function d(m){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(v){m=[6,v],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},U4=(function(t){B4(e,t);function e(n,r,i,s,l,u,d){n===void 0&&(n=!0),r===void 0&&(r=!0),l===void 0&&(l=void 0),u===void 0&&(u=24e3),d===void 0&&(d=24e3);var m,v=t.call(this)||this;return v._selectedCam={},v._selectedMic={},v._selectedSpeaker={},v._remoteAudioLevelInterval=null,v._recorderChunkSize=void 0,v._initialized=!1,v._connected=!1,v._currentAudioTrack=null,v._connectResolve=null,v.onTrackStartedCallback=i,v.onTrackStoppedCallback=s,v._recorderChunkSize=l,v._supportsScreenShare=!0,v._daily=(m=ox.getCallInstance())!==null&&m!==void 0?m:ox.createCallObject(),r&&(v._mediaStreamRecorder=new $4({sampleRate:u})),n&&(v._wavStreamPlayer=new Wb({sampleRate:d})),v._daily.on("track-started",v.handleTrackStarted.bind(v)),v._daily.on("track-stopped",v.handleTrackStopped.bind(v)),v._daily.on("available-devices-updated",v._handleAvailableDevicesUpdated.bind(v)),v._daily.on("selected-devices-updated",v._handleSelectedDevicesUpdated.bind(v)),v._daily.on("camera-error",v.handleDeviceError.bind(v)),v._daily.on("local-audio-level",v._handleLocalAudioLevel.bind(v)),v}return e.prototype.initialize=function(){return mr(this,void 0,Promise,function(){var n,r,i,s,l,u=this,d,m,v,_,E,P,C,S,x,O,j,$;return gr(this,function(D){switch(D.label){case 0:return this._initialized?(console.warn("DailyMediaManager already initialized"),[2]):[4,this._daily.startCamera({startVideoOff:!this._camEnabled,startAudioOff:!this._micEnabled,dailyConfig:{useDevicePreferenceCookies:!0}})];case 1:return n=D.sent(),[4,this._daily.enumerateDevices()];case 2:return r=D.sent().devices,i=r.filter(function(R){return R.kind==="videoinput"}),s=r.filter(function(R){return R.kind==="audioinput"}),l=r.filter(function(R){return R.kind==="audiooutput"}),(m=(d=this._callbacks).onAvailableCamsUpdated)===null||m===void 0||m.call(d,i),(_=(v=this._callbacks).onAvailableMicsUpdated)===null||_===void 0||_.call(v,s),(P=(E=this._callbacks).onAvailableSpeakersUpdated)===null||P===void 0||P.call(E,l),this._selectedCam=n.camera,(S=(C=this._callbacks).onCamUpdated)===null||S===void 0||S.call(C,n.camera),this._selectedMic=n.mic,(O=(x=this._callbacks).onMicUpdated)===null||O===void 0||O.call(x,n.mic),this._selectedSpeaker=n.speaker,($=(j=this._callbacks).onSpeakerUpdated)===null||$===void 0||$.call(j,n.speaker),this._daily.isLocalAudioLevelObserverRunning()?[3,4]:[4,this._daily.startLocalAudioLevelObserver(100)];case 3:D.sent(),D.label=4;case 4:return this._wavStreamPlayer?[4,this._wavStreamPlayer.connect()]:[3,6];case 5:D.sent(),this._remoteAudioLevelInterval||(this._remoteAudioLevelInterval=setInterval(function(){var R,U=u._wavStreamPlayer.getFrequencies(),G=0;!((R=U.values)===null||R===void 0)&&R.length&&(G=U.values.reduce(function(X,oe){return X+oe},0)/U.values.length),u._handleRemoteAudioLevel(G)},100)),D.label=6;case 6:return this._initialized=!0,[2]}})})},e.prototype.connect=function(){return mr(this,void 0,Promise,function(){var n=this;return gr(this,function(r){return this._connected?(console.warn("DailyMediaManager already connected"),[2]):(this._connected=!0,this._initialized?(this._micEnabled&&this._startRecording(),[2]):[2,new Promise(function(i){(function(){return mr(n,void 0,void 0,function(){return gr(this,function(s){switch(s.label){case 0:return this._connectResolve=i,[4,this.initialize()];case 1:return s.sent(),[2]}})})})()})])})})},e.prototype.disconnect=function(){return mr(this,void 0,Promise,function(){var n,r;return gr(this,function(i){switch(i.label){case 0:return this._remoteAudioLevelInterval&&clearInterval(this._remoteAudioLevelInterval),this._remoteAudioLevelInterval=null,this._daily.leave(),this._currentAudioTrack=null,[4,(n=this._mediaStreamRecorder)===null||n===void 0?void 0:n.end()];case 1:return i.sent(),(r=this._wavStreamPlayer)===null||r===void 0||r.interrupt(),this._initialized=!1,this._connected=!1,[2]}})})},e.prototype.userStartedSpeaking=function(){return mr(this,void 0,Promise,function(){var n;return gr(this,function(r){return[2,(n=this._wavStreamPlayer)===null||n===void 0?void 0:n.interrupt()]})})},e.prototype.bufferBotAudio=function(n,r){var i;return(i=this._wavStreamPlayer)===null||i===void 0?void 0:i.add16BitPCM(n,r)},e.prototype.getAllMics=function(){return mr(this,void 0,Promise,function(){var n;return gr(this,function(r){switch(r.label){case 0:return[4,this._daily.enumerateDevices()];case 1:return n=r.sent().devices,[2,n.filter(function(i){return i.kind==="audioinput"})]}})})},e.prototype.getAllCams=function(){return mr(this,void 0,Promise,function(){var n;return gr(this,function(r){switch(r.label){case 0:return[4,this._daily.enumerateDevices()];case 1:return n=r.sent().devices,[2,n.filter(function(i){return i.kind==="videoinput"})]}})})},e.prototype.getAllSpeakers=function(){return mr(this,void 0,Promise,function(){var n;return gr(this,function(r){switch(r.label){case 0:return[4,this._daily.enumerateDevices()];case 1:return n=r.sent().devices,[2,n.filter(function(i){return i.kind==="audiooutput"})]}})})},e.prototype.updateMic=function(n){var r=this;this._daily.setInputDevicesAsync({audioDeviceId:n}).then(function(i){r._selectedMic=i.mic})},e.prototype.updateCam=function(n){var r=this;this._daily.setInputDevicesAsync({videoDeviceId:n}).then(function(i){r._selectedCam=i.camera})},e.prototype.updateSpeaker=function(n){return mr(this,void 0,Promise,function(){var r,i,s,l,u=this,d,m;return gr(this,function(v){switch(v.label){case 0:return n!=="default"&&this._selectedSpeaker.deviceId===n?[2]:(r=n,r!=="default"?[3,2]:[4,this.getAllSpeakers()]);case 1:if(i=v.sent(),s=i.find(function(_){return _.deviceId==="default"}),!s)return console.warn("No default speaker found"),[2];i.splice(i.indexOf(s),1),l=i.find(function(_){return s.label.includes(_.label)}),r=(d=l?.deviceId)!==null&&d!==void 0?d:n,v.label=2;case 2:return(m=this._wavStreamPlayer)===null||m===void 0||m.updateSpeaker(r).then(function(){var _,E;u._selectedSpeaker={deviceId:n},(E=(_=u._callbacks).onSpeakerUpdated)===null||E===void 0||E.call(_,u._selectedSpeaker)}),[2]}})})},Object.defineProperty(e.prototype,"selectedMic",{get:function(){return this._selectedMic},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedCam",{get:function(){return this._selectedCam},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedSpeaker",{get:function(){return this._selectedSpeaker},enumerable:!1,configurable:!0}),e.prototype.enableMic=function(n){return mr(this,void 0,Promise,function(){var r;return gr(this,function(i){return this._micEnabled=n,!((r=this._daily.participants())===null||r===void 0)&&r.local?(this._daily.setLocalAudio(n),this._mediaStreamRecorder&&(n?this._mediaStreamRecorder.getStatus()==="paused"&&this._startRecording():this._mediaStreamRecorder.getStatus()==="recording"&&this._mediaStreamRecorder.pause()),[2]):[2]})})},e.prototype.enableCam=function(n){this._camEnabled=n,this._daily.setLocalVideo(n)},e.prototype.enableScreenShare=function(n){n?this._daily.startScreenShare():this._daily.stopScreenShare()},Object.defineProperty(e.prototype,"isCamEnabled",{get:function(){return this._daily.localVideo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMicEnabled",{get:function(){return this._daily.localAudio()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSharingScreen",{get:function(){return this._daily.localScreenAudio()||this._daily.localScreenVideo()},enumerable:!1,configurable:!0}),e.prototype.tracks=function(){var n,r,i,s,l,u,d,m,v,_,E,P,C=this._daily.participants();return{local:{audio:(i=(r=(n=C?.local)===null||n===void 0?void 0:n.tracks)===null||r===void 0?void 0:r.audio)===null||i===void 0?void 0:i.persistentTrack,screenAudio:(u=(l=(s=C?.local)===null||s===void 0?void 0:s.tracks)===null||l===void 0?void 0:l.screenAudio)===null||u===void 0?void 0:u.persistentTrack,screenVideo:(v=(m=(d=C?.local)===null||d===void 0?void 0:d.tracks)===null||m===void 0?void 0:m.screenVideo)===null||v===void 0?void 0:v.persistentTrack,video:(P=(E=(_=C?.local)===null||_===void 0?void 0:_.tracks)===null||E===void 0?void 0:E.video)===null||P===void 0?void 0:P.persistentTrack}}},e.prototype._startRecording=function(){var n=this;if(!(!this._connected||!this._mediaStreamRecorder))try{this._mediaStreamRecorder.record(function(i){n._userAudioCallback(i.mono)},this._recorderChunkSize)}catch(i){var r=i;r.message.includes("Already recording")||console.error("Error starting recording",i)}},e.prototype._handleAvailableDevicesUpdated=function(n){var r,i,s,l,u,d;(i=(r=this._callbacks).onAvailableCamsUpdated)===null||i===void 0||i.call(r,n.availableDevices.filter(function(m){return m.kind==="videoinput"})),(l=(s=this._callbacks).onAvailableMicsUpdated)===null||l===void 0||l.call(s,n.availableDevices.filter(function(m){return m.kind==="audioinput"})),(d=(u=this._callbacks).onAvailableSpeakersUpdated)===null||d===void 0||d.call(u,n.availableDevices.filter(function(m){return m.kind==="audiooutput"})),this._selectedSpeaker.deviceId==="default"&&this.updateSpeaker("default")},e.prototype._handleSelectedDevicesUpdated=function(n){var r,i,s,l,u,d;((r=this._selectedCam)===null||r===void 0?void 0:r.deviceId)!==n.devices.camera&&(this._selectedCam=n.devices.camera,(s=(i=this._callbacks).onCamUpdated)===null||s===void 0||s.call(i,n.devices.camera)),((l=this._selectedMic)===null||l===void 0?void 0:l.deviceId)!==n.devices.mic&&(this._selectedMic=n.devices.mic,(d=(u=this._callbacks).onMicUpdated)===null||d===void 0||d.call(u,n.devices.mic))},e.prototype.handleDeviceError=function(n){var r,i,s=function(l){var u=[];switch(l.type){case"permissions":return l.blockedMedia.forEach(function(d){u.push(d==="video"?"cam":"mic")}),new Xt(u,l.type,l.msg,{blockedBy:l.blockedBy});case"not-found":return l.missingMedia.forEach(function(d){u.push(d==="video"?"cam":"mic")}),new Xt(u,l.type,l.msg);case"constraints":return l.failedMedia.forEach(function(d){u.push(d==="video"?"cam":"mic")}),new Xt(u,l.type,l.msg,{reason:l.reason});case"cam-in-use":return u.push("cam"),new Xt(u,"in-use",l.msg);case"mic-in-use":return u.push("mic"),new Xt(u,"in-use",l.msg);case"cam-mic-in-use":return u.push("cam"),u.push("mic"),new Xt(u,"in-use",l.msg);case"undefined-mediadevices":case"unknown":default:return u.push("cam"),u.push("mic"),new Xt(u,l.type,l.msg)}};(i=(r=this._callbacks).onDeviceError)===null||i===void 0||i.call(r,s(n.error))},e.prototype._handleLocalAudioLevel=function(n){var r,i;(i=(r=this._callbacks).onLocalAudioLevel)===null||i===void 0||i.call(r,n.audioLevel)},e.prototype._handleRemoteAudioLevel=function(n){var r,i;(i=(r=this._callbacks).onRemoteAudioLevel)===null||i===void 0||i.call(r,n,q4())},e.prototype.handleTrackStarted=function(n){return mr(this,void 0,void 0,function(){var r,i,s,l,u,d;return gr(this,function(m){switch(m.label){case 0:if(!(!((s=n.participant)===null||s===void 0)&&s.local))return[2];if(n.track.kind!=="audio")return[3,15];if(!this._mediaStreamRecorder)return[3,14];switch(r=this._mediaStreamRecorder.getStatus(),i=r,i){case"ended":return[3,1];case"paused":return[3,5];case"recording":return[3,6]}return[3,6];case 1:return m.trys.push([1,3,,4]),[4,this._mediaStreamRecorder.begin(n.track)];case 2:return m.sent(),this._connected&&(this._startRecording(),this._connectResolve&&(this._connectResolve(),this._connectResolve=null)),[3,4];case 3:return m.sent(),[3,4];case 4:return[3,14];case 5:return this._startRecording(),[3,14];case 6:return this._currentAudioTrack===n.track?[3,12]:[4,this._mediaStreamRecorder.end()];case 7:m.sent(),m.label=8;case 8:return m.trys.push([8,10,,11]),[4,this._mediaStreamRecorder.begin(n.track)];case 9:return m.sent(),this._startRecording(),[3,11];case 10:return m.sent(),[3,11];case 11:return[3,13];case 12:console.warn("track-started event received for current track and already recording"),m.label=13;case 13:return[3,14];case 14:this._currentAudioTrack=n.track,m.label=15;case 15:return(u=(l=this._callbacks).onTrackStarted)===null||u===void 0||u.call(l,n.track,n.participant?mA(n.participant):void 0),(d=this.onTrackStartedCallback)===null||d===void 0||d.call(this,n),[2]}})})},e.prototype.handleTrackStopped=function(n){var r,i,s,l;!((r=n.participant)===null||r===void 0)&&r.local&&(n.track.kind==="audio"&&this._mediaStreamRecorder&&this._mediaStreamRecorder.getStatus()==="recording"&&this._mediaStreamRecorder.pause(),(s=(i=this._callbacks).onTrackStopped)===null||s===void 0||s.call(i,n.track,n.participant?mA(n.participant):void 0),(l=this.onTrackStoppedCallback)===null||l===void 0||l.call(this,n))},e})(WI),mA=function(t){return{id:t.user_id,local:t.local,name:t.user_name}},q4=function(){return{id:"bot",local:!1,name:"Bot"}},W4={};M4(W4,"SmallWebRTCTransport",()=>zI);class Zs{constructor(e,n){this.type="trackStatus",this.receiver_index=e,this.enabled=n}}class V4{constructor(e){this.track=e,this.status="new"}}const z4="renegotiate",H4="peerLeft",VI="signalling";class J4{constructor(e){this.type=VI,this.message=e}}const zv=0,Hv=1,Jv=2;class zI extends nb{constructor(e={}){super(),this._webrtcRequest=null,this._connectResolved=null,this._connectFailed=null,this.pc=null,this.dc=null,this.audioCodec=null,this.videoCodec=null,this.pc_id=null,this.reconnectionAttempts=0,this.maxReconnectionAttempts=3,this.isReconnecting=!1,this.keepAliveInterval=null,this._iceServers=[],this._incomingTracks=new Map,this._canSendIceCandidates=!1,this._candidateQueue=[],this.__flushTimeout=null,this._flushDelay=200,this._iceServers=e.iceServers??[],this._waitForICEGathering=e.waitForICEGathering??!1,this.audioCodec=e.audioCodec??null,this.videoCodec=e.videoCodec??null,this._webrtcRequest=this._resolveRequestInfo(e),this.mediaManager=e.mediaManager||new U4(!1,!1,async n=>{this.pc&&(n.type=="audio"?(he.info("SmallWebRTCMediaManager replacing audio track"),await this.getAudioTransceiver().sender.replaceTrack(n.track)):n.type=="video"?(he.info("SmallWebRTCMediaManager replacing video track"),await this.getVideoTransceiver().sender.replaceTrack(n.track)):n.type=="screenVideo"?(he.info("SmallWebRTCMediaManager replacing screen video track"),await this.getScreenVideoTransceiver().sender.replaceTrack(n.track)):n.type=="screenAudio"&&he.info("SmallWebRTCMediaManager does not yet support screen audio. Track is ignored."))},n=>he.debug("SmallWebRTCMediaManager Track stopped:",n))}initialize(e,n){this._options=e,this._callbacks=e.callbacks??{},this._onMessage=n,this.mediaManager.setClientOptions(e),this.state="disconnected",he.debug("[RTVI Transport] Initialized")}async initDevices(){this.state="initializing",await this.mediaManager.initialize(),this.state="initialized"}setAudioCodec(e){this.audioCodec=e}setVideoCodec(e){this.videoCodec=e}_resolveRequestInfo(e){let n=null;const r=e.webrtcUrl??e.connectionUrl??null;if(r){const i=e.webrtcUrl?"webrtcUrl":"connectionUrl";he.warn(`${i} is deprecated. Use webrtcRequestParams instead.`),e.webrtcRequestParams?he.warn(`Both ${i} and webrtcRequestParams provided. Using webrtcRequestParams.`):typeof r=="string"?n={endpoint:r}:he.error(`Invalid ${i} provided in params. Ignoring.`)}return e.webrtcRequestParams&&(Z_(e.webrtcRequestParams)?n=e.webrtcRequestParams:he.error("Invalid webrtcRequestParams provided in params. Ignoring.")),n??this._webrtcRequest}_getStartEndpointAsString(){const e=this.startBotParams?.endpoint;switch(typeof e){case"string":return e;case"object":if(e instanceof URL)return e.toString();if(e instanceof Request)return e.url}}_isValidObject(e){if(e==null)return!1;if(typeof e!="object")throw new Tn("Invalid connection parameters");return!0}_fixConnectionOptionsParams(e,n){const r=l=>l.replace(/_([a-z,A-Z])/g,(u,d)=>d.toUpperCase());let i={},s;for(const[l,u]of Object.entries(e)){const d=r(l);if(d==="sessionId"){s=u;continue}if(!n.includes(d)){he.warn(`Unrecognized connection parameter: ${l}. Ignored.`);continue}i[d]=u}return s&&this._shouldUseStartBotFallback(i)&&(i.webrtcRequestParams=this._buildRequestParamsBasedOnStartBotParams(s)),i}_shouldUseStartBotFallback(e){const n=!!this._getStartEndpointAsString(),r=!e.webrtcUrl&&!e.connectionUrl&&!e.webrtcRequestParams;return n&&r}_buildRequestParamsBasedOnStartBotParams(e){return{endpoint:this._getStartEndpointAsString().replace("/start",`/sessions/${e}/api/offer`),headers:this.startBotParams.headers}}_validateConnectionParams(e){if(!this._isValidObject(e))return;const n=e,r=["webrtcUrl","connectionUrl","webrtcRequestParams","iceConfig"],i=this._fixConnectionOptionsParams(n,r),s=this._resolveRequestInfo(i);if(s&&(i.webrtcRequestParams=s),delete i.connectionUrl,delete i.webrtcUrl,Object.keys(i).length!==0)return i}async _connect(e){if(!this._abortController?.signal.aborted){if(this.state="connecting",e?.iceConfig?.iceServers&&(this._iceServers=e?.iceConfig?.iceServers),this._webrtcRequest=e?.webrtcRequestParams??this._webrtcRequest,!this._webrtcRequest)throw he.error("No request details provided for WebRTC connection"),this.state="error",new Zd;await this.mediaManager.connect(),await this.startNewPeerConnection(),!this._abortController?.signal.aborted&&(this.dc?.readyState!=="open"&&await new Promise((n,r)=>{this._connectResolved=n,this._connectFailed=r}),this.state="connected",this._callbacks.onConnected?.())}}syncTrackStatus(){this.sendSignallingMessage(new Zs(zv,this.mediaManager.isMicEnabled)),this.sendSignallingMessage(new Zs(Hv,this.mediaManager.isCamEnabled)),this.mediaManager.supportsScreenShare&&this.sendSignallingMessage(new Zs(Jv,this.mediaManager.isSharingScreen&&!!this.mediaManager.tracks().local.screenVideo))}sendReadyMessage(){this.state="ready",this.sendMessage(rn.clientReady())}sendMessage(e){if(!this.dc||this.dc.readyState!=="open"){he.warn(`Datachannel is not ready. Message not sent: ${e}`);return}this.dc?.send(JSON.stringify(e))}sendSignallingMessage(e){if(!this.dc||this.dc.readyState!=="open"){he.warn(`Datachannel is not ready. Message not sent: ${e}`);return}const n=new J4(e);this.dc?.send(JSON.stringify(n))}async _disconnect(){this.state="disconnecting",await this.stop(),this.state="disconnected"}createPeerConnection(){const e={iceServers:this._iceServers};let n=new RTCPeerConnection(e);return n.onicecandidate=async r=>{r.candidate?(he.debug("New ICE candidate:",r.candidate),await this.sendIceCandidate(r.candidate)):he.info("All ICE candidates have been sent.")},n.addEventListener("icegatheringstatechange",()=>{n.iceGatheringState==="complete"&&n.iceConnectionState==="checking"&&this._waitForICEGathering&&(he.info("Ice gathering completed and connection is still checking. Trying to reconnect."),this.attemptReconnection(!1))}),n.addEventListener("iceconnectionstatechange",()=>this.handleICEConnectionStateChange()),he.debug(`iceConnectionState: ${n.iceConnectionState}`),n.addEventListener("signalingstatechange",()=>{he.debug(`signalingState: ${this.pc.signalingState}`),this.pc.signalingState=="stable"&&this.handleReconnectionCompleted()}),he.debug(`signalingState: ${n.signalingState}`),n.addEventListener("track",r=>{const i=r.transceiver?r.transceiver.mid==="0"?"microphone":r.transceiver.mid==="1"?"camera":"screenVideo":null;if(!i){he.warn("Received track without transceiver mid",r);return}he.debug(`Received new remote track for ${i}`),this._incomingTracks.set(i,new V4(r.track)),r.track.addEventListener("unmute",()=>{const s=this._incomingTracks.get(i);s&&(he.debug(`Remote track unmuted: ${i}`),s.status="unmuted",this._callbacks.onTrackStarted?.(r.track))}),r.track.addEventListener("mute",()=>{const s=this._incomingTracks.get(i);!s||s.status!=="unmuted"||(he.debug(`Remote track muted: ${i}`),s.status="muted",this._callbacks.onTrackStopped?.(r.track))}),r.track.addEventListener("ended",()=>{he.debug(`Remote track ended: ${i}`),this._callbacks.onTrackStopped?.(r.track),this._incomingTracks.delete(i)})}),n}handleICEConnectionStateChange(){this.pc&&(he.debug(`ICE Connection State: ${this.pc.iceConnectionState}`),this.pc.iceConnectionState==="failed"?(he.debug("ICE connection failed, attempting restart."),this.attemptReconnection(!0)):this.pc.iceConnectionState==="disconnected"&&setTimeout(()=>{this.pc?.iceConnectionState==="disconnected"&&(he.debug("Still disconnected, attempting reconnection."),this.attemptReconnection(!0))},5e3))}handleReconnectionCompleted(){this.reconnectionAttempts=0,this.isReconnecting=!1}async attemptReconnection(e=!1){if(this.isReconnecting){he.debug("Reconnection already in progress, skipping.");return}if(this.reconnectionAttempts>=this.maxReconnectionAttempts){he.debug("Max reconnection attempts reached. Stopping transport."),await this.stop();return}if(this.isReconnecting=!0,this.reconnectionAttempts++,he.debug(`Reconnection attempt ${this.reconnectionAttempts}...`),e){const n=this.pc;await this.startNewPeerConnection(e),n&&(he.debug("closing old peer connection"),this.closePeerConnection(n))}else await this.negotiate()}async waitForIceGatheringComplete(e=2e3){const n=this.pc;if(n.iceGatheringState!=="complete")return he.info("Waiting for ICE gathering to complete. Current state:",n.iceGatheringState),new Promise(r=>{let i;const s=()=>{n.removeEventListener("icegatheringstatechange",l),clearTimeout(i)},l=()=>{he.debug("icegatheringstatechange:",n.iceGatheringState),n.iceGatheringState==="complete"&&(s(),r())},u=()=>{he.debug(`ICE gathering timed out after ${e} ms.`),s(),r()};n.addEventListener("icegatheringstatechange",l),i=setTimeout(u,e),l()})}async sendIceCandidate(e){if(!this._webrtcRequest){he.error("No request details provided for WebRTC connection");return}this._candidateQueue.push(e),this.__flushTimeout||(this.__flushTimeout=setTimeout(()=>this.flushIceCandidates(),this._flushDelay))}async flushIceCandidates(){if(this.__flushTimeout=null,!this._webrtcRequest||this._candidateQueue.length===0||!this._canSendIceCandidates)return;const e=this._candidateQueue.splice(0,this._candidateQueue.length);try{const n=new Headers({"Content-Type":"application/json",...Object.fromEntries((this._webrtcRequest.headers??new Headers).entries())}),r={pc_id:this.pc_id,candidates:e.map(i=>({candidate:i.candidate,sdp_mid:i.sdpMid,sdp_mline_index:i.sdpMLineIndex}))};await fetch(this._webrtcRequest.endpoint,{method:"PATCH",headers:n,body:JSON.stringify(r)})}catch(n){he.error(`Failed to send ICE candidate: ${n}`)}}async negotiate(e=!1){if(!this.pc)return Promise.reject("Peer connection is not initialized");if(!this._webrtcRequest)throw he.error("No request details provided for WebRTC connection"),this.state="error",new Zd;try{const n=await this.pc.createOffer();await this.pc.setLocalDescription(n),this._waitForICEGathering&&await this.waitForIceGatheringComplete();let r=this.pc.localDescription;this.audioCodec&&this.audioCodec!=="default"&&(r.sdp=this.sdpFilterCodec("audio",this.audioCodec,r.sdp)),this.videoCodec&&this.videoCodec!=="default"&&(r.sdp=this.sdpFilterCodec("video",this.videoCodec,r.sdp)),he.debug(`Will create offer for peerId: ${this.pc_id}`);const i=x4(this._webrtcRequest),s={sdp:r.sdp,type:r.type,pc_id:this.pc_id,restart_pc:e};this._webrtcRequest.requestData&&(s.requestData=this._webrtcRequest.requestData),i.requestData=s;const l=await eb(i);this.pc_id=l.pc_id,he.debug(`Received answer for peer connection id ${l.pc_id}`),await this.pc.setRemoteDescription(l)}catch(n){he.debug(`Reconnection attempt ${this.reconnectionAttempts} failed: ${n}`),this.isReconnecting=!1,setTimeout(()=>this.attemptReconnection(!0),2e3)}}addInitialTransceivers(){this.pc.addTransceiver("audio",{direction:"sendrecv"}),this.pc.addTransceiver("video",{direction:"sendrecv"}),this.mediaManager.supportsScreenShare&&this.pc.addTransceiver("video",{direction:"sendonly"})}getAudioTransceiver(){return this.pc.getTransceivers()[zv]}getVideoTransceiver(){return this.pc.getTransceivers()[Hv]}getScreenVideoTransceiver(){return this.pc.getTransceivers()[Jv]}async startNewPeerConnection(e=!1){this.pc=this.createPeerConnection(),this.addInitialTransceivers(),this.dc=this.createDataChannel("chat",{ordered:!0}),await this.addUserMedia(),await this.negotiate(e),this._canSendIceCandidates=!0,await this.flushIceCandidates()}async addUserMedia(){he.debug(`addUserMedia this.tracks(): ${this.tracks()}`);let e=this.tracks().local.audio;he.debug(`addUserMedia audioTrack: ${e}`),e&&await this.getAudioTransceiver().sender.replaceTrack(e);let n=this.tracks().local.video;he.debug(`addUserMedia videoTrack: ${n}`),n&&await this.getVideoTransceiver().sender.replaceTrack(n),this.mediaManager.supportsScreenShare&&(n=this.tracks().local.screenVideo,he.debug(`addUserMedia screenVideoTrack: ${n}`),n&&await this.getScreenVideoTransceiver().sender.replaceTrack(n))}handleMessage(e){try{const n=JSON.parse(e);he.debug("received message:",n),n.type===VI?this.handleSignallingMessage(n):n.label==="rtvi-ai"&&this._onMessage({id:n.id,type:n.type,data:n.data})}catch(n){he.error("Failed to parse JSON message:",n)}}async handleSignallingMessage(e){const n=e;switch(n.message.type){case z4:this.attemptReconnection(!1);break;case H4:this.disconnect();break;default:he.warn("Unknown signalling message:",n.message)}}createDataChannel(e,n){const r=this.pc.createDataChannel(e,n);return r.addEventListener("close",()=>{he.debug("datachannel closed"),this.keepAliveInterval&&(clearInterval(this.keepAliveInterval),this.keepAliveInterval=null)}),r.addEventListener("open",()=>{he.debug("datachannel opened"),this._connectResolved&&(this.syncTrackStatus(),this._connectResolved(),this._connectResolved=null,this._connectFailed=null),this.keepAliveInterval=setInterval(()=>{const i="ping: "+new Date().getTime();r.send(i)},1e3)}),r.addEventListener("message",i=>{let s=i.data;this.handleMessage(s)}),r}closePeerConnection(e){e.getTransceivers().forEach(n=>{n.stop&&n.stop()}),e.getSenders().forEach(n=>{n.track?.stop()}),e.close()}async stop(){if(!this.pc){he.debug("Peer connection is already closed or null.");return}this.dc&&this.dc.close(),this.closePeerConnection(this.pc),this.pc=null,await this.mediaManager.disconnect(),this.pc_id=null,this.reconnectionAttempts=0,this.isReconnecting=!1,this._callbacks.onDisconnected?.(),this._candidateQueue=[],this._canSendIceCandidates=!1,this._connectFailed&&this._connectFailed(),this._connectFailed=null,this._connectResolved=null}getAllMics(){return this.mediaManager.getAllMics()}getAllCams(){return this.mediaManager.getAllCams()}getAllSpeakers(){return this.mediaManager.getAllSpeakers()}async updateMic(e){return this.mediaManager.updateMic(e)}updateCam(e){return this.mediaManager.updateCam(e)}updateSpeaker(e){return this.mediaManager.updateSpeaker(e)}get selectedMic(){return this.mediaManager.selectedMic}get selectedCam(){return this.mediaManager.selectedCam}get selectedSpeaker(){return this.mediaManager.selectedSpeaker}set iceServers(e){this._iceServers=e}get iceServers(){return this._iceServers}enableMic(e){this.mediaManager.enableMic(e),this.sendSignallingMessage(new Zs(zv,e))}enableCam(e){this.mediaManager.enableCam(e),this.sendSignallingMessage(new Zs(Hv,e))}async enableScreenShare(e){if(!this.mediaManager.supportsScreenShare)throw new OO("enableScreenShare","mediaManager","Screen sharing is not supported by the current media manager");this.mediaManager.enableScreenShare(e),this.sendSignallingMessage(new Zs(Jv,e))}get isCamEnabled(){return this.mediaManager.isCamEnabled}get isMicEnabled(){return this.mediaManager.isMicEnabled}get isSharingScreen(){return this.mediaManager.isSharingScreen}get state(){return this._state}set state(e){this._state!==e&&(this._state=e,this._callbacks.onTransportStateChanged?.(e))}tracks(){return this.mediaManager.tracks()}sdpFilterCodec(e,n,r){const i=[],s=new RegExp("a=fmtp:(\\d+) apt=(\\d+)\\r$"),l=new RegExp("a=rtpmap:([0-9]+) "+this.escapeRegExp(n)),u=new RegExp("(m="+e+" .*?)( ([0-9]+))*\\s*$"),d=r.split(`
`);let m=!1;for(let E=0;E<d.length;E++)if(d[E].startsWith("m="+e+" ")?m=!0:d[E].startsWith("m=")&&(m=!1),m){const P=d[E].match(l);P&&i.push(parseInt(P[1]));const C=d[E].match(s);C&&i.includes(parseInt(C[2]))&&i.push(parseInt(C[1]))}const v="a=(fmtp|rtcp-fb|rtpmap):([0-9]+)";let _="";m=!1;for(let E=0;E<d.length;E++)if(d[E].startsWith("m="+e+" ")?m=!0:d[E].startsWith("m=")&&(m=!1),m){const P=d[E].match(v);if(P&&!i.includes(parseInt(P[2])))continue;d[E].match(u)?_+=d[E].replace(u,"$1 "+i.join(" "))+`
`:_+=d[E]+`
`}else _+=d[E]+`
`;return _}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}zI.SERVICE_NAME="small-webrtc-transport";const G4=JSON.parse(`[{"subTitle":"Backend Development","duration_minutes":50,"difficulty":"Medium","declared_question_count":12,"description":"","questions":["Describe the most complex backend system you've built or significantly contributed to. What were the key technical challenges?","How do you design a RESTful API? What are the principles of good API design you follow?","Explain the difference between SQL and NoSQL databases. Provide a specific example where you would choose one over the other.","What is middleware in a web framework like Express or Django? Give an example of how you've used it.","How would you implement user authentication and authorization? Compare session-based authentication with token-based (e.g., JWT).","Describe a time you had to optimize a slow database query. What steps did you take to identify and fix the bottleneck?","What is the purpose of a message queue (like RabbitMQ or Kafka) in a backend architecture?","Discuss the trade-offs between monolithic and microservices architectures.","How do you handle error logging and monitoring in a production environment?","Explain the concept of database indexing. Why is it important for performance?","How do you ensure the security of your backend services against common vulnerabilities like SQL injection or XSS?","What is your approach to testing in the backend? Differentiate between unit, integration, and end-to-end tests."],"question_count":12},{"subTitle":"Blockchain Development","duration_minutes":75,"difficulty":"Hard","declared_question_count":16,"description":"","questions":["Explain the consensus mechanisms Proof of Work (PoW) and Proof of Stake (PoS). What are their security and scalability trade-offs?","Walk me through the lifecycle of a transaction on the Ethereum network, from creation to block inclusion.","Describe a security vulnerability you've encountered or studied in smart contracts, such as reentrancy or an integer overflow. How would you prevent it?","How do you manage state and storage in a smart contract efficiently, considering gas costs?","What are ERC-20, ERC-721, and ERC-1155 token standards? When would you use each?","Design a simple smart contract for a decentralized voting system. What are the key functions and state variables you would include?","Explain what Oracles are in the context of blockchain and why they are necessary for many dApps.","What is the difference between a layer-1 and a layer-2 scaling solution? Give an example of each.","How would you architect a system for off-chain data storage that needs to interact with an on-chain smart contract?","Describe the architecture of a DeFi protocol you find interesting, such as a lending platform (e.g., Aave) or a decentralized exchange (e.g., Uniswap).","What tools do you use for smart contract development, testing, and deployment (e.g., Hardhat, Truffle, Foundry)?","How do you handle upgradability for smart contracts? Discuss patterns like the Proxy pattern.","Explain what Miner Extractable Value (MEV) is and how it can impact dApp users.","What is a \\"state channel\\" and how can it be used to improve the scalability of a blockchain application?","How do you ensure your dApp's frontend interacts reliably with the blockchain, handling things like network latency and transaction confirmations?","Where do you see the future of decentralized identity and self-sovereign identity (SSI) heading?"],"question_count":16},{"subTitle":"Cloud Engineering","duration_minutes":70,"difficulty":"Hard","declared_question_count":15,"description":"","questions":["Design a highly available, scalable, and fault-tolerant architecture on AWS or Azure for a popular e-commerce website. Justify your component choices.","Explain the concept of Infrastructure as Code (IaC). What are the benefits, and what tools (e.g., Terraform, CloudFormation) have you used?","What is the difference between a container (e.g., Docker) and a virtual machine? Why has containerization become so popular?","Describe your experience with a container orchestration tool like Kubernetes. What are Pods, Services, and Deployments?","How would you design a multi-region disaster recovery strategy for a critical application?","Explain the Shared Responsibility Model in a cloud provider like AWS. Where does the provider's responsibility end and the customer's begin?","You've noticed a significant and unexpected increase in your monthly cloud bill. How would you investigate the cause?","Compare and contrast different cloud storage options, such as object storage (S3), block storage (EBS), and file storage (EFS).","How do you implement security best practices in the cloud? Discuss IAM roles, security groups, and network ACLs.","What is a VPC (Virtual Private Cloud)? Why is it fundamental for network security in the cloud?","Explain the concept of a serverless architecture (e.g., AWS Lambda, Azure Functions). What are its pros and cons?","How do you set up monitoring and alerting for a cloud-based application to ensure high uptime?","What is a Content Delivery Network (CDN), and how does it improve application performance?","Describe a situation where you had to migrate a service from an on-premise data center to the cloud. What were the biggest challenges?","How do you manage secrets (API keys, database credentials) in a cloud environment securely?"],"question_count":15},{"subTitle":"DevOps Engineering","duration_minutes":60,"difficulty":"Hard","declared_question_count":15,"description":"","questions":["Describe your ideal CI/CD pipeline. What are the key stages, and what tools would you use for each?","Explain the concept of Infrastructure as Code (IaC). How does it support DevOps principles?","How do you use containerization (e.g., Docker) and orchestration (e.g., Kubernetes) to improve deployment workflows?","You're tasked with improving the reliability of a production system. What observability pillars (metrics, logs, traces) would you focus on implementing first?","What is your strategy for managing secrets and configuration across different environments (dev, staging, prod)?","A developer reports that a recent deployment has caused a critical bug in production. Walk me through your rollback strategy.","Explain the difference between blue-green deployment and canary releases. When would you use one over the other?","How would you automate the process of setting up a new development environment for a new team member?","What are your thoughts on GitOps as a methodology for managing infrastructure and applications?","How do you approach security in a DevOps pipeline (DevSecOps)? Where would you integrate security checks?","Describe a time you had to troubleshoot a complex production issue that involved multiple services. How did you diagnose the root cause?","What is the role of a service mesh (like Istio or Linkerd) in a microservices architecture?","How do you manage infrastructure cost and optimize resource utilization in a cloud environment?","Explain the concept of idempotency and why it's crucial for automation scripts.","How do you foster a culture of collaboration and shared ownership between development and operations teams?"],"question_count":15},{"subTitle":"Frontend Development","duration_minutes":45,"difficulty":"Easy","declared_question_count":9,"description":"","questions":["Can you explain the difference between null, undefined, and undeclared in JavaScript?","What is the CSS box model?","Describe the difference between == and === in JavaScript.","What is your experience with a modern JavaScript framework like React, Vue, or Angular? Which one do you prefer and why?","How do you ensure your web application is responsive and works well on different devices and screen sizes?","What are semantic HTML tags, and why are they important for accessibility and SEO?","Explain what a closure is in JavaScript with a simple code example.","How do you optimize a website's loading performance?","Tell me about a frontend project you are proud of. What was your role, and what did you learn?"],"question_count":9},{"subTitle":"Full Stack Development","duration_minutes":75,"difficulty":"Hard","declared_question_count":16,"description":"","questions":["Design a full-stack architecture for a real-time chat application. Describe the frontend, backend, database, and communication protocol you would use.","Explain the end-to-end process of a user request, from the browser to the database and back.","Discuss the pros and cons of different architectural patterns, such as server-side rendering (SSR), client-side rendering (CSR), and static site generation (SSG).","How would you implement secure user authentication and session management in a web application?","Describe your experience with both SQL and NoSQL databases. When would you choose one over the other for a project?","Walk me through building a CI/CD pipeline for a full-stack application.","How do you manage state in a complex frontend application? Compare different state management libraries (e.g., Redux, MobX, Vuex).","What are some strategies for optimizing the performance of a full-stack application, considering both frontend and backend?","How do you approach API design for consumption by a frontend client? Discuss REST vs. GraphQL.","What are WebSockets, and how are they different from traditional HTTP requests? When would you use them?","Describe a complex technical problem you solved that involved both frontend and backend components.","How do you handle security across the full stack, from preventing XSS on the frontend to SQL injection on the backend?","How do you implement effective caching strategies (browser, CDN, server-side)?","What is your process for debugging an issue that could be in the frontend, backend, or database?","How do you keep up with the rapidly evolving technologies in the full-stack ecosystem?","You need to build a feature that requires processing a large file uploaded by a user. How would you design this to be efficient and not block the server?"],"question_count":16},{"subTitle":"Game Development","duration_minutes":60,"difficulty":"Medium","declared_question_count":13,"description":"","questions":["Describe the main components of a game engine like Unity or Unreal.","What is the game loop? Explain its main stages.","How do you handle player input across different platforms (e.g., keyboard, controller, touch screen)?","Explain the difference between a vertex shader and a pixel (or fragment) shader.","How would you optimize a game's performance to maintain a consistent frame rate?","What is a state machine, and how would you use it to manage character animations or AI behavior?","Describe a physics-based feature you've implemented, such as collision detection or character movement.","How do you manage game assets (models, textures, sounds) within a project?","Explain the concept of object pooling and why it's important for performance.","How would you design a simple quest system for an RPG?","What strategies would you use for debugging a complex gameplay bug?","Tell me about a game you worked on. What was the most challenging technical problem you solved?","How do you approach designing and implementing user interfaces (UI) in a game?"],"question_count":13},{"subTitle":"Mobile Development","duration_minutes":45,"difficulty":"Medium","declared_question_count":12,"description":"","questions":["Describe the lifecycle of an Activity in Android or a ViewController in iOS.","How do you handle background tasks and ensure they don't negatively impact battery life?","What is your approach to managing network requests and handling offline states in a mobile app?","How do you persist data locally on a mobile device? Compare different options (e.g., SharedPreferences/UserDefaults, SQLite, Realm).","What is your experience with declarative UI frameworks like Jetpack Compose or SwiftUI? How do they compare to traditional UI development?","How do you manage dependencies in a mobile project?","Describe a time you had to optimize an app for performance. What tools and techniques did you use?","What is the difference between native, hybrid, and cross-platform mobile development? What are the pros and cons of each?","How do you ensure a consistent user experience across different screen sizes and device models?","What is your process for publishing an app to the Google Play Store or Apple App Store?","How do you implement push notifications?","Tell me about a challenging UI/UX problem you solved in a mobile app you developed."],"question_count":12},{"subTitle":"Security Engineering","duration_minutes":65,"difficulty":"Hard","declared_question_count":15,"description":"","questions":["Describe the OWASP Top 10. Pick one vulnerability and explain how you would detect and mitigate it in an application.","What is the principle of least privilege, and how would you apply it when designing system access controls?","Explain the difference between symmetric and asymmetric encryption. When would you use each?","How would you perform a security assessment or threat model for a new web application before it goes live?","Describe how a Man-in-the-Middle (MitM) attack works and what measures can prevent it.","You've detected a potential data breach. What are the immediate steps you would take?","What is the purpose of a Web Application Firewall (WAF)? How does it differ from a network firewall?","Explain the concept of defense in depth. How would you apply it to secure a cloud environment?","What are the key components of a robust identity and access management (IAM) system?","How do you securely store user passwords? Describe the process of hashing and salting.","What is Cross-Site Scripting (XSS), and what are the different types? How can it be prevented?","Explain the security implications of using third-party libraries and how you would manage those risks.","What is a zero-day vulnerability, and what is the typical response process for an organization when one is discovered?","How would you set up a secure software development lifecycle (SSDLC)?","Imagine you are reviewing a pull request from a developer. What are some common security red flags you would look for in the code?"],"question_count":15},{"subTitle":"Software Engineering","duration_minutes":60,"difficulty":"Medium","declared_question_count":14,"description":"","questions":["Describe a challenging software project you worked on. What was your role, and how did you overcome the challenges?","Explain the SOLID principles of object-oriented design.","What is the difference between an abstract class and an interface? When would you use one over the other?","Write a function to determine if a string is a palindrome.","How do you approach code reviews? What do you look for when reviewing a teammate's code?","Design a URL shortening service like bit.ly. What are the key components and data models?","What is your experience with version control systems like Git? Describe a situation where you had to resolve a complex merge conflict.","Explain the concept of recursion. What are the potential pitfalls of using it?","What is the purpose of unit testing, and what makes a good unit test?","Describe the trade-offs between using different data structures, such as an array versus a linked list.","How do you estimate the time required to complete a software task?","What is technical debt, and how do you manage it?","How do you stay up-to-date with new technologies and programming languages?","Tell me about a time you had a disagreement with a team member on a technical decision. How did you handle it?"],"question_count":14}]`),Y4=[{subTitle:"Design Systems",duration_minutes:70,difficulty:"Hard",declared_question_count:16,description:"",questions:["What is the purpose of a design system, and what value does it bring to an organization?","Walk me through the process of creating a new component for a design system, from research to release.","How do you decide what should and should not be included in a design system?","What are design tokens? How do they help bridge the gap between design and engineering?","How do you ensure adoption and contribution to the design system from product teams?","Describe your process for versioning and communicating updates to a design system.","How would you structure the documentation for a design system to make it easy for designers and developers to use?","What is the difference between a component library and a true design system?","How do you handle requests for one-off components or variations that don't fit the system's principles?","How do you measure the success and impact of a design system?","What are some of the biggest challenges you've faced when working on or implementing a design system?","How do you ensure the accessibility of components within the design system?","Discuss the relationship between a design system and a brand's visual identity.","How would you approach building a design system for a product that needs to support multiple themes (e.g., light and dark mode, or different brands)?","Tell me about a time you had to advocate for the importance of a design system to stakeholders.","How do you balance the need for consistency (from the system) with the need for innovation (from product teams)?"],question_count:16},{subTitle:"Graphic Design",duration_minutes:50,difficulty:"Easy",declared_question_count:9,description:"",questions:["Walk me through a project in your portfolio that you're most proud of. What was the goal, and what was your creative process?","What are the fundamental principles of design (e.g., contrast, repetition, alignment, proximity)?","How do you interpret a creative brief and translate it into a visual concept?","What is the difference between raster and vector graphics? When would you use each?","How do you use typography to create hierarchy and convey a specific tone?","Tell me about your experience with design software like Adobe Photoshop, Illustrator, and InDesign.","How do you receive and incorporate feedback on your designs?","How do you stay inspired and keep up with current design trends?","You are given a logo to design for a new coffee shop. What are the first steps you would take?"],question_count:9},{subTitle:"Motion Graphics",duration_minutes:60,difficulty:"Medium",declared_question_count:14,description:"",questions:["Walk me through your motion graphics workflow, from storyboard to final render.","What are the 12 principles of animation, and how do you apply them to your work?","Describe a project where you had to convey a complex idea using motion graphics.","What is your experience with software like After Effects, Cinema 4D, or Premiere Pro?","How do you choose music and sound effects to complement your animations?","Explain the concept of easing and how it affects the feel of a motion.","How do you optimize your projects for efficient rendering?","Tell me about a time you had to work with a tight deadline. How did you manage your time and workflow?","How do you integrate motion graphics with live-action video?","What is a keyframe? How do you use them to create animation?","How do you ensure your motion graphics align with a brand's identity?","What is your process for storyboarding a concept before starting animation?","Describe a technical challenge you faced on a motion graphics project and how you solved it.","Where do you find inspiration for your motion design work?"],question_count:14},{subTitle:"Product Design",duration_minutes:75,difficulty:"Hard",declared_question_count:16,description:"",questions:["Walk me through your end-to-end design process for a new feature, from initial concept to post-launch iteration.","Describe a time you used user research to make a significant change to a product's design.","How do you balance user needs, business goals, and technical constraints in your design work?","Tell me about a project that failed or didn't meet its goals. What did you learn from the experience?","How do you collaborate with product managers and engineers throughout the design process?","You've been asked to redesign the user onboarding experience for a complex SaaS product. What would be your approach?","How do you use data and analytics to inform your design decisions?","What is your process for creating and testing prototypes? What tools do you use?","How do you approach designing for accessibility?","Describe a situation where you had to defend a design decision to stakeholders who disagreed with you.","How do you define and measure the success of a product's design?","What is the role of a design system in your workflow as a product designer?","Tell me about a time you had to make a design trade-off due to a technical limitation.","How do you stay focused on the user's core problem when designing a solution?","How do you decide which features to prioritize in a product roadmap from a design perspective?","Critique a product you use regularly. What are its design strengths and weaknesses, and how would you improve it?"],question_count:16},{subTitle:"UI Design",duration_minutes:45,difficulty:"Easy",declared_question_count:9,description:"",questions:["What is the difference between UI and UX design?","Walk me through a UI design project from your portfolio.","What are the key principles of good visual hierarchy?","How do you create a consistent visual style across multiple screens of an application?","What is your experience with design tools like Figma, Sketch, or Adobe XD?","How do you design for different states of a UI component (e.g., default, hover, disabled, active)?","What is a grid system, and why is it important in UI design?","How do you choose typography and color palettes for a new project?","You are asked to design a login screen. What are the essential UI elements you would include?"],question_count:9},{subTitle:"UX Design",duration_minutes:60,difficulty:"Medium",declared_question_count:14,description:"",questions:["What is your definition of user experience design?","Walk me through your UX design process for a typical project.","What user research methods do you find most valuable, and why?","How do you create user personas and journey maps? What purpose do they serve?","Tell me about a time you had to advocate for the user when business goals were in conflict.","What is the difference between information architecture and interaction design?","How do you conduct usability testing? What do you look for during a session?","Describe a situation where user feedback led to a major change in your design.","How do you collaborate with UI designers, product managers, and developers?","What is accessibility in UX, and how do you incorporate it into your work?","How do you use wireframes and prototypes in your design process?","What are heuristics, and how can they be used to evaluate a user interface?","How do you decide what to test in a usability study?","You've discovered a major usability issue in a product that is already live. What are your next steps?"],question_count:14}],Q4=[{subTitle:"Corporate Finance",duration_minutes:45,difficulty:"Medium",declared_question_count:12,description:"",questions:["Walk me through the three main financial statements. How are they connected?","What is Working Capital, and why is it important for a company's financial health?","How would you build a financial model to forecast a company's revenue for the next three years?","Explain the difference between CAPEX (Capital Expenditure) and OPEX (Operating Expenditure).","What is Discounted Cash Flow (DCF) analysis? What are the key assumptions you need to make?","How do you calculate Free Cash Flow to the Firm (FCFF) and Free Cash Flow to Equity (FCFE)?","A company's depreciation expense increases by $10 million. Walk me through the impact on the three financial statements.","What are some common valuation multiples, and when would you use them?","How would you analyze a company's debt structure and its ability to service that debt?","What is the purpose of a variance analysis in a corporate finance role?","How do you assess the viability of a new investment project? (e.g., NPV, IRR).","Describe a time you had to present complex financial information to a non-financial audience."],question_count:12},{subTitle:"Financial Planning",duration_minutes:45,difficulty:"Easy",declared_question_count:9,description:"",questions:["What are the key components of a comprehensive personal financial plan?","How would you help a client define their short-term and long-term financial goals?","Explain the concept of asset allocation and why it's important for an investment portfolio.","What is the difference between a Roth IRA and a Traditional IRA?","How do you assess a client's risk tolerance?","What are the basic types of insurance (life, health, disability) you would discuss with a young family?","A client wants to save for both retirement and a down payment on a house. How would you advise them to prioritize?","What is an emergency fund, and how much should someone typically have saved in one?","How do you stay up-to-date with changes in tax laws and financial regulations that affect your clients?"],question_count:9},{subTitle:"Investment Banking",duration_minutes:60,difficulty:"Hard",declared_question_count:15,description:"",questions:["Walk me through a Discounted Cash Flow (DCF) analysis from start to finish.","What are the most common ways to value a company? Discuss the pros and cons of each.","A company acquires another company. Walk me through how this would affect the three financial statements.","What is a Leveraged Buyout (LBO), and what makes a company an attractive LBO candidate?","How does a $10 increase in depreciation affect the financial statements, assuming a 20% tax rate?","What is accretion/dilution analysis, and why is it important in an M&A deal?","How do you calculate the Weighted Average Cost of Capital (WACC)?","What is the difference between Enterprise Value and Equity Value?","Why might two companies with similar growth and profitability have different valuation multiples?","What are some of the key terms you would find in a merger agreement?","Tell me about a recent M&A deal you've followed. Do you think it was a good deal? Why or why not?","What is the purpose of a sell-side M&A process, and what are the key stages?","If you had to choose two of the three financial statements to analyze a company, which two would you choose and why?","What are the current trends in the M&A market?"],question_count:14},{subTitle:"Quantitative Finance",duration_minutes:80,difficulty:"Hard",declared_question_count:18,description:"",questions:["What are the assumptions of the Black-Scholes-Merton model for option pricing? How realistic are they?","Explain the difference between a stationary and a non-stationary time series. How would you test for stationarity?","What is stochastic calculus, and how is it used in finance? Explain Ito's Lemma.","Describe the concept of Value at Risk (VaR). What are its limitations, and what are some alternative risk measures?","How would you build a model to predict stock price volatility?","Explain the difference between risk-neutral pricing and physical pricing.","What is a Monte Carlo simulation? Walk me through how you would use it to price a complex derivative.","Derive the formula for the price of a zero-coupon bond.","What is the Capital Asset Pricing Model (CAPM)? What are its main criticisms?","Explain the concept of a martingale. Why is it important in quantitative finance?","How do you hedge the Greeks (Delta, Gamma, Vega, Theta) of an options portfolio?","Describe a statistical arbitrage strategy. What are the risks involved?","What is the difference between a forward contract and a futures contract?","How would you use Principal Component Analysis (PCA) in a financial context?","Explain how a Kalman filter works and how it could be applied to trading.","What is GARCH? How is it used to model volatility clustering?","How do you handle multicollinearity in a regression model?","You are given two correlated time series. How would you test if they are cointegrated, and how would you build a pairs trading strategy based on this?"],question_count:18},{subTitle:"Risk Management",duration_minutes:50,difficulty:"Hard",declared_question_count:15,description:"",questions:["What are the main types of financial risk that a bank faces? (e.g., market, credit, operational, liquidity).","Explain Value at Risk (VaR). What are the different methods for calculating it, and what are its main limitations?","What is the difference between risk appetite and risk tolerance?","How would you assess the credit risk of a corporate borrower?","Describe the purpose and function of a stress test for a financial portfolio.","What is operational risk? Provide some examples and explain how it can be mitigated.","Explain the concept of counterparty risk.","How does a credit default swap (CDS) work?","What is the role of a risk management function within a large organization?","What are the Basel Accords (I, II, III), and what is their primary objective?","How do you measure and manage liquidity risk?","You notice a portfolio is becoming highly concentrated in a single sector. What risks does this pose, and what actions might you recommend?","What is the difference between systematic and unsystematic risk?","How can a company use derivatives to hedge its exposure to foreign exchange risk?","Describe a time you had to identify a significant risk and communicate it to senior management."],question_count:15},{subTitle:"Treasury Management",duration_minutes:55,difficulty:"Medium",declared_question_count:13,description:"",questions:["What is the primary role of a corporate treasury department?","How would you create a daily cash forecast for a multinational company?","What is a cash pooling arrangement, and what are its benefits?","Explain the difference between physical and notional cash pooling.","How do you manage a company's exposure to interest rate risk?","What strategies would you use to optimize a company's working capital?","What is a letter of credit, and when is it used?","Describe the different types of foreign exchange (FX) risk a company faces.","How would you develop an investment policy for a company's short-term cash reserves?","What is the role of a treasury management system (TMS)?","How do you maintain relationships with banking partners?","A business unit needs funding for a new project. What factors would you consider before providing it?","How would you respond to a sudden, unexpected cash shortfall?"],question_count:13}],K4=[{subTitle:"Corporate Law",duration_minutes:60,difficulty:"Hard",declared_question_count:15,description:"",questions:["What is the business judgment rule, and how does it protect corporate directors?","Explain the concept of piercing the corporate veil. Under what circumstances might a court do this?","Describe the fiduciary duties of a corporate director. (Duty of Care and Duty of Loyalty).","Walk me through the key stages of a private company M&A transaction from a legal perspective.","What is the difference between a stock purchase and an asset purchase? What are the legal implications of each?","What is a representations and warranties section in a purchase agreement, and why is it so heavily negotiated?","What are the key legal considerations when advising a startup on its initial financing round?","Explain the difference between common stock and preferred stock.","What are the primary responsibilities of a public company's general counsel regarding SEC compliance?","What is a poison pill, and how is it used as an anti-takeover defense?","Describe the legal requirements for a valid board of directors meeting.","What is shareholder activism, and how might a company legally respond to it?","What are the key differences between a C-corporation and an S-corporation from a legal and tax perspective?","What is indemnification in the context of corporate bylaws, and why is it important for directors and officers?","A client wants to form a joint venture with another company. What legal structure would you recommend, and what are the key terms to include in the joint venture agreement?"],question_count:15},{subTitle:"Criminal Law",duration_minutes:60,difficulty:"Hard",declared_question_count:15,description:"",questions:["What are the two essential elements of a crime? Explain mens rea and actus reus.","Explain the difference between a specific intent and a general intent crime.","What are the four levels of mens rea as defined by the Model Penal Code?","A defendant is charged with murder. What are some potential affirmative defenses they could raise?","What is the felony murder rule?",'Explain the concept of the exclusionary rule and the "fruit of the poisonous tree" doctrine.',"What are the requirements for a valid search warrant under the Fourth Amendment?","Describe the circumstances under which a police officer can conduct a warrantless search.","What are the Miranda rights, and when must they be given?","What is a plea bargain, and what is the role of the prosecutor and defense attorney in this process?","Explain the difference between direct evidence and circumstantial evidence.","What must a prosecutor prove to convict a defendant of conspiracy?","Describe the stages of a criminal trial, from jury selection to sentencing.","What is the standard of proof in a criminal case, and how does it differ from a civil case?","A client has been arrested and is being interrogated. What is the most important piece of legal advice you would give them immediately?"],question_count:15},{subTitle:"Employment Law",duration_minutes:50,difficulty:"Medium",declared_question_count:12,description:"",questions:['What is the concept of "at-will" employment? What are the major exceptions to this doctrine?',"Explain the difference between an employee and an independent contractor. Why is this distinction important?","A manager wants to fire an employee for poor performance. What legal advice would you give the manager to minimize the risk of a wrongful termination lawsuit?","What are the main federal laws that prohibit discrimination in the workplace? (e.g., Title VII, ADEA, ADA).","What constitutes a hostile work environment under the law?","An employee requests a reasonable accommodation for a disability. What is the employer's legal obligation?","What are the key provisions of the Family and Medical Leave Act (FMLA)?","Explain the difference between exempt and non-exempt employees under the Fair Labor Standards Act (FLSA).","What are the essential elements of an enforceable non-compete agreement?","An employee has brought a complaint of harassment against their supervisor. Walk me through the steps you would take to conduct an internal investigation.","What is the role of the Equal Employment Opportunity Commission (EEOC)?","What legal issues should a company consider when drafting an employee handbook?"],question_count:12},{duration_minutes:50,difficulty:"Medium",declared_question_count:12,description:"",questions:["What are the four main types of intellectual property? Briefly describe each.","What are the three requirements for an invention to be patentable?","Explain the difference between a trademark and a copyright.",'What is the "fair use" doctrine in copyright law? What factors do courts consider?',"A client wants to protect their company's brand name. What is the process for registering a federal trademark?","What constitutes trademark infringement?","What is a trade secret, and what steps must a company take to protect it?","Explain the difference between a utility patent and a design patent.","What is the purpose of a cease and desist letter in an IP dispute?",'What is the Digital Millennium Copyright Act (DMCA), particularly its "safe harbor" provisions?',"A software company wants to know if they can patent their new algorithm. How would you advise them?","What is the role of the World Intellectual Property Organization (WIPO)?"],question_count:12,subTitle:"Intellectual Property"},{duration_minutes:55,difficulty:"Hard",declared_question_count:15,description:"",questions:["Walk me through the lifecycle of a civil lawsuit, from the initial client meeting to the final judgment.","What is the standard for granting a motion to dismiss for failure to state a claim?","Explain the different tools of discovery (interrogatories, requests for production, depositions, requests for admission).","What is the attorney-client privilege? What are some exceptions to it?","How would you prepare a key witness for a deposition?","What is a motion for summary judgment, and what is the legal standard for granting it?","Describe the process of voir dire and the different types of challenges to potential jurors.","How do you decide what questions to ask a witness on direct examination versus cross-examination?","What are the rules of evidence regarding hearsay? What are some common exceptions?","You receive a discovery request from opposing counsel that you believe is overly broad and unduly burdensome. What are your options?","What is the difference between a preliminary injunction and a temporary restraining order?","What strategic considerations go into deciding whether to settle a case or take it to trial?","How do you draft a compelling opening statement? What about a closing argument?","What is the work product doctrine, and how does it differ from attorney-client privilege?","You've just received an unfavorable ruling from the judge on a key evidentiary issue mid-trial. What do you do?"],question_count:15,subTitle:"Litigation"},{duration_minutes:55,difficulty:"Medium",declared_question_count:13,description:"",questions:["What are the key stages of a commercial real estate transaction?","What is a title search, and why is it crucial in a real estate purchase? What is title insurance?","Explain the difference between a general warranty deed, a special warranty deed, and a quitclaim deed.","What is a Phase I Environmental Site Assessment?","Describe the key provisions you would expect to find in a commercial lease agreement.","What is the difference between a gross lease, a net lease, and a triple net (NNN) lease?","What is zoning, and how can a property owner seek a variance or a rezoning?","Explain the concept of eminent domain.","What is a 1031 exchange, and what are its benefits?","What are the legal remedies for a breach of a real estate purchase agreement?","What is a mechanic's lien?","Describe the foreclosure process.","What is the role of an estoppel certificate in a commercial real estate transaction?"],question_count:13,subTitle:"Real Estate Law"}],X4=[{duration_minutes:50,difficulty:"Medium",declared_question_count:12,description:"",questions:["Walk me through your process for producing a piece of content, from ideation to distribution.","How do you adapt a core content idea for different platforms (e.g., a blog post becomes a video, a podcast, and social media snippets)?","What tools do you use for project management and collaboration in a content production workflow?","Tell me about a time a production project went off track. How did you get it back on course?","How do you balance creative quality with budget and timeline constraints?","What is a creative brief, and what key information must it contain to be effective?","How do you source and manage freelance talent like writers, videographers, or designers?","What metrics do you use to measure the success of the content you produce?","How do you ensure a consistent brand voice and visual style across all content?","Describe your experience with video production, including pre-production, shooting, and post-production.","How do you stay organized when managing multiple content projects at once?","What's a piece of content you've produced that you're particularly proud of, and why?"],question_count:12,subTitle:"Content Production"},{duration_minutes:45,difficulty:"Easy",declared_question_count:9,description:"",questions:["What are the key components of a digital marketing strategy?","Explain the difference between SEO and SEM.","What is a marketing funnel (e.g., AIDA model)?","What social media platform would you recommend for a B2B software company, and why?","What is a call-to-action (CTA), and what makes one effective?","How would you use email marketing to nurture leads?","What is A/B testing, and why is it important in digital marketing?",'What does the metric "conversion rate" mean, and how would you try to improve it on a landing page?',"Tell me about a digital marketing campaign you admire. What made it successful?"],question_count:9,subTitle:"Digital Marketing"},{duration_minutes:45,difficulty:"Easy",declared_question_count:9,description:"",questions:["Walk me through the steps of producing a podcast episode, from planning to publishing.","What equipment do you consider essential for recording a high-quality podcast?","How do you prepare for an interview with a podcast guest?","What software do you use for audio recording and editing?","How do you remove background noise and improve the audio quality of a recording?","What is the role of show notes, and what should they include?","How would you promote a new podcast to find its first listeners?","What makes a compelling podcast intro?","Tell me about a podcast you enjoy. What do you think makes it so good?"],question_count:9,subTitle:"Podcast Production"},{duration_minutes:45,difficulty:"Medium",declared_question_count:12,description:"",questions:["What is the difference between public relations and advertising?","How do you build and maintain relationships with journalists and media outlets?","Walk me through the process of writing and distributing a press release.","A negative story about our company is about to break. What are the first steps you would take?","How do you identify the right media targets for a particular story or announcement?","What makes a story newsworthy?","How do you measure the success of a PR campaign?","What is a media kit, and what should it include?","How do you prepare a company executive for a media interview?","Tell me about a time you successfully pitched a story that resulted in media coverage.","What is the role of social media in modern public relations?","How do you handle a situation where a journalist prints inaccurate information?"],question_count:12,subTitle:"Public Relations"},{duration_minutes:40,difficulty:"Easy",declared_question_count:8,description:"",questions:["Which social media platforms are you most experienced with?","How do you develop a content calendar for a brand's social media channels?","What's the difference in tone and content you would use for LinkedIn versus TikTok?","A customer posts a negative comment on the company's Facebook page. How do you respond?","What are some key metrics you would track to measure the success of your social media efforts?","How do you engage with a brand's online community and encourage conversation?","How do you stay up-to-date with the latest social media trends and algorithm changes?","What's a brand you think does an excellent job on social media, and why?"],question_count:8,subTitle:"Social Media Management"},{duration_minutes:60,difficulty:"Medium",declared_question_count:14,description:"",questions:["Walk me through the three stages of video production: pre-production, production, and post-production. What happens in each stage?","What is a storyboard, and why is it important?","How do you create a shot list?","Explain the rule of thirds in video composition.","What is the difference between A-roll and B-roll footage?","Describe a standard three-point lighting setup.","What are some common microphones used in video production, and when would you use each?","What is your experience with video editing software like Adobe Premiere Pro or Final Cut Pro?","How do you select appropriate music and sound effects for a video?","Explain the concept of color grading and its importance in post-production.","How do you optimize video for different platforms (e.g., YouTube, Instagram Reels, LinkedIn)?","Tell me about a time you had to solve a problem on set during a shoot.","How do you manage large video files and keep your projects organized?","Describe a video project you produced. What was the goal, and how did you achieve it?"],question_count:14,subTitle:"Video Production"}],Z4=[{duration_minutes:75,difficulty:"Hard",declared_question_count:16,description:"",questions:["Explain the four fundamental forces of flight.","What is the difference between lift-induced drag and parasite drag? How do they vary with airspeed?","Describe the function of a winglet on an aircraft.","Walk me through the basic thermodynamic cycle of a jet engine (Brayton cycle).","What is the significance of the Reynolds number in aerodynamics?","Explain the concept of an airfoil's center of pressure and aerodynamic center. Why is the distinction important for stability?","What is orbital mechanics? Explain Kepler's laws of planetary motion.","How would you calculate the delta-v required for a spacecraft to travel from a low Earth orbit to a geostationary orbit?","What are some of the key challenges in designing a hypersonic vehicle?","Explain the concept of aircraft stability (static and dynamic).","What materials are commonly used in modern aircraft construction, and why are composites like carbon fiber becoming more prevalent?","What is the purpose of a finite element analysis (FEA) in structural design?","Describe the basic principles of a satellite's attitude control system.","What are the key subsystems of a typical satellite?","Explain the concept of Mach number and the sound barrier.","You are on a team designing a new commercial airliner. What are the primary trade-offs you would need to consider between performance, cost, and safety?"],question_count:16,subTitle:"Aerospace Engineering"},{duration_minutes:70,difficulty:"Hard",declared_question_count:15,description:"",questions:["Describe the process of designing a new medical device, from needs assessment to regulatory submission.","What is biocompatibility, and how would you test a new material for it?","Explain the basic principles of an EKG (Electrocardiogram). What physiological process is it measuring?","What are the key differences between designing a medical device for a hospital setting versus a home-use setting?","What is the role of the FDA in medical device regulation? Describe the different classes of medical devices (Class I, II, III).","You are tasked with designing a new artificial hip joint. What are the key design criteria, materials, and failure modes you would consider?","Explain the principles of tissue engineering. What are the three main components of a tissue-engineered construct?","What is a biosensor? Describe the components and give an example of one.","How would you apply principles of fluid mechanics to analyze blood flow in an artery?","What are some of the challenges in designing a drug delivery system?","Explain the imaging principles behind MRI or CT scans.","How does a pacemaker work?","What are sterilization methods for medical devices, and how do you choose the appropriate one?","Describe the importance of human factors engineering in medical device design.","Tell me about a challenge in biomedical engineering you find particularly interesting and how you might approach solving it."],question_count:15,subTitle:"Biomedical Engineering"},{duration_minutes:60,difficulty:"Medium",declared_question_count:14,description:"",questions:["What are the primary types of loads that a building structure must be designed to resist?","Explain the difference between concrete and steel as structural materials. What are the advantages and disadvantages of each?","What is the purpose of rebar in reinforced concrete?","Describe the key stages of a major construction project, from planning to completion.","What is a soil mechanics report, and why is it essential before starting construction?","Explain the principles of stormwater management for a new land development project.","What is the role of a geotechnical engineer on a construction project?","How would you design a simple beam to support a given load? What calculations would you perform?","What are some key considerations in transportation engineering when designing a new roadway intersection?","What is the purpose of a project's critical path method (CPM) schedule?","How do you ensure safety on a construction site?","What is BIM (Building Information Modeling), and how is it changing the civil engineering industry?","Tell me about a challenging problem you solved on a past civil engineering project.","What environmental regulations do you need to consider when designing a new infrastructure project?"],question_count:14,subTitle:"Civil Engineering"},{duration_minutes:55,difficulty:"Medium",declared_question_count:13,description:"",questions:["Explain Ohm's Law and Kirchhoff's Laws (both current and voltage laws).","What is the difference between AC and DC electricity?","What is a transistor, and how does it work as a switch?","Describe the function of a capacitor and an inductor in a circuit.","What is impedance, and how does it relate to resistance, capacitance, and inductance?","Explain the difference between a microcontroller and a microprocessor.","What is a digital filter, and how does it differ from an analog filter?","Describe the basic principles of a transformer.","You are given a 5V power supply and need to power a 3V LED. How would you design a simple circuit to do this safely?","What is pulse-width modulation (PWM), and what is it used for?","What is the purpose of an operational amplifier (op-amp)?","How do you use an oscilloscope and a multimeter to troubleshoot a circuit?","Tell me about a project where you designed, built, and tested an electrical circuit."],question_count:13,subTitle:"Electrical Engineering"},{duration_minutes:60,difficulty:"Medium",declared_question_count:14,description:"",questions:["What are the three modes of heat transfer? Give an example of each.","Explain the difference between stress and strain.","What is the purpose of a factor of safety in mechanical design?","Describe the first and second laws of thermodynamics.","What are some common manufacturing processes (e.g., machining, casting, 3D printing), and when would you choose one over another?","What is a Free Body Diagram, and why is it important in mechanical analysis?","Explain the difference between a ductile and a brittle material.","What is Finite Element Analysis (FEA), and what is it used for?","You need to design a system to transmit power from a motor to a wheel. What are some options you would consider (e.g., gears, belts, chains)?","What is the difference between a static and a dynamic analysis?","How does a four-stroke internal combustion engine work?","What is GD&T (Geometric Dimensioning and Tolerancing), and why is it important on engineering drawings?","Tell me about a hands-on project you've worked on. What were the design challenges?","How do you select the right material for a mechanical component?"],question_count:14,subTitle:"Mechanical Engineering"},{duration_minutes:65,difficulty:"Medium",declared_question_count:14,description:"",questions:["What is the role of a software architect?","Explain the trade-offs between a monolithic architecture and a microservices architecture.","What are some common architectural patterns you have used (e.g., MVC, Layered, Event-Driven)?","How do you design a system for high availability and fault tolerance?",'What are the "ilities" of software architecture (e.g., scalability, reliability, maintainability)? How do you prioritize them?',"Describe your process for making a significant technical decision, like choosing a new database or framework.","What is the CAP theorem, and what are its implications for distributed system design?","How do you approach API design for a large-scale system? Discuss REST vs. GraphQL.","What is the purpose of a service discovery mechanism in a microservices architecture?","How do you manage data consistency across multiple services?","Tell me about a time you had to make a design trade-off between performance and cost.","How do you ensure security is a fundamental part of your architecture, not an afterthought?","What is technical debt, and what is the architect's role in managing it?","How would you design a caching strategy for a high-traffic web application?"],question_count:14,subTitle:"Software Architecture"}],e5=[{duration_minutes:50,difficulty:"Medium",declared_question_count:12,description:"",questions:["What, in your view, is a brand? What's the difference between a brand and a product?","How would you conduct a brand audit for an existing company?","What is brand positioning? Walk me through how you would create a positioning statement.","Who are the competitors for our brand? What are their key strengths and weaknesses?","How do you measure brand equity and brand health?","Tell me about a brand you admire. What makes their brand strategy so effective?","You are tasked with launching a new product under an existing brand. How do you ensure the launch is consistent with the master brand's identity?","What is the relationship between brand strategy and marketing tactics?","How do you ensure brand consistency across all customer touchpoints?","Describe a time you had to reposition a brand in the market. What was your strategy?","What is the role of packaging and visual identity in brand management?","How would you handle a situation that could potentially damage the brand's reputation?"],question_count:12,subTitle:"Brand Management"},{duration_minutes:40,difficulty:"Easy",declared_question_count:8,description:"",questions:["What are the most important metrics to track in an email marketing campaign?","How do you grow an email subscriber list?","What is A/B testing in the context of email marketing? Give an example of something you would test.","What are some best practices for writing an effective email subject line?","What is the difference between a transactional email and a marketing email?","How do you avoid your emails being marked as spam?","What is list segmentation, and why is it important?","Walk me through the process of creating a simple email welcome series for new subscribers."],question_count:8,subTitle:"Email Marketing"},{duration_minutes:55,difficulty:"Medium",declared_question_count:13,description:"",questions:["What is the difference between growth marketing and traditional digital marketing?","Describe the Pirate Metrics framework (AARRR).","What is your process for designing and running growth experiments?",'How do you identify the "aha!" moment for a new user in a product?',"What are the key levers for improving user activation?","Tell me about a successful growth experiment you've run. What was the hypothesis, what did you do, and what were the results?","How do you balance acquiring new users with retaining existing ones?","What role does product play in growth marketing?","How do you decide which marketing channels to focus on for growth?","What is a viral loop, and how would you try to build one into a product?","How do you use data and analytics to find growth opportunities?","Tell me about a time an experiment failed. What did you learn from it?","What is your favorite growth hack or strategy that you've seen a company implement?"],question_count:13,subTitle:"Growth Marketing"},{duration_minutes:45,difficulty:"Medium",declared_question_count:12,description:"",questions:["How do you identify the right influencers for a specific brand or campaign?","What's the difference between micro-influencers and macro-influencers? When would you use each?","How do you approach influencer outreach and build relationships?","What are the key components of an effective influencer campaign brief?","How do you measure the ROI of an influencer marketing campaign?","What are some common ways to structure compensation for influencers?","How do you ensure that influencer content is authentic and aligns with the brand's values?","What are the FTC guidelines for influencer marketing, and how do you ensure compliance?","Tell me about a challenge you faced during an influencer campaign and how you resolved it.","How do you vet an influencer to ensure their audience is real and engaged?","What is your process for negotiating contracts with influencers or their agents?","What trends are you seeing in the influencer marketing space right now?"],question_count:12,subTitle:"Influencer Marketing"},{duration_minutes:55,difficulty:"Medium",declared_question_count:13,description:"",questions:["What is performance marketing, and how does it differ from brand marketing?","What are the key metrics you would use to evaluate the success of a paid search campaign? (e.g., CTR, CPC, CPA, ROAS).","You are given a $50,000 monthly budget to acquire new customers for an e-commerce site. How would you allocate it across different channels?","Explain what a Quality Score is in Google Ads and why it's important.","How do you approach campaign optimization? Walk me through your daily or weekly process.","What is conversion tracking, and why is it critical for performance marketing?","Describe your experience with different bidding strategies (e.g., manual CPC, tCPA, tROAS).","How do you use A/B testing to improve ad copy and landing page performance?","Tell me about a time you managed a campaign that was underperforming. What steps did you take to turn it around?","What is the difference between a search campaign and a display campaign?","How do you approach keyword research for a new campaign?","What is an attribution model, and why is it important?","How do you combat click fraud in your campaigns?"],question_count:13,subTitle:"Performance Marketing"},{duration_minutes:50,difficulty:"Easy",declared_question_count:9,description:"",questions:["What is the difference between SEO and SEM?","What is a keyword? Explain the difference between short-tail and long-tail keywords.","Walk me through the components of a search engine results page (SERP).","What are the three main pillars of SEO? (On-page, Off-page, Technical).","What is a meta description, and why is it important?","What is a backlink, and why is it valuable for SEO?","You are launching a new website. What are the first few SEO tasks you would perform?","What are some tools you use for keyword research?","Explain what Google Analytics is and what kind of information you can find there."],question_count:9,subTitle:"Search Engine Marketing"}],t5=[{duration_minutes:55,difficulty:"Medium",declared_question_count:13,description:"",questions:["What is the difference between a product analyst and a business intelligence analyst?","A product manager wants to understand why user engagement has dropped by 10% in the last month. How would you investigate this?","What is your process for defining key metrics for a new feature?","Explain the concept of a product funnel. How would you use it to identify drop-off points?","What is cohort analysis, and why is it useful for understanding user behavior?","How do you design and analyze an A/B test to determine if a new feature is successful?","What is statistical significance, and how would you explain it to a non-technical PM?","Tell me about a time you used data to tell a story that influenced a product decision.","What are your favorite product analytics tools (e.g., Mixpanel, Amplitude, Google Analytics), and what are their strengths and weaknesses?","How do you differentiate between correlation and causation when analyzing data?",'What is a "North Star Metric"? How would you help a team define one?',"How do you handle incomplete or messy data in your analysis?",'A PM asks you to "pull some data" on a feature. What clarifying questions do you ask first?'],question_count:13,subTitle:"Product Analytics"},{duration_minutes:60,difficulty:"Medium",declared_question_count:14,description:"",questions:['How do you define "product growth"? How does it differ from growth marketing?',"Describe the AARRR (Pirate Metrics) funnel. Pick one stage and describe how you would improve it.","What is your framework for identifying and prioritizing growth opportunities?",'How do you identify the "aha!" moment for users of a product?',"Walk me through how you would design an experiment to improve new user activation.","What is a growth model, and why is it useful?","Tell me about a product you think has a brilliant growth loop. What is it?","How do you balance short-term growth experiments with long-term product vision?","How do you collaborate with product, marketing, and engineering teams as a growth PM?","What is the role of user research in product growth?","Describe a time a growth experiment you ran failed. What did you learn?","How would you approach improving user retention for a subscription-based product?","What is the difference between a leading and a lagging indicator for growth?","How do you decide whether to focus on acquisition, activation, or retention for a product at its current stage?"],question_count:14,subTitle:"Product Growth"},{duration_minutes:60,difficulty:"Medium",declared_question_count:14,description:"",questions:["What is the role of a Product Manager?","How do you decide what to build next? Describe your prioritization process.","Walk me through how you would take a new product idea from concept to launch.","How do you work with engineers and designers?","Tell me about a time you had to make a decision with incomplete data.",'How do you say "no" to a stakeholder or an executive who requests a feature?',"What is your favorite product, and why? How would you improve it?","How do you define and measure success for a new feature?","Describe a time a product launch didn't go as planned. What happened, and what did you learn?","How do you gather and synthesize user feedback?","What is the difference between product strategy and a product roadmap?","How do you write an effective user story?","Tell me about a time you had a disagreement with an engineer on your team. How did you resolve it?","How do you stay up-to-date with industry trends and competitors?"],question_count:14,subTitle:"Product Management"},{duration_minutes:45,difficulty:"Easy",declared_question_count:9,description:"",questions:["What is the role of a product marketing manager? How does it differ from a product manager?","What are the key components of a go-to-market (GTM) strategy?","How do you conduct competitor analysis?","What is product positioning, and why is it important?","Who is our target audience? How would you create a user persona for them?","How do you translate technical product features into customer-centric benefits?","What is the purpose of sales enablement materials? What are some examples?","You are about to launch a new product. Walk me through the key marketing activities you would plan for launch day.","Tell me about a product launch you thought was particularly effective. What did they do well?"],question_count:9,subTitle:"Product Marketing"},{duration_minutes:50,difficulty:"Medium",declared_question_count:12,description:"",questions:["In your own words, what is the purpose of a Product Operations role?","How do you help product teams become more efficient and effective?","Describe your process for managing the product feedback loop, from collection to synthesis and reporting.","What tools and systems would you implement to improve communication between product, engineering, and go-to-market teams?","How do you help manage and communicate a product roadmap to the wider organization?","Tell me about a time you improved a process for your product team. What was the problem, and what was the impact of your solution?","How do you manage the beta testing process for a new feature release?","What is your role in ensuring data quality and accessibility for the product team?","How do you support the product team with tooling and software (e.g., Jira, Aha!, Productboard)?","How do you help standardize product development processes, such as sprint planning or retrospectives, across multiple teams?","A product manager is struggling with stakeholder management. How would you support them?","How do you measure the success of the Product Operations function itself?"],question_count:12,subTitle:"Product Operations"},{duration_minutes:50,difficulty:"Easy",declared_question_count:9,description:"",questions:["What is the difference between qualitative and quantitative user research?","You are tasked with understanding if there is a market need for a new product idea. What research methods would you use?","How do you recruit participants for a research study?","Walk me through how you would conduct a user interview.","What is a user persona, and how do you create one based on research?","How do you create and run a user survey? What are some common pitfalls to avoid?","What is a usability test?","How do you synthesize your research findings and present them to the product team in an actionable way?","Tell me about a time when a research finding surprised you or changed the direction of a product."],question_count:9,subTitle:"Product Research"}],n5=[{duration_minutes:40,difficulty:"Easy",declared_question_count:8,description:"",questions:["What is content marketing, and how does it differ from traditional advertising?","How do you come up with ideas for new content?","What is a content calendar, and why is it useful?","Walk me through your process for writing a blog post, from research to publishing.","What is SEO, and how do you incorporate it into your writing?","How do you tailor your writing style for different audiences and platforms?","How would you measure the success of a piece of content?","Tell me about a piece of content (an article, video, etc.) that you found particularly effective. Why did it work?"],question_count:8,subTitle:"Content Marketing"},{duration_minutes:35,difficulty:"Easy",declared_question_count:8,description:"",questions:["What is the difference between copywriting and content writing?","What is a Unique Selling Proposition (USP)?","Walk me through your process for writing a headline.","What is a call-to-action (CTA)? Write one for a free trial of a software product.","How do you adopt a brand's specific voice and tone in your writing?","What is A/B testing, and how would you use it to improve a piece of copy?","Tell me about a piece of copy you wrote that you're proud of. What was the goal, and what were the results?","Look at our website's homepage. What is one piece of copy you would improve, and how?"],question_count:8,subTitle:"Copywriting"},{duration_minutes:40,difficulty:"Easy",declared_question_count:8,description:"",questions:["What genres do you most enjoy writing in, and why?","Where do you find inspiration for your stories or poems?","Describe your writing process. Are you a planner or do you discover the story as you go?","What, in your opinion, makes a compelling character?","How do you handle writer's block?","Tell me about a writer whose work you admire. What do you like about their style?","How do you receive and incorporate feedback on your creative work?","Walk me through the basic structure of a story (e.g., beginning, rising action, climax, falling action, resolution)."],question_count:8,subTitle:"Creative Writing"},{duration_minutes:50,difficulty:"Medium",declared_question_count:12,description:"",questions:["What are the key components of a typical grant proposal?","How do you research and identify potential funding opportunities for a nonprofit organization?","What is a logic model, and how do you use it in a grant proposal?","How do you tailor a proposal to the specific interests and requirements of a particular foundation?","Walk me through your process for writing a needs statement.","How do you develop a realistic budget for a grant proposal?","What is your strategy for building relationships with grant funders?","Tell me about the most challenging grant proposal you've ever written. What made it difficult?","How do you handle a rejection from a funder?","What information is crucial to track when managing multiple grant deadlines and reporting requirements?","How do you write a compelling project evaluation plan?","What is the difference between a letter of inquiry (LOI) and a full proposal?"],question_count:12,subTitle:"Grant Writing"},{duration_minutes:45,difficulty:"Medium",declared_question_count:12,description:"",questions:["What makes a story newsworthy?","How do you find and develop sources for a story?","What is the inverted pyramid style of writing? Why is it used in journalism?","How do you prepare for an interview?","What is the difference between on-the-record, off-the-record, and on-background information?","How do you fact-check your stories and ensure accuracy?","Tell me about a time you had to work on a tight deadline.","What are the ethical principles you believe are most important for a journalist to follow?","How do you handle a source who is reluctant to speak with you?","What is your process for pitching a story idea to an editor?","How has the rise of digital media and social media changed the field of journalism?","Describe a story you've written that you are particularly proud of."],question_count:12,subTitle:"Journalism"},{duration_minutes:45,difficulty:"Easy",declared_question_count:9,description:"",questions:["What is the primary goal of a technical writer?","Who is the audience for technical documentation? How do you write for different types of users (e.g., novice vs. expert)?","What is your process for learning about a complex product you need to document?","What are the key components of a good user manual or knowledge base article?","Explain the importance of using clear, concise language and avoiding jargon.","How do you use screenshots and other visuals to support your writing?","What experience do you have with documentation tools like Confluence, MadCap Flare, or Git?","How do you work with subject matter experts (SMEs) like engineers to get the information you need?","You find an error in a piece of existing documentation. What do you do?"],question_count:9,subTitle:"Technical Writing"}],r5=[{duration_minutes:60,difficulty:"Hard",declared_question_count:15,description:"",questions:["What is strategy? How does it differ from a plan or a tactic?","Walk me through Porter's Five Forces framework. How would you apply it to the airline industry?","What is a SWOT analysis? What are its limitations?","Explain the concept of a competitive advantage. What are some sustainable sources of competitive advantage?","Our company is considering entering a new market. What framework would you use to evaluate this opportunity?","Describe the core competencies of a company you admire. How do they leverage them?","What is the difference between a blue ocean and a red ocean strategy?","How would you analyze the value chain of a business?","Our main competitor just lowered its prices by 20%. How should we respond?","What is a balanced scorecard, and how is it used in strategic planning?","How do you translate a high-level business strategy into actionable initiatives?","What are the risks of a growth-through-acquisition strategy?","How do you measure the success of a strategic plan?","Tell me about a time you were involved in developing a business strategy. What was your role?","What major trends do you see disrupting our industry in the next 5-10 years?"],question_count:15,subTitle:"Business Strategy"},{duration_minutes:45,difficulty:"Medium",declared_question_count:12,description:"",questions:["What is the primary goal of operations management?","Explain the concept of a bottleneck in a process. How do you identify and address one?","What is Lean manufacturing/management? What are some of its core principles?","Describe the difference between quality control and quality assurance.","What is inventory management? Explain a concept like Just-in-Time (JIT) or Economic Order Quantity (EOQ).","How would you map out a business process to identify areas for improvement?","What are Key Performance Indicators (KPIs) in an operational context? Give some examples.","Tell me about a time you improved a process to make it more efficient.","What is supply chain management, and what are its key components?","How do you balance the trade-off between cost, quality, and speed in an operation?","What is Six Sigma, and what is its goal?","You notice that customer complaints about late deliveries have increased. How would you investigate the root cause?"],question_count:12,subTitle:"Operations Management"},{duration_minutes:50,difficulty:"Medium",declared_question_count:12,description:"",questions:["What is your philosophy on sales leadership?","How do you motivate a sales team? What's more important: individual incentives or team goals?","Walk me through your process for creating a sales forecast.","A top-performing salesperson is struggling this quarter. How do you coach them?","How do you build and manage a sales pipeline?","What are the key metrics you would use to manage the performance of a sales team?","Describe your experience with different sales methodologies (e.g., MEDDIC, Challenger Sale, SPIN).","How do you recruit, hire, and onboard new salespeople?","Tell me about a time you had to let a salesperson go for underperformance. How did you handle it?","How do you foster collaboration between the sales and marketing teams?","What is your approach to sales training and development?","You've just taken over a new sales team. What are the first things you would do in your first 90 days?"],question_count:12,subTitle:"Sales Management"}],i5=[{duration_minutes:60,difficulty:"Hard",declared_question_count:15,description:"",questions:["A client in the retail industry has seen declining profitability for the past three years. What framework would you use to diagnose the problem?","Walk me through how you would build a financial model to evaluate a potential acquisition for a client.","What is working capital management, and what are three strategies a company could use to improve it?","A client wants to understand their company's valuation. What methods would you use, and what are the pros and cons of each?","How would you advise a company on its capital structure (debt vs. equity)?","A private equity firm is considering buying a company. What are the key areas of financial due diligence you would perform?","What are the key drivers of enterprise value?","A client is planning a major capital expenditure. How would you advise them to evaluate the project's financial viability (e.g., NPV, IRR, payback period)?","How do you assess a company's risk profile?","Tell me about a time you had to present complex financial analysis to a non-financial client.","What are the financial implications of changing from a LIFO to a FIFO inventory accounting method?","How would you help a client prepare a budget for the upcoming fiscal year?","A client's cash flow is negative despite being profitable. What are the possible reasons?","What are the current macroeconomic trends that are most impacting your clients?","If I gave you the three financial statements for any company, what are the first 5-10 things you would look at?"],question_count:15,subTitle:"Financial Consulting"},{duration_minutes:75,difficulty:"Hard",declared_question_count:16,description:"",questions:["A major airline is experiencing declining profits. What are the potential causes, and how would you investigate them? (Case Study)","How would you advise the CEO of a luxury car brand that is considering entering the electric vehicle market? (Case Study)","What are the key challenges facing the newspaper industry, and what strategies could a major newspaper adopt to survive? (Case Study)","A private equity firm has asked you to perform due diligence on a potential acquisition target. What are the key areas you would look into?","Tell me about a time you worked on a team to solve a complex problem. What was your role?","Describe a time you persuaded a client or team member to adopt your point of view when they were initially resistant.","How do you structure an ambiguous problem?","What is the 80/20 rule, and how would you apply it in a business context?","How do you build rapport with a new client?","Tell me about a time you had to manage a difficult stakeholder.",'What is a "mutually exclusive, collectively exhaustive" (MECE) framework?',"Why consulting?","What is a project you've worked on that you're particularly proud of, and why?"],question_count:13,subTitle:"Management Consulting"},{duration_minutes:60,difficulty:"Medium",declared_question_count:14,description:"",questions:["A client with a large, on-premise data center is considering migrating to the cloud. What are the key benefits and risks you would advise them on?","What is digital transformation? Give an example of a company that has done it well.","A regional bank wants to improve its mobile banking app. What would your approach be to gather requirements and recommend a solution?","Explain the concept of Agile methodology to a non-technical client.","What is the role of data analytics in improving business performance?","A client is concerned about cybersecurity. What are the top three recommendations you would give them to improve their security posture?","How do you assess a client's existing technology stack to identify gaps and opportunities?","What is CRM software, and how can it help a business?","Tell me about a new technology trend (e.g., AI, IoT, blockchain) and how it could be applied to solve a business problem.","How do you manage a technology implementation project to ensure it stays on time and on budget?","A client has two different software systems that don't communicate with each other. What solutions would you propose?","How do you bridge the gap between business stakeholders and a technical development team?","Tell me about a time you had to explain a complex technical concept to a non-technical audience.","How do you stay current with the latest technology trends?"],question_count:14,subTitle:"Technology Consulting"}],a5={Software:G4,"Data Science":JSON.parse(`[{"subTitle":"Business Intelligence","duration_minutes":50,"difficulty":"Medium","declared_question_count":12,"description":"","questions":["What is the difference between business intelligence and data analysis?","Walk me through the process of creating a BI dashboard, from stakeholder requirements to final deployment.","What are the key performance indicators (KPIs) you would track for an e-commerce business?","Explain the concept of a data warehouse. How does it differ from a transactional database?","Describe your experience with BI tools like Tableau, Power BI, or Looker.","How would you handle missing or incomplete data in a dataset before building a report?","What is a STAR schema, and why is it commonly used in data warehousing?","Imagine a marketing manager asks you to analyze the performance of a recent campaign. What questions would you ask, and what data would you need?","How do you ensure the data in your reports is accurate and trustworthy?","Describe a time you used data to tell a story and influence a business decision.","What is the difference between a leading and a lagging indicator? Provide an example of each.","How do you balance the need for detailed data with the need for clear, simple visualizations?"],"question_count":12},{"subTitle":"Computer Vision","duration_minutes":80,"difficulty":"Hard","declared_question_count":18,"description":"","questions":["Explain the architecture of a classic Convolutional Neural Network (CNN) like LeNet-5 or AlexNet.","What is the difference between image classification, object detection, and image segmentation?","Describe how backpropagation works in the context of training a CNN.","What are some common data augmentation techniques used in computer vision, and why are they important?","Explain the concept of transfer learning and how you would apply it to a computer vision problem with a small dataset.","What is a convolutional filter (or kernel), and what role does it play in feature extraction?","Describe the architecture of a Region-based CNN (R-CNN) or one of its variants (Fast R-CNN, Faster R-CNN) for object detection.","How does a U-Net architecture work, and why is it effective for semantic segmentation tasks?","What are Generative Adversarial Networks (GANs)? Describe a potential application in computer vision.","You've trained a model that performs well on your validation set but poorly in production. What could be the reasons, and how would you investigate?","Explain the purpose of pooling layers in a CNN. Compare max pooling and average pooling.","How would you evaluate the performance of an object detection model? Discuss metrics like IoU, precision, and recall.","What are attention mechanisms in the context of vision transformers (ViT)?","Describe a project where you had to deal with a large-scale image dataset. How did you manage data loading and processing?","How would you approach a problem like facial recognition? What are the key challenges and ethical considerations?","What is the vanishing gradient problem, and how do architectures like ResNet help mitigate it?","Explain how to use techniques like Grad-CAM to visualize and interpret the decisions of a CNN.","Design a system to automatically detect and blur license plates from a stream of street-view images."],"question_count":18},{"subTitle":"Data Analysis","duration_minutes":45,"difficulty":"Easy","declared_question_count":9,"description":"","questions":["What is the difference between qualitative and quantitative data?","You are given a dataset of customer transactions. What are the first few steps you would take to explore and understand the data?","Explain what a p-value is in simple terms.","Write a SQL query to find the top 5 customers by total sales from a customers table and an orders table.","What are some common ways to handle missing data?","Describe a time you found an interesting insight in a dataset. How did you communicate it to stakeholders?","What are some of your favorite data visualization libraries or tools, and why?","What is the difference between correlation and causation?","A product manager wants to know if a new feature is successful. What metrics would you look at to answer this question?"],"question_count":9},{"subTitle":"Data Engineering","duration_minutes":70,"difficulty":"Hard","declared_question_count":16,"description":"","questions":["Design a data pipeline to collect user interaction data from a mobile app and make it available for analysis in a data warehouse.","Explain the difference between ETL and ELT. When would you prefer one over the other?","What are the challenges of working with real-time streaming data versus batch data?","Describe your experience with big data technologies like Hadoop, Spark, or Flink.","What is data modeling, and why is it important in data engineering? Discuss STAR vs. Snowflake schemas.","How do you ensure data quality and integrity in a data pipeline?","What is idempotency in the context of a data pipeline, and why is it important?","Explain the concept of data partitioning and how it can improve query performance in a distributed system.","Compare different data storage formats like Parquet, Avro, and ORC. What are their pros and cons?","How would you design a system to handle a \\"late-arriving\\" fact in a streaming data pipeline?","What is your experience with workflow orchestration tools like Airflow or Prefect?","You have a data pipeline that is running slower than expected. How would you go about identifying and resolving the bottleneck?","What are the key differences between a data lake and a data warehouse?","How do you manage schema evolution in a data pipeline without breaking downstream consumers?","What are your strategies for monitoring, logging, and alerting for data pipelines in production?","Discuss the trade-offs between different data processing engines (e.g., Spark vs. Flink) for a specific use case, like real-time fraud detection."],"question_count":16},{"subTitle":"Data Science","duration_minutes":60,"difficulty":"Medium","declared_question_count":14,"description":"","questions":["Walk me through a data science project you have completed, from problem definition to model deployment.","Explain the bias-variance trade-off. How does it relate to overfitting and underfitting?","What are some different ways to evaluate the performance of a classification model?","Describe the difference between supervised, unsupervised, and reinforcement learning.","How would you handle a dataset with a severe class imbalance?","What is feature engineering? Provide some examples of feature engineering techniques you've used.","Explain the difference between a random forest and a gradient boosting model.","You are tasked with building a model to predict customer churn. What features would you consider, and what model would you start with?","What is cross-validation, and why is it important?","How would you explain a p-value to a non-technical stakeholder?","Describe a situation where you had to work with messy or incomplete data. How did you clean and prepare it for modeling?","How do you choose the right machine learning algorithm for a particular problem?","What is the purpose of regularization in linear models (e.g., L1 and L2 regularization)?","Tell me about a time when a model you built did not perform as expected. What did you do?"],"question_count":14},{"subTitle":"Data Visualization","duration_minutes":50,"difficulty":"Medium","declared_question_count":12,"description":"","questions":["What are the key principles of effective data visualization?","When would you use a bar chart versus a line chart? What about a scatter plot versus a histogram?","Tell me about a time you created a visualization that led to a specific business insight or action.","How do you choose colors for your visualizations to ensure they are clear and accessible?","What is your process for designing a dashboard for a business stakeholder?","What is the difference between exploratory and explanatory data visualization?","How do you avoid creating misleading visualizations?","Describe your experience with interactive visualization libraries like D3.js or tools like Tableau.","You need to visualize the distribution of a single continuous variable. What chart types would you consider?","How would you visualize relationships between three different variables in a single chart?","What is \\"chart junk,\\" and how do you minimize it?","A stakeholder asks for a pie chart with 20 slices. How would you respond, and what alternative visualization might you suggest?"],"question_count":12},{"subTitle":"Machine Learning","duration_minutes":75,"difficulty":"Hard","declared_question_count":16,"description":"","questions":["Explain the mathematical intuition behind the Support Vector Machine (SVM) algorithm. What is the role of the kernel trick?","Describe the architecture and key components of a Transformer model. Why has it been so successful in NLP and beyond?","What is the difference between bagging and boosting? Provide an example algorithm for each.","You are building a recommendation system. Compare and contrast collaborative filtering and content-based filtering.","Explain the concept of backpropagation, and walk through the chain rule as it applies to updating weights in a neural network.","How do you handle the exploration-exploitation trade-off in reinforcement learning?","Describe a method for dimensionality reduction, such as PCA or t-SNE. What are their underlying assumptions?","You have trained a model that has high accuracy, but you suspect it is not fair to all user groups. How would you audit the model for bias and mitigate it?","What are some common activation functions (e.g., Sigmoid, ReLU, Tanh) used in neural networks? What are their pros and cons?","Explain the difference between Maximum Likelihood Estimation (MLE) and Maximum a Posteriori (MAP) estimation.","How would you design an A/B testing framework to evaluate a new machine learning model before deploying it to all users?","What are Generative Adversarial Networks (GANs)? Describe the roles of the generator and the discriminator.","You need to deploy a large deep learning model to a device with limited computational resources. What model optimization techniques would you consider?","What is the difference between online learning and offline (batch) learning?","How do you deal with concept drift, where the statistical properties of the target variable change over time?","Design a system for real-time fraud detection for credit card transactions. What models and infrastructure would you use?"],"question_count":16},{"subTitle":"Natural Language Processing","duration_minutes":75,"difficulty":"Hard","declared_question_count":16,"description":"","questions":["Explain the evolution of word embeddings, from Word2Vec and GloVe to contextual embeddings from models like BERT.","Describe the architecture of a Transformer model. What is the role of the self-attention mechanism?","What is the difference between text classification, named entity recognition (NER), and sentiment analysis?","You need to build a chatbot. What are the key components and challenges in designing a conversational AI system?","Explain the concept of fine-tuning a large language model (LLM) for a specific downstream task.","What are some techniques for handling out-of-vocabulary words in NLP models?","Describe how a sequence-to-sequence (seq2seq) model with attention works, for a task like machine translation.","How would you evaluate the performance of a text generation model?","What is Topic Modeling? Explain an algorithm like Latent Dirichlet Allocation (LDA).","How do you preprocess text data before feeding it into a machine learning model? Discuss tokenization, stemming, and lemmatization.","What are the ethical challenges associated with large language models, such as bias and potential for misuse?","Explain the difference between extractive and abstractive text summarization.","How does Bidirectional Encoder Representations from Transformers (BERT) differ from a traditional recurrent neural network (RNN)?","You are tasked with building a system to detect toxic comments online. What would your approach be?","What are Retrieval-Augmented Generation (RAG) models, and how do they address some of the limitations of standard LLMs?","Design a system to perform sentiment analysis on a stream of tweets about your company's product."],"question_count":16}]`),Design:Y4,Finance:Q4,Legal:K4,Media:X4,Engineering:Z4,Marketing:e5,Product:t5,Writing:n5,Business:r5,Consulting:i5},Gv="your-project-id",gA="your-api-key-here",vA="",s5="https://jobs.googleapis.com/v4";async function o5({query:t="",location:e="",pageSize:n=10,pageToken:r="",employmentTypes:i=[],companies:s=[]}){try{const l=vA?`projects/${Gv}/tenants/${vA}`:`projects/${Gv}`,u=`${s5}/${l}/jobs:search`,d={requestMetadata:{userId:"interview-agent-user",sessionId:`session-${Date.now()}`,domain:window.location.hostname},searchMode:"JOB_SEARCH",jobQuery:{}};t&&(d.jobQuery.query=t),e&&(d.jobQuery.locationFilters=[{address:e}]),i&&i.length>0&&(d.jobQuery.employmentTypes=i),s&&s.length>0&&(d.jobQuery.companies=s),n&&(d.maxPageSize=n),r&&(d.pageToken=r);const m=await fetch(`${u}?key=${gA}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!m.ok){const _=await m.json();throw new Error(_.error?.message||`API request failed with status ${m.status}`)}const v=await m.json();return{jobs:(v.matchingJobs||[]).map(_=>({id:_.job?.name||"",title:_.job?.title||"Untitled Position",company:_.job?.company||_.job?.companyDisplayName||"Unknown Company",description:_.job?.description||"",location:_.job?.addresses?.[0]||_.job?.locationFilters?.[0]?.address||"Remote",employmentTypes:_.job?.employmentTypes||[],postingDate:_.job?.postingPublishTime||_.job?.postingCreateTime||new Date().toISOString(),expiryDate:_.job?.postingExpireTime||null,applicationInfo:_.job?.applicationInfo||{},qualifications:_.job?.qualifications||"",responsibilities:_.job?.responsibilities||"",degree:_.job?.degreeTypes||[],companyDisplayName:_.job?.companyDisplayName||"",derivedInfo:_.job?.derivedInfo||{},raw:_.job})),nextPageToken:v.nextPageToken||null,totalSize:v.totalSize||0,metadata:v.metadata||{}}}catch(l){throw console.error("Error searching jobs:",l),l}}async function c5({jobId:t,applicationInfo:e}){try{const n=e?.uris||[],r=e?.emails||[],i=e?.instruction||"";if(n.length>0){const s=n[0];return console.log("Application initiated:",{jobId:t,applicationUrl:s}),window.open(s,"_blank","noopener,noreferrer"),{success:!0,method:"redirect",url:s}}if(r.length>0){const s=r[0],l=`mailto:${s}?subject=Application for ${t}`;return window.open(l,"_blank"),{success:!0,method:"email",email:s}}return i?{success:!0,method:"instruction",instruction:i}:{success:!1,error:"No application method available for this job"}}catch(n){throw console.error("Error applying to job:",n),n}}var l5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const u5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d5=(t,e)=>{const n=H.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:u,...d},m)=>H.createElement("svg",{ref:m,...l5,width:i,height:i,stroke:r,strokeWidth:l?Number(s)*24/Number(i):s,className:`lucide lucide-${u5(t)}`,...d},[...e.map(([v,_])=>H.createElement(v,_)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${t}`,n};var jt=d5;const h5=jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),C_=jt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),T_=jt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),f5=jt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),vd=jt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),p5=jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Vb=jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),HI=jt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),x_=jt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),m5=jt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),g5=jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),JI=jt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),v5=jt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),M_=jt("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),y5=jt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),_5=jt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),GI=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),b5=jt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),zb=jt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),w5=jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Hb=jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Jb=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),k5=({t,currentLang:e,interviewCategories:n,selectedCategory:r,setSelectedCategory:i,setActiveInterview:s,setCurrentQuestionIndex:l,setUserAnswers:u})=>r?A.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:A.jsxs("div",{className:"p-8",children:[A.jsxs("button",{onClick:()=>i(null),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[A.jsx(h5,{size:20}),t.backToCategories]}),A.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[A.jsx("div",{className:`w-16 h-16 ${r.bgColor} ${r.borderColor} border-2 rounded-2xl flex items-center justify-center`,children:A.jsx("span",{className:"text-3xl",children:r.icon})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold",children:r.name}),A.jsxs("p",{className:"text-gray-600",children:[r.positions," ",t.positions]})]})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.interviews.map((d,m)=>A.jsxs("div",{className:"bg-white rounded-xl p-6 border hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[A.jsxs("div",{className:"flex items-start justify-between mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold flex-1",children:d.subTitle}),A.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${d.difficulty==="Easy"?"bg-green-100 text-green-700":d.difficulty==="Medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:d.difficulty})]}),A.jsxs("div",{className:"space-y-2 mb-6",children:[A.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[A.jsx(Vb,{size:16}),A.jsxs("span",{children:[d.duration_minutes," ",t.minutes]})]}),A.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[A.jsx(Hb,{size:16}),A.jsxs("span",{children:[d.question_count||d.questions?.length||0," ",t.questions]})]})]}),A.jsxs("button",{onClick:()=>{s(d),l(0),u([])},className:`w-full bg-gradient-to-r ${r.color} text-white py-3.5 rounded-xl font-semibold flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300`,children:[A.jsx(_5,{size:18}),t.startInterview]})]},m))})]})}):A.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:A.jsxs("div",{className:"p-8",children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.mockInterviews}),A.jsxs("p",{className:"text-gray-600",children:[t.chooseRoles," ",A.jsx("span",{className:"font-semibold",children:Object.values(n).reduce((d,m)=>d+m.interviews.length,0)})," ",t.careerRoles]})]}),A.jsx("div",{className:"mb-6",children:A.jsxs("div",{className:"relative",children:[A.jsx(GI,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),A.jsx("input",{type:"text",placeholder:t.searchPlaceholder,className:"w-full pl-12 pr-4 py-3.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent shadow-sm"})]})}),A.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:[Object.keys(n).length," ",t.categoriesFound]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(n).map(d=>A.jsxs("div",{onClick:()=>i(d),className:"group relative bg-white rounded-2xl border border-gray-100 p-6 hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer overflow-hidden",children:[A.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${d.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),A.jsxs("div",{className:"relative z-10",children:[A.jsxs("div",{className:"flex items-start justify-between mb-5",children:[A.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${d.color} rounded-xl flex items-center justify-center text-3xl shadow-lg transform group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`,children:d.icon}),A.jsxs("div",{className:`px-3 py-1.5 bg-gradient-to-r ${d.color} text-white text-xs font-semibold rounded-full shadow-md`,children:[d.positions," ",t.positions]})]}),A.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-blue-600 group-hover:to-purple-600 transition-all duration-300",children:d.name}),A.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Explore ",d.positions," specialized interview",d.positions!==1?"s":""]}),A.jsxs("button",{className:"flex items-center gap-2 text-orange-600 font-semibold group-hover:gap-3 transition-all duration-300",children:[A.jsx("span",{children:t.exploreInterviews}),A.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]},d.id))})]})}),S5=({job:t,onGenerateInterview:e,onApply:n,isGenerating:r,isApplying:i})=>{const s=d=>{if(!d)return"Recently posted";const m=new Date(d),_=Math.abs(new Date-m),E=Math.ceil(_/(1e3*60*60*24));return E===0?"Today":E===1?"Yesterday":E<7?`${E} days ago`:E<30?`${Math.ceil(E/7)} weeks ago`:m.toLocaleDateString()},l=d=>!d||d.length===0?"Full-time":d.map(m=>m.split("_").map(v=>v.charAt(0)+v.slice(1).toLowerCase()).join("-")).join(", "),u=(d,m=300)=>{if(!d)return"No description available";const v=d.replace(/<[^>]*>/g,"");return v.length<=m?v:v.substring(0,m)+"..."};return A.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 hover:border-orange-300 hover:shadow-lg transition-all duration-200",children:[A.jsx("div",{className:"flex justify-between items-start mb-4",children:A.jsxs("div",{className:"flex-1",children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[A.jsx(T_,{size:20,className:"text-orange-500"}),t.title]}),A.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(f5,{size:16}),A.jsx("span",{children:t.companyDisplayName||t.company})]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(JI,{size:16}),A.jsx("span",{children:t.location})]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(Vb,{size:16}),A.jsx("span",{children:s(t.postingDate)})]})]})]})}),A.jsx("div",{className:"mb-4",children:A.jsx("span",{className:"inline-block px-3 py-1 bg-orange-100 text-orange-700 text-xs font-medium rounded-full",children:l(t.employmentTypes)})}),A.jsx("div",{className:"mb-6",children:A.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:u(t.description)})}),t.qualifications&&A.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[A.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Key Qualifications:"}),A.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:u(t.qualifications,150)})]}),A.jsxs("div",{className:"flex gap-3 mt-6",children:[A.jsxs("button",{onClick:()=>e(t),disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-4 py-3 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[A.jsx(b5,{size:18}),r?"Generating...":"Generate Interview"]}),A.jsxs("button",{onClick:()=>n(t),disabled:i,className:"flex-1 flex items-center justify-center gap-2 bg-white hover:bg-gray-50 text-gray-900 border-2 border-gray-300 hover:border-orange-500 px-4 py-3 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[A.jsx(x_,{size:18}),i?"Applying...":"Apply"]})]}),t.applicationInfo?.instruction&&!t.applicationInfo?.uris?.length&&A.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[A.jsx("p",{className:"text-xs font-semibold text-blue-800 mb-1",children:"Application Instructions:"}),A.jsx("p",{className:"text-sm text-blue-700",children:u(t.applicationInfo.instruction,200)})]})]})},E5=({t,jobSearchQuery:e,setJobSearchQuery:n,jobSearchLocation:r,setJobSearchLocation:i,handleJobSearch:s,isSearching:l,searchError:u,searchResults:d,handleGenerateInterview:m,handleApplyToJob:v,generatingJobId:_,applyingJobId:E,customInterviews:P,setActiveInterview:C,setCurrentQuestionIndex:S,setUserAnswers:x})=>A.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:A.jsxs("div",{className:"p-8",children:[A.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.createCustom}),A.jsx("p",{className:"text-gray-600 mb-8",children:"Search for jobs and generate personalized interview prep"}),A.jsxs("div",{className:"bg-white rounded-xl p-6 border shadow-sm mb-8",children:[A.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[A.jsx(T_,{size:20,className:"text-orange-500"}),t.searchJobs]}),A.jsxs("form",{onSubmit:s,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-2",children:t.jobTitle}),A.jsx("input",{type:"text",value:e,onChange:O=>n(O.target.value),placeholder:t.jobSearchPlaceholder,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-1",children:[A.jsx(JI,{size:14}),"Location"]}),A.jsx("input",{type:"text",value:r,onChange:O=>i(O.target.value),placeholder:t.locationPlaceholder,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),A.jsxs("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[A.jsx(GI,{size:18}),l?t.searching:t.searchButton]})]}),u&&A.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:A.jsx("p",{className:"text-sm text-red-700",children:u})}),d.length>0&&A.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[d.length," ",t.jobsFound]})]}),d.length>0&&A.jsxs("div",{className:"mb-8",children:[A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Search Results"}),A.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.map(O=>A.jsx(S5,{job:O,onGenerateInterview:m,onApply:v,isGenerating:_===O.id,isApplying:E===O.id},O.id))})]}),A.jsxs("div",{className:"bg-white rounded-xl p-6 border shadow-sm",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:t.generatedInterviews}),P.length===0?A.jsxs("div",{className:"text-center py-12",children:[A.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:A.jsx(zb,{size:32,className:"text-gray-400"})}),A.jsx("p",{className:"text-gray-500",children:t.noCustomYet}),A.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Search for jobs and generate interviews"})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(O=>A.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 hover:border-orange-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>{C(O),S(0),x([])},children:[A.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[A.jsx(T_,{size:20,className:"text-orange-500 flex-shrink-0 mt-1"}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("h4",{className:"font-semibold text-gray-900 mb-1 truncate",children:O.title}),A.jsx("p",{className:"text-sm text-gray-600 truncate",children:O.company})]})]}),A.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[A.jsxs("span",{children:[O.questions.length," ",t.questions]}),A.jsxs("span",{children:[O.duration_minutes," ",t.minutes]})]}),A.jsx("button",{onClick:j=>{j.stopPropagation(),C(O),S(0),x([])},className:"w-full mt-3 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg text-sm font-medium transition-colors",children:t.startInterview})]},O.id))})]})]})}),C5=({t})=>A.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:A.jsxs("div",{className:"p-8",children:[A.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.yourResults}),A.jsx("p",{className:"text-gray-600 mb-8",children:"Track your progress and improve your skills"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[A.jsxs("div",{className:"bg-white rounded-xl p-6 border",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx(C_,{className:"text-orange-500",size:24}),A.jsx("span",{className:"text-sm text-gray-600",children:t.totalInterviews})]}),A.jsx("p",{className:"text-3xl font-bold",children:"0"})]}),A.jsxs("div",{className:"bg-white rounded-xl p-6 border",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx(Hb,{className:"text-blue-500",size:24}),A.jsx("span",{className:"text-sm text-gray-600",children:"Mock Interviews"})]}),A.jsx("p",{className:"text-3xl font-bold",children:"0"})]}),A.jsxs("div",{className:"bg-white rounded-xl p-6 border",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx(zb,{className:"text-purple-500",size:24}),A.jsx("span",{className:"text-sm text-gray-600",children:t.customInterviews})]}),A.jsx("p",{className:"text-3xl font-bold",children:"0"})]}),A.jsxs("div",{className:"bg-white rounded-xl p-6 border",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx(w5,{className:"text-green-500",size:24}),A.jsxs("span",{className:"text-sm text-gray-600",children:["Avg ",t.score]})]}),A.jsx("p",{className:"text-3xl font-bold",children:"-"})]})]}),A.jsxs("div",{className:"bg-white rounded-xl p-12 border text-center",children:[A.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:A.jsx(C_,{size:40,className:"text-gray-400"})}),A.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.noMockYet}),A.jsx("p",{className:"text-gray-500 mb-6",children:"Complete your first interview to see results here"})]})]})}),T5=({t})=>A.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:A.jsxs("div",{className:"p-8",children:[A.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.billingAccount}),A.jsx("p",{className:"text-gray-600 mb-8",children:"Manage your subscription and payment settings"}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"bg-white rounded-xl p-6 border",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Account Details"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:t.status}),A.jsx("div",{className:"flex items-center gap-2",children:A.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:t.freeTrial})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:t.plan}),A.jsx("p",{className:"text-lg font-semibold",children:"Free Trial"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:t.email}),A.jsx("p",{className:"text-lg",children:"user@example.com"})]})]})]}),A.jsxs("div",{className:"bg-white rounded-xl p-6 border",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upgrade to Premium"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(vd,{className:"text-green-500 flex-shrink-0 mt-1",size:20}),A.jsx("span",{className:"text-gray-700",children:"Unlimited mock interviews"})]}),A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(vd,{className:"text-green-500 flex-shrink-0 mt-1",size:20}),A.jsx("span",{className:"text-gray-700",children:"Advanced AI feedback"})]}),A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(vd,{className:"text-green-500 flex-shrink-0 mt-1",size:20}),A.jsx("span",{className:"text-gray-700",children:"Custom interview templates"})]}),A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(vd,{className:"text-green-500 flex-shrink-0 mt-1",size:20}),A.jsx("span",{className:"text-gray-700",children:"Priority support"})]}),A.jsxs("button",{className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 rounded-lg font-medium flex items-center justify-center gap-2 shadow-md hover:shadow-lg transition-all duration-200 mt-6",children:[A.jsx(HI,{size:18}),t.upgradePremium]})]})]})]})]})}),x5=({interview:t,userInfo:e,onClose:n,t:r})=>{const[i,s]=H.useState(""),[l,u]=H.useState(!0),[d,m]=H.useState(!1),[v,_]=H.useState(!1),[E,P]=H.useState({mic:"prompt",camera:"prompt"}),[C,S]=H.useState(!1),x=H.useRef(null);H.useEffect(()=>{const $="http://127.0.0.1:7860/api".replace("/api","")||"http://0.0.0.0:7860",D={interview_title:t?.title||t?.subTitle||"Interview",interview_company:t?.company||"",interview_difficulty:t?.difficulty||"",interview_duration:t?.duration_minutes||t?.duration||"",interview_category:t?.category||"",user_name:e?.name||"Candidate",user_email:e?.email||"",interview_questions:t?.questions?JSON.stringify(t.questions):"",context:"interview_chat",mode:"voice"},R=new URLSearchParams;Object.entries(D).forEach(([U,G])=>{G&&R.append(U,G)}),s(`${$}?${R.toString()}`)},[t,e]);const O=()=>{window.open(i,"_blank","noopener,noreferrer")};return H.useEffect(()=>()=>{x.current&&x.current.getTracks().forEach(j=>j.stop())},[]),A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:A.jsx(M_,{size:24,className:"text-white"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Chat with JasTalk AI Agent"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Real-time conversation assistance"})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Open in new window",children:[A.jsx(x_,{size:18}),A.jsx("span",{className:"text-sm font-medium",children:"Open External"})]}),A.jsx("button",{onClick:n,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:A.jsx(Jb,{size:24})})]})]}),A.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-200",children:A.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Interview:"}),A.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:t?.title||t?.subTitle||"N/A"})]}),t?.company&&A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Company:"}),A.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:t.company})]}),t?.difficulty&&A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Difficulty:"}),A.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-semibold ${t.difficulty==="Easy"?"bg-green-100 text-green-700":t.difficulty==="Medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:t.difficulty})]})]})}),A.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-200",children:A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center animate-pulse",children:A.jsx("span",{className:"text-2xl",children:"👋"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"🎯 How to Enable Camera & Microphone"}),A.jsxs("div",{className:"space-y-2 mb-3",children:[A.jsxs("p",{className:"text-sm text-gray-700",children:[A.jsx("strong",{className:"text-orange-600",children:"IMPORTANT:"})," The chat will ask for permissions when it loads below. Look for the browser popup and ",A.jsx("strong",{children:'click "Allow"'}),"."]}),A.jsxs("div",{className:"bg-white border-2 border-orange-300 rounded-lg p-3 mt-2",children:[A.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"📸 When you see the permission prompt:"}),A.jsxs("ol",{className:"text-sm text-gray-700 space-y-1 ml-4 list-decimal",children:[A.jsxs("li",{children:["Click the ",A.jsx("strong",{className:"text-green-700",children:'"Allow"'})," button in your browser"]}),A.jsxs("li",{children:["If asked, select ",A.jsx("strong",{className:"text-blue-700",children:'"Always allow"'})," for this site"]}),A.jsx("li",{children:"Wait for the chat to connect (you'll see your video)"}),A.jsxs("li",{children:["Begin by saying ",A.jsx("strong",{className:"text-green-700",children:'"Hey"'})," to start chatting with the ",A.jsx("strong",{className:"text-purple-700",children:"AI Agent"}),", then share which ",A.jsx("strong",{className:"text-orange-700",children:"role"})," you're interested in"]})]})]})]}),A.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[A.jsx("p",{className:"text-xs text-blue-900 font-semibold mb-1",children:"🔧 Troubleshooting:"}),A.jsxs("ul",{className:"text-xs text-blue-800 space-y-1 ml-4 list-disc",children:[A.jsx("li",{children:"If you don't see a permission prompt, look for a camera icon 📷 in your browser's address bar"}),A.jsx("li",{children:'Click the icon and select "Allow" for camera and microphone'}),A.jsx("li",{children:"If blocked, you may need to reload the page after allowing"})]})]})]})]})}),A.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200 flex items-center gap-4",children:[A.jsx("span",{className:"text-sm font-medium text-gray-700",children:"View Mode:"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>u(!0),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Embedded"}),A.jsx("button",{onClick:()=>u(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l?"bg-white text-gray-700 hover:bg-gray-100":"bg-blue-500 text-white"}`,children:"Direct Link"})]})]}),A.jsx("div",{className:"flex-1 overflow-hidden",children:l?A.jsx("iframe",{src:i,className:"w-full h-full border-0",allow:"camera *; microphone *; autoplay; display-capture; speaker-selection",title:"JasTalk AI Agent Chat",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-modals allow-popups-to-escape-sandbox"}):A.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 bg-gray-50",children:[A.jsx(M_,{size:64,className:"text-gray-400 mb-4"}),A.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Open Chat in New Window"}),A.jsx("p",{className:"text-gray-600 mb-6 text-center max-w-md",children:"For the best experience, open the chat in a separate window with full permissions for camera and microphone."}),A.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-lg font-medium shadow-lg hover:shadow-xl transition-all",children:[A.jsx(x_,{size:20}),"Open Chat Window"]}),A.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:["URL: ",i]})]})}),A.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:A.jsx("span",{className:"text-blue-600 text-sm font-bold",children:"💡"})}),A.jsx("div",{className:"flex-1",children:A.jsxs("p",{className:"text-sm text-gray-700",children:[A.jsx("strong",{children:"Tip:"})," Use the AI agent to practice your answers, get instant feedback, or ask questions about the interview process. The agent has full context of your interview."]})})]})})]})})},yA={VITE_PROVIDER:"pipecat"};var _A={};const M5=typeof import.meta<"u"&&yA?yA:{},A5=typeof globalThis<"u"&&globalThis.process&&_A?_A:{};(M5.VITE_PROVIDER||A5.NEXT_PUBLIC_PROVIDER||"pipecat").toLowerCase();const P5=({interview:t,onExit:e,t:n,userInfo:r={}})=>{const i=I_(),[s,l]=H.useState(0),[u,d]=H.useState([]),[m,v]=H.useState(""),[_,E]=H.useState(!1),[P,C]=H.useState(!1),[S,x]=H.useState(!1),[O,j]=H.useState(0),[$,D]=H.useState(""),[R,U]=H.useState(""),G=H.useRef(null),X=()=>{P&&G.current&&G.current.stop(),e?e():i(-1)},oe=()=>{if(!m.trim()&&!u[s]){alert("Please provide an answer before moving to the next question.");return}const ce=[...u];ce[s]=m||u[s]||"",d(ce),s<t.questions.length-1?(l(le=>le+1),v("")):(alert(`Interview completed! You answered ${ce.length} questions. Great job!`),X())};return t?A.jsxs("div",{className:"flex-1 overflow-y-auto bg-gradient-to-br from-gray-50 via-blue-50/40 to-purple-50/40",children:[A.jsxs("div",{className:"max-w-6xl mx-auto p-8",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[A.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300",children:[A.jsx(Jb,{size:20}),A.jsx("span",{className:"font-medium",children:"Close Interview"})]}),A.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:[A.jsx(M_,{size:20}),A.jsx("span",{className:"font-medium",children:"Chat with JasTalk AI"})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl mb-8 border border-gray-100",children:[A.jsx("div",{className:"flex items-start justify-between mb-6",children:A.jsxs("div",{className:"flex-1",children:[A.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:t.title||t.subTitle}),t.company&&A.jsx("p",{className:"text-lg text-gray-600 mb-2",children:t.company}),A.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(Vb,{size:16}),A.jsxs("span",{children:[t.duration_minutes," min"]})]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(y5,{size:16}),A.jsxs("span",{children:[t.questions.length," ",n.questions]})]}),t.difficulty&&A.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${t.difficulty==="Easy"?"bg-green-100 text-green-700":t.difficulty==="Medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:t.difficulty})]})]})}),A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("span",{className:"text-sm font-medium text-gray-700",children:n.progress}),A.jsxs("span",{className:"text-sm text-gray-500",children:[s+1," / ",t.questions.length]})]}),A.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:A.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2.5 rounded-full transition-all duration-500",style:{width:`${(s+1)/t.questions.length*100}%`}})})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl mb-8 border border-gray-100",children:[A.jsxs("div",{className:"mb-6",children:[A.jsxs("div",{className:"inline-block px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full text-sm font-semibold mb-4",children:["Question ",s+1]}),A.jsx("h2",{className:"text-2xl font-bold text-gray-900 leading-relaxed",children:t.questions[s]})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n.yourAnswer}),A.jsx("textarea",{value:m,onChange:ce=>v(ce.target.value),placeholder:n.typeAnswer||"Type your answer here or use voice recording...",rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),A.jsx("div",{className:"flex gap-4",children:A.jsx("button",{onClick:oe,disabled:P,className:`flex-1 py-4 rounded-2xl font-bold transition-all duration-300 shadow-lg text-lg ${P?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white hover:shadow-xl hover:scale-105"}`,children:s<t.questions.length-1?n.nextQuestion:n.finishInterview})})]})]}),t.tips&&A.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6 mb-8",children:[A.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:n.interviewTips}),A.jsx("ul",{className:"space-y-2 text-blue-800",children:t.tips.map((ce,le)=>A.jsxs("li",{className:"flex items-start gap-2",children:[A.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),A.jsx("span",{children:ce})]},le))})]}),A.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-gray-100",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"All Questions"}),A.jsx("div",{className:"space-y-4",children:t.questions.map((ce,le)=>A.jsx("div",{className:`p-4 rounded-xl border transition-all duration-300 ${le===s?"border-blue-500 bg-blue-50":le<s?"border-green-300 bg-green-50":"border-gray-200 bg-gray-50"}`,children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${le===s?"bg-blue-500 text-white":le<s?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:le+1}),A.jsx("p",{className:`flex-1 ${le===s?"text-gray-900 font-medium":"text-gray-700"}`,children:ce}),le<s&&A.jsx("span",{className:"flex-shrink-0 text-green-600 text-sm font-medium",children:"✓ Answered"}),le===s&&A.jsx("span",{className:"flex-shrink-0 text-blue-600 text-sm font-medium",children:"• Current"})]})},le))})]})]}),_&&A.jsx(x5,{interview:t,userInfo:r,onClose:()=>E(!1),t:n})]}):A.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:A.jsxs("div",{className:"p-8",children:[A.jsx("p",{children:"No interview selected"}),A.jsx("button",{onClick:X,className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded-lg",children:"Go Back"})]})})},O5=({children:t,currentLang:e,setCurrentLang:n,showLanguageMenu:r,setShowLanguageMenu:i,sidebarCollapsed:s,setSidebarCollapsed:l,t:u})=>{const d=Ci(),m=v=>d.pathname===v;return A.jsxs("div",{className:"flex h-screen bg-white",children:[A.jsxs("div",{className:`${s?"w-20":"w-64"} bg-white border-r flex flex-col transition-all duration-300 relative`,children:[A.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[!s&&A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-orange-500 to-orange-600 bg-clip-text text-transparent",children:"JasTalk"}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"AI Interview Agent"})]}),A.jsx("button",{onClick:()=>l(!s),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s?A.jsx(v5,{size:20}):A.jsx(Jb,{size:20})})]}),A.jsx("div",{className:"px-4 py-3 border-b",children:A.jsxs("div",{className:"relative",children:[A.jsxs("button",{onClick:()=>i(!r),className:`${s?"w-12 h-12 justify-center":"w-full"} flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-100 transition-colors`,children:[A.jsx(m5,{size:20,className:"text-gray-600"}),!s&&A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:e==="en"?"English":e==="zh"?"中文":"Español"}),A.jsx(p5,{size:16,className:`text-gray-400 transition-transform ${r?"rotate-180":""}`})]})]}),r&&A.jsxs("div",{className:`absolute ${s?"left-full ml-2":"left-0 right-0"} top-full mt-1 bg-white border rounded-lg shadow-lg overflow-hidden z-50`,children:[A.jsxs("button",{onClick:()=>{n("en"),i(!1)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gray-50 transition-colors flex items-center gap-3",children:[A.jsx("span",{className:"text-lg",children:"🇬🇧"}),!s&&A.jsx("span",{children:"English"})]}),A.jsxs("button",{onClick:()=>{n("zh"),i(!1)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gray-50 transition-colors flex items-center gap-3",children:[A.jsx("span",{className:"text-lg",children:"🇨🇳"}),!s&&A.jsx("span",{children:"中文"})]}),A.jsxs("button",{onClick:()=>{n("es"),i(!1)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gray-50 transition-colors flex items-center gap-3",children:[A.jsx("span",{className:"text-lg",children:"🇪🇸"}),!s&&A.jsx("span",{children:"Español"})]})]})]})}),A.jsxs("nav",{className:"flex-1 p-4 overflow-y-auto",children:[A.jsx("div",{className:"mb-2",children:!s&&A.jsx("p",{className:"px-3 text-xs font-semibold text-gray-400 mb-2",children:u.mainMenu})}),A.jsxs(io,{to:"/",className:`w-full flex items-center ${s?"justify-center":"gap-3"} px-4 py-3 rounded-lg mb-2 transition-colors ${m("/")?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,title:s?u.mockInterviews:"",children:[A.jsx(Hb,{size:20}),!s&&A.jsx("span",{className:"font-medium",children:u.mockInterviews})]}),A.jsxs(io,{to:"/custom",className:`w-full flex items-center ${s?"justify-center":"gap-3"} px-4 py-3 rounded-lg mb-2 transition-colors ${m("/custom")?"bg-orange-500 text-white":"text-gray-700 hover:bg-gray-100"}`,title:s?u.customInterviews:"",children:[A.jsx(zb,{size:20}),!s&&A.jsx("span",{className:"font-medium",children:u.customInterviews})]}),A.jsxs(io,{to:"/results",className:`w-full flex items-center ${s?"justify-center":"gap-3"} px-4 py-3 rounded-lg mb-2 transition-colors ${m("/results")?"bg-orange-400 text-white":"text-gray-700 hover:bg-gray-100"}`,title:s?u.results:"",children:[A.jsx(C_,{size:20}),!s&&A.jsx("span",{className:"font-medium",children:u.results})]}),A.jsxs(io,{to:"/billing",className:`w-full flex items-center ${s?"justify-center":"gap-3"} px-4 py-3 rounded-lg mb-2 transition-colors ${m("/billing")?"bg-green-500 text-white":"text-gray-700 hover:bg-gray-100"}`,title:s?u.billing:"",children:[A.jsx(HI,{size:20}),!s&&A.jsx("span",{className:"font-medium",children:u.billing})]})]}),A.jsx("div",{className:"p-4 border-t",children:A.jsxs("button",{className:`w-full flex items-center ${s?"justify-center":"gap-3"} px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors`,children:[A.jsx(g5,{size:20}),!s&&A.jsx("span",{className:"font-medium",children:u.signOut})]})})]}),t]})},j5=()=>{const[t,e]=H.useState("en"),[n,r]=H.useState(!1),[i,s]=H.useState(!1),[l,u]=H.useState({}),[d,m]=H.useState(null),[v,_]=H.useState(null),[E,P]=H.useState(0),[C,S]=H.useState([]),[x,O]=H.useState(""),[j,$]=H.useState(""),[D,R]=H.useState([]),[U,G]=H.useState(!1),[X,oe]=H.useState(null),[ce,le]=H.useState(null),[Be,He]=H.useState(null),[st,Tt]=H.useState([]),[ot]=H.useState({name:"Candidate",email:""});H.useEffect(()=>{const p={};for(const[y,w]of Object.entries(a5))Array.isArray(w)&&(p[y]=w);u(p)},[]);const qe={Software:{icon:"💻",color:"from-blue-400 to-cyan-400",bgColor:"bg-gradient-to-br from-blue-50 to-cyan-50",borderColor:"border-blue-200"},"Data Science":{icon:"📊",color:"from-purple-400 to-pink-400",bgColor:"bg-gradient-to-br from-purple-50 to-pink-50",borderColor:"border-purple-200"},Design:{icon:"🎨",color:"from-pink-400 to-rose-400",bgColor:"bg-gradient-to-br from-pink-50 to-rose-50",borderColor:"border-pink-200"},Finance:{icon:"💰",color:"from-green-400 to-emerald-400",bgColor:"bg-gradient-to-br from-green-50 to-emerald-50",borderColor:"border-green-200"},Legal:{icon:"⚖️",color:"from-gray-400 to-slate-400",bgColor:"bg-gradient-to-br from-gray-50 to-slate-50",borderColor:"border-gray-200"},Media:{icon:"📺",color:"from-red-400 to-orange-400",bgColor:"bg-gradient-to-br from-red-50 to-orange-50",borderColor:"border-red-200"},Engineering:{icon:"⚙️",color:"from-yellow-400 to-amber-400",bgColor:"bg-gradient-to-br from-yellow-50 to-amber-50",borderColor:"border-yellow-200"},Marketing:{icon:"📈",color:"from-indigo-400 to-blue-400",bgColor:"bg-gradient-to-br from-indigo-50 to-blue-50",borderColor:"border-indigo-200"},Product:{icon:"📦",color:"from-cyan-400 to-teal-400",bgColor:"bg-gradient-to-br from-cyan-50 to-teal-50",borderColor:"border-cyan-200"},Writing:{icon:"✍️",color:"from-orange-400 to-red-400",bgColor:"bg-gradient-to-br from-orange-50 to-red-50",borderColor:"border-orange-200"},Business:{icon:"💼",color:"from-teal-400 to-green-400",bgColor:"bg-gradient-to-br from-teal-50 to-green-50",borderColor:"border-teal-200"},Consulting:{icon:"🤝",color:"from-lime-400 to-green-400",bgColor:"bg-gradient-to-br from-lime-50 to-green-50",borderColor:"border-lime-200"}},ue=Object.keys(l).reduce((p,y,w)=>{const T=qe[y]||{icon:"📁",color:"from-gray-400 to-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"};return p[y]={id:w+1,name:y,positions:l[y]?.length||0,...T,interviews:l[y]||[]},p},{}),de=(()=>{const p={en:{mainMenu:"MAIN MENU",mockInterviews:"Mock Interviews",customInterviews:"Custom Interviews",results:"Results",billing:"Billing",signOut:"Sign Out",chooseRoles:"Choose from",careerRoles:"career roles",searchPlaceholder:"Search career roles or keywords...",categoriesFound:"categories found",positions:"positions",exploreInterviews:"Explore Interviews",backToCategories:"Back to Categories",startInterview:"Start Interview",minutes:"min",questions:"questions",createCustom:"Create Custom Interviews",searchJobs:"Search Jobs",jobTitle:"Job Title",jobSearchPlaceholder:"Enter job title or keywords...",locationPlaceholder:"Location (optional)",searchButton:"Search",searching:"Searching...",jobsFound:"jobs found",noJobsFound:"No jobs found",generatedInterviews:"Generated Interviews",noCustomYet:"No custom interviews yet",yourResults:"Your Results",totalInterviews:"Total Interviews",score:"Score",noMockYet:"No mock interviews yet",billingAccount:"Billing & Account",status:"Status",plan:"Plan",upgradePremium:"Upgrade to Premium",email:"Email",freeTrial:"Free Trial"},zh:{mainMenu:"主菜单",mockInterviews:"模拟面试",customInterviews:"自定义面试",results:"结果",billing:"订阅",signOut:"退出登录",chooseRoles:"选择",careerRoles:"个职位角色",searchPlaceholder:"搜索职位或关键词...",categoriesFound:"个分类",positions:"个职位",exploreInterviews:"探索面试",backToCategories:"返回分类",startInterview:"开始面试",minutes:"分钟",questions:"个问题",createCustom:"创建自定义面试",searchJobs:"搜索职位",jobTitle:"职位名称",jobSearchPlaceholder:"输入职位名称或关键词...",locationPlaceholder:"地点（可选）",searchButton:"搜索",searching:"搜索中...",jobsFound:"个职位",noJobsFound:"未找到职位",generatedInterviews:"已生成面试",noCustomYet:"还没有自定义面试",yourResults:"您的结果",totalInterviews:"总面试次数",score:"得分",noMockYet:"还没有模拟面试",billingAccount:"账单与账户",status:"状态",plan:"计划",upgradePremium:"升级至高级版",email:"邮箱",freeTrial:"免费试用"},es:{mainMenu:"MENÚ PRINCIPAL",mockInterviews:"Entrevistas Simuladas",customInterviews:"Entrevistas Personalizadas",results:"Resultados",billing:"Facturación",signOut:"Cerrar Sesión",chooseRoles:"Elige entre",careerRoles:"roles profesionales",searchPlaceholder:"Buscar roles o palabras clave...",categoriesFound:"categorías encontradas",positions:"posiciones",exploreInterviews:"Explorar Entrevistas",backToCategories:"Volver",startInterview:"Iniciar",minutes:"min",questions:"preguntas",createCustom:"Crear Personalizadas",searchJobs:"Buscar Empleos",jobTitle:"Título",jobSearchPlaceholder:"Título o palabras clave...",locationPlaceholder:"Ubicación (opcional)",searchButton:"Buscar",searching:"Buscando...",jobsFound:"empleos encontrados",noJobsFound:"No se encontraron empleos",generatedInterviews:"Entrevistas Generadas",noCustomYet:"Sin entrevistas",yourResults:"Resultados",totalInterviews:"Total",score:"Puntuación",noMockYet:"Sin entrevistas",billingAccount:"Facturación",status:"Estado",plan:"Plan",upgradePremium:"Actualizar a Premium",email:"Email",freeTrial:"Prueba Gratuita"}};return p[t]||p.en})(),q=async p=>{if(p?.preventDefault(),!x.trim()){oe("Please enter a job title or keyword");return}G(!0),oe(null);try{const y=await o5({query:x,location:j,pageSize:20});R(y.jobs),y.jobs.length===0&&oe("No jobs found. Try different keywords or location.")}catch(y){console.error("Job search error:",y),oe(y.message||"Failed to search jobs. Please check your API configuration.")}finally{G(!1)}},Y=async p=>{try{le(p.id);const y={id:`custom-${Date.now()}`,title:p.title,company:p.companyDisplayName||p.company,source:"job-search",jobId:p.id,difficulty:"Medium",duration_minutes:30,questions:o(p),createdAt:new Date().toISOString()};Tt(w=>[y,...w]),console.log("Interview generated successfully!",y)}catch(y){console.error("Error generating interview:",y),alert("Failed to generate interview. Please try again.")}finally{le(null)}},o=p=>{const y=p.title,w=p.description?.replace(/<[^>]*>/g,"")||"",T=[`Tell me about your experience with ${y} roles. What makes you a good fit for this position?`,"This role requires specific qualifications. Can you walk me through your relevant experience?",`What interests you most about this ${y} position at ${p.companyDisplayName||p.company}?`,"Can you describe a challenging project you've worked on that relates to the responsibilities in this role?","How would you approach the key responsibilities mentioned in this job description?"];return(w.toLowerCase().includes("software")||w.toLowerCase().includes("engineer")||w.toLowerCase().includes("developer"))&&T.push("Can you walk me through a complex technical problem you solved recently?","How do you stay updated with the latest technologies in your field?"),(y.toLowerCase().includes("senior")||y.toLowerCase().includes("lead")||y.toLowerCase().includes("manager"))&&T.push("How do you approach mentoring junior team members?","Describe your leadership style and how you handle team conflicts."),T.slice(0,8)},f=async p=>{try{He(p.id);const y=await c5({jobId:p.id,applicationInfo:p.applicationInfo});y.success?y.method==="redirect"?console.log("Application URL opened:",y.url):y.method==="email"?console.log("Email application initiated:",y.email):y.method==="instruction"&&alert(`Application Instructions:

${y.instruction}`):alert(y.error||"Unable to apply to this job")}catch(y){console.error("Error applying to job:",y),alert("Failed to process application. Please try again.")}finally{He(null)}};return A.jsx(mR,{children:A.jsx(O5,{currentLang:t,setCurrentLang:e,showLanguageMenu:n,setShowLanguageMenu:r,sidebarCollapsed:i,setSidebarCollapsed:s,t:de,children:v?A.jsx(P5,{interview:v,userInfo:ot,onExit:()=>{_(null),P(0),S([])},t:de}):A.jsxs(HD,{children:[A.jsx(eo,{path:"/",element:A.jsx(k5,{t:de,currentLang:t,interviewCategories:ue,selectedCategory:d,setSelectedCategory:m,setActiveInterview:_,setCurrentQuestionIndex:P,setUserAnswers:S})}),A.jsx(eo,{path:"/custom",element:A.jsx(E5,{t:de,jobSearchQuery:x,setJobSearchQuery:O,jobSearchLocation:j,setJobSearchLocation:$,handleJobSearch:q,isSearching:U,searchError:X,searchResults:D,handleGenerateInterview:Y,handleApplyToJob:f,generatingJobId:ce,applyingJobId:Be,customInterviews:st,setActiveInterview:_,setCurrentQuestionIndex:P,setUserAnswers:S})}),A.jsx(eo,{path:"/results",element:A.jsx(C5,{t:de})}),A.jsx(eo,{path:"/billing",element:A.jsx(T5,{t:de})}),A.jsx(eo,{path:"*",element:A.jsx(VD,{to:"/",replace:!0})})]})})})},I5=tD.createRoot(document.getElementById("root"));I5.render(A.jsx(GN.StrictMode,{children:A.jsx(j5,{})}));
